import{b as ra,g as xn,r as Tm,c as wn}from"./vendor-react-ct-CAwUapz0.js";import{r as oe,c as Bh}from"./vendor-router-ct-BB8Y4j0d.js";import{j as F2}from"./vendor-ui-ct-ABMK-9n4.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="005e789d-adc6-4602-90ea-5c6c7cb8ff55",e._sentryDebugIdIdentifier="sentry-dbid-005e789d-adc6-4602-90ea-5c6c7cb8ff55")}catch{}const U2={},z2=Object.freeze(Object.defineProperty({__proto__:null,default:U2},Symbol.toStringTag,{value:"Module"})),A7=ra(z2);var tl={},Us={},ap;function j2(){if(ap)return Us;ap=1,Us.byteLength=a,Us.toByteArray=u,Us.fromByteArray=d;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function o(p){var b=p.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=p.indexOf("=");y===-1&&(y=b);var w=y===b?0:4-y%4;return[y,w]}function a(p){var b=o(p),y=b[0],w=b[1];return(y+w)*3/4-w}function c(p,b,y){return(b+y)*3/4-y}function u(p){var b,y=o(p),w=y[0],A=y[1],B=new n(c(p,w,A)),_=0,M=A>0?w-4:w,I;for(I=0;I<M;I+=4)b=t[p.charCodeAt(I)]<<18|t[p.charCodeAt(I+1)]<<12|t[p.charCodeAt(I+2)]<<6|t[p.charCodeAt(I+3)],B[_++]=b>>16&255,B[_++]=b>>8&255,B[_++]=b&255;return A===2&&(b=t[p.charCodeAt(I)]<<2|t[p.charCodeAt(I+1)]>>4,B[_++]=b&255),A===1&&(b=t[p.charCodeAt(I)]<<10|t[p.charCodeAt(I+1)]<<4|t[p.charCodeAt(I+2)]>>2,B[_++]=b>>8&255,B[_++]=b&255),B}function l(p){return e[p>>18&63]+e[p>>12&63]+e[p>>6&63]+e[p&63]}function f(p,b,y){for(var w,A=[],B=b;B<y;B+=3)w=(p[B]<<16&16711680)+(p[B+1]<<8&65280)+(p[B+2]&255),A.push(l(w));return A.join("")}function d(p){for(var b,y=p.length,w=y%3,A=[],B=16383,_=0,M=y-w;_<M;_+=B)A.push(f(p,_,_+B>M?M:_+B));return w===1?(b=p[y-1],A.push(e[b>>2]+e[b<<4&63]+"==")):w===2&&(b=(p[y-2]<<8)+p[y-1],A.push(e[b>>10]+e[b>>4&63]+e[b<<2&63]+"=")),A.join("")}return Us}var Ma={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var cp;function W2(){return cp||(cp=1,Ma.read=function(e,t,n,r,i){var s,o,a=i*8-r-1,c=(1<<a)-1,u=c>>1,l=-7,f=n?i-1:0,d=n?-1:1,p=e[t+f];for(f+=d,s=p&(1<<-l)-1,p>>=-l,l+=a;l>0;s=s*256+e[t+f],f+=d,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=o*256+e[t+f],f+=d,l-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(p?-1:1)*o*Math.pow(2,s-r)},Ma.write=function(e,t,n,r,i,s){var o,a,c,u=s*8-i-1,l=(1<<u)-1,f=l>>1,d=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,b=r?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?t+=d/c:t+=d*Math.pow(2,1-f),t*c>=2&&(o++,c/=2),o+f>=l?(a=0,o=l):o+f>=1?(a=(t*c-1)*Math.pow(2,i),o=o+f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[n+p]=a&255,p+=b,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[n+p]=o&255,p+=b,o/=256,u-=8);e[n+p-b]|=y*128}),Ma}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var up;function ia(){return up||(up=1,(function(e){const t=j2(),n=W2(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=B,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const L=new Uint8Array(1),x={foo:function(){return 42}};return Object.setPrototypeOf(x,Uint8Array.prototype),Object.setPrototypeOf(L,x),L.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(L){if(L>i)throw new RangeError('The value "'+L+'" is invalid for option "size"');const x=new Uint8Array(L);return Object.setPrototypeOf(x,a.prototype),x}function a(L,x,S){if(typeof L=="number"){if(typeof x=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(L)}return c(L,x,S)}a.poolSize=8192;function c(L,x,S){if(typeof L=="string")return d(L,x);if(ArrayBuffer.isView(L))return b(L);if(L==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L);if(Nt(L,ArrayBuffer)||L&&Nt(L.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Nt(L,SharedArrayBuffer)||L&&Nt(L.buffer,SharedArrayBuffer)))return y(L,x,S);if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const q=L.valueOf&&L.valueOf();if(q!=null&&q!==L)return a.from(q,x,S);const G=w(L);if(G)return G;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return a.from(L[Symbol.toPrimitive]("string"),x,S);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof L)}a.from=function(L,x,S){return c(L,x,S)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function l(L,x,S){return u(L),L<=0?o(L):x!==void 0?typeof S=="string"?o(L).fill(x,S):o(L).fill(x):o(L)}a.alloc=function(L,x,S){return l(L,x,S)};function f(L){return u(L),o(L<0?0:A(L)|0)}a.allocUnsafe=function(L){return f(L)},a.allocUnsafeSlow=function(L){return f(L)};function d(L,x){if((typeof x!="string"||x==="")&&(x="utf8"),!a.isEncoding(x))throw new TypeError("Unknown encoding: "+x);const S=_(L,x)|0;let q=o(S);const G=q.write(L,x);return G!==S&&(q=q.slice(0,G)),q}function p(L){const x=L.length<0?0:A(L.length)|0,S=o(x);for(let q=0;q<x;q+=1)S[q]=L[q]&255;return S}function b(L){if(Nt(L,Uint8Array)){const x=new Uint8Array(L);return y(x.buffer,x.byteOffset,x.byteLength)}return p(L)}function y(L,x,S){if(x<0||L.byteLength<x)throw new RangeError('"offset" is outside of buffer bounds');if(L.byteLength<x+(S||0))throw new RangeError('"length" is outside of buffer bounds');let q;return x===void 0&&S===void 0?q=new Uint8Array(L):S===void 0?q=new Uint8Array(L,x):q=new Uint8Array(L,x,S),Object.setPrototypeOf(q,a.prototype),q}function w(L){if(a.isBuffer(L)){const x=A(L.length)|0,S=o(x);return S.length===0||L.copy(S,0,0,x),S}if(L.length!==void 0)return typeof L.length!="number"||Le(L.length)?o(0):p(L);if(L.type==="Buffer"&&Array.isArray(L.data))return p(L.data)}function A(L){if(L>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return L|0}function B(L){return+L!=L&&(L=0),a.alloc(+L)}a.isBuffer=function(x){return x!=null&&x._isBuffer===!0&&x!==a.prototype},a.compare=function(x,S){if(Nt(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),Nt(S,Uint8Array)&&(S=a.from(S,S.offset,S.byteLength)),!a.isBuffer(x)||!a.isBuffer(S))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(x===S)return 0;let q=x.length,G=S.length;for(let Z=0,X=Math.min(q,G);Z<X;++Z)if(x[Z]!==S[Z]){q=x[Z],G=S[Z];break}return q<G?-1:G<q?1:0},a.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(x,S){if(!Array.isArray(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return a.alloc(0);let q;if(S===void 0)for(S=0,q=0;q<x.length;++q)S+=x[q].length;const G=a.allocUnsafe(S);let Z=0;for(q=0;q<x.length;++q){let X=x[q];if(Nt(X,Uint8Array))Z+X.length>G.length?(a.isBuffer(X)||(X=a.from(X)),X.copy(G,Z)):Uint8Array.prototype.set.call(G,X,Z);else if(a.isBuffer(X))X.copy(G,Z);else throw new TypeError('"list" argument must be an Array of Buffers');Z+=X.length}return G};function _(L,x){if(a.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||Nt(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof L);const S=L.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&S===0)return 0;let G=!1;for(;;)switch(x){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":return Te(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S*2;case"hex":return S>>>1;case"base64":return ke(L).length;default:if(G)return q?-1:Te(L).length;x=(""+x).toLowerCase(),G=!0}}a.byteLength=_;function M(L,x,S){let q=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((S===void 0||S>this.length)&&(S=this.length),S<=0)||(S>>>=0,x>>>=0,S<=x))return"";for(L||(L="utf8");;)switch(L){case"hex":return $(this,x,S);case"utf8":case"utf-8":return h(this,x,S);case"ascii":return R(this,x,S);case"latin1":case"binary":return O(this,x,S);case"base64":return P(this,x,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,x,S);default:if(q)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),q=!0}}a.prototype._isBuffer=!0;function I(L,x,S){const q=L[x];L[x]=L[S],L[S]=q}a.prototype.swap16=function(){const x=this.length;if(x%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let S=0;S<x;S+=2)I(this,S,S+1);return this},a.prototype.swap32=function(){const x=this.length;if(x%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let S=0;S<x;S+=4)I(this,S,S+3),I(this,S+1,S+2);return this},a.prototype.swap64=function(){const x=this.length;if(x%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let S=0;S<x;S+=8)I(this,S,S+7),I(this,S+1,S+6),I(this,S+2,S+5),I(this,S+3,S+4);return this},a.prototype.toString=function(){const x=this.length;return x===0?"":arguments.length===0?h(this,0,x):M.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(x){if(!a.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:a.compare(this,x)===0},a.prototype.inspect=function(){let x="";const S=e.INSPECT_MAX_BYTES;return x=this.toString("hex",0,S).replace(/(.{2})/g,"$1 ").trim(),this.length>S&&(x+=" ... "),"<Buffer "+x+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(x,S,q,G,Z){if(Nt(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),!a.isBuffer(x))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof x);if(S===void 0&&(S=0),q===void 0&&(q=x?x.length:0),G===void 0&&(G=0),Z===void 0&&(Z=this.length),S<0||q>x.length||G<0||Z>this.length)throw new RangeError("out of range index");if(G>=Z&&S>=q)return 0;if(G>=Z)return-1;if(S>=q)return 1;if(S>>>=0,q>>>=0,G>>>=0,Z>>>=0,this===x)return 0;let X=Z-G,Se=q-S;const _e=Math.min(X,Se),Ee=this.slice(G,Z),qe=x.slice(S,q);for(let be=0;be<_e;++be)if(Ee[be]!==qe[be]){X=Ee[be],Se=qe[be];break}return X<Se?-1:Se<X?1:0};function C(L,x,S,q,G){if(L.length===0)return-1;if(typeof S=="string"?(q=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),S=+S,Le(S)&&(S=G?0:L.length-1),S<0&&(S=L.length+S),S>=L.length){if(G)return-1;S=L.length-1}else if(S<0)if(G)S=0;else return-1;if(typeof x=="string"&&(x=a.from(x,q)),a.isBuffer(x))return x.length===0?-1:k(L,x,S,q,G);if(typeof x=="number")return x=x&255,typeof Uint8Array.prototype.indexOf=="function"?G?Uint8Array.prototype.indexOf.call(L,x,S):Uint8Array.prototype.lastIndexOf.call(L,x,S):k(L,[x],S,q,G);throw new TypeError("val must be string, number or Buffer")}function k(L,x,S,q,G){let Z=1,X=L.length,Se=x.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(L.length<2||x.length<2)return-1;Z=2,X/=2,Se/=2,S/=2}function _e(qe,be){return Z===1?qe[be]:qe.readUInt16BE(be*Z)}let Ee;if(G){let qe=-1;for(Ee=S;Ee<X;Ee++)if(_e(L,Ee)===_e(x,qe===-1?0:Ee-qe)){if(qe===-1&&(qe=Ee),Ee-qe+1===Se)return qe*Z}else qe!==-1&&(Ee-=Ee-qe),qe=-1}else for(S+Se>X&&(S=X-Se),Ee=S;Ee>=0;Ee--){let qe=!0;for(let be=0;be<Se;be++)if(_e(L,Ee+be)!==_e(x,be)){qe=!1;break}if(qe)return Ee}return-1}a.prototype.includes=function(x,S,q){return this.indexOf(x,S,q)!==-1},a.prototype.indexOf=function(x,S,q){return C(this,x,S,q,!0)},a.prototype.lastIndexOf=function(x,S,q){return C(this,x,S,q,!1)};function z(L,x,S,q){S=Number(S)||0;const G=L.length-S;q?(q=Number(q),q>G&&(q=G)):q=G;const Z=x.length;q>Z/2&&(q=Z/2);let X;for(X=0;X<q;++X){const Se=parseInt(x.substr(X*2,2),16);if(Le(Se))return X;L[S+X]=Se}return X}function N(L,x,S,q){return Re(Te(x,L.length-S),L,S,q)}function U(L,x,S,q){return Re(Fe(x),L,S,q)}function W(L,x,S,q){return Re(ke(x),L,S,q)}function H(L,x,S,q){return Re(Vn(x,L.length-S),L,S,q)}a.prototype.write=function(x,S,q,G){if(S===void 0)G="utf8",q=this.length,S=0;else if(q===void 0&&typeof S=="string")G=S,q=this.length,S=0;else if(isFinite(S))S=S>>>0,isFinite(q)?(q=q>>>0,G===void 0&&(G="utf8")):(G=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Z=this.length-S;if((q===void 0||q>Z)&&(q=Z),x.length>0&&(q<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");G||(G="utf8");let X=!1;for(;;)switch(G){case"hex":return z(this,x,S,q);case"utf8":case"utf-8":return N(this,x,S,q);case"ascii":case"latin1":case"binary":return U(this,x,S,q);case"base64":return W(this,x,S,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,x,S,q);default:if(X)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),X=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(L,x,S){return x===0&&S===L.length?t.fromByteArray(L):t.fromByteArray(L.slice(x,S))}function h(L,x,S){S=Math.min(L.length,S);const q=[];let G=x;for(;G<S;){const Z=L[G];let X=null,Se=Z>239?4:Z>223?3:Z>191?2:1;if(G+Se<=S){let _e,Ee,qe,be;switch(Se){case 1:Z<128&&(X=Z);break;case 2:_e=L[G+1],(_e&192)===128&&(be=(Z&31)<<6|_e&63,be>127&&(X=be));break;case 3:_e=L[G+1],Ee=L[G+2],(_e&192)===128&&(Ee&192)===128&&(be=(Z&15)<<12|(_e&63)<<6|Ee&63,be>2047&&(be<55296||be>57343)&&(X=be));break;case 4:_e=L[G+1],Ee=L[G+2],qe=L[G+3],(_e&192)===128&&(Ee&192)===128&&(qe&192)===128&&(be=(Z&15)<<18|(_e&63)<<12|(Ee&63)<<6|qe&63,be>65535&&be<1114112&&(X=be))}}X===null?(X=65533,Se=1):X>65535&&(X-=65536,q.push(X>>>10&1023|55296),X=56320|X&1023),q.push(X),G+=Se}return E(q)}const g=4096;function E(L){const x=L.length;if(x<=g)return String.fromCharCode.apply(String,L);let S="",q=0;for(;q<x;)S+=String.fromCharCode.apply(String,L.slice(q,q+=g));return S}function R(L,x,S){let q="";S=Math.min(L.length,S);for(let G=x;G<S;++G)q+=String.fromCharCode(L[G]&127);return q}function O(L,x,S){let q="";S=Math.min(L.length,S);for(let G=x;G<S;++G)q+=String.fromCharCode(L[G]);return q}function $(L,x,S){const q=L.length;(!x||x<0)&&(x=0),(!S||S<0||S>q)&&(S=q);let G="";for(let Z=x;Z<S;++Z)G+=je[L[Z]];return G}function F(L,x,S){const q=L.slice(x,S);let G="";for(let Z=0;Z<q.length-1;Z+=2)G+=String.fromCharCode(q[Z]+q[Z+1]*256);return G}a.prototype.slice=function(x,S){const q=this.length;x=~~x,S=S===void 0?q:~~S,x<0?(x+=q,x<0&&(x=0)):x>q&&(x=q),S<0?(S+=q,S<0&&(S=0)):S>q&&(S=q),S<x&&(S=x);const G=this.subarray(x,S);return Object.setPrototypeOf(G,a.prototype),G};function T(L,x,S){if(L%1!==0||L<0)throw new RangeError("offset is not uint");if(L+x>S)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(x,S,q){x=x>>>0,S=S>>>0,q||T(x,S,this.length);let G=this[x],Z=1,X=0;for(;++X<S&&(Z*=256);)G+=this[x+X]*Z;return G},a.prototype.readUintBE=a.prototype.readUIntBE=function(x,S,q){x=x>>>0,S=S>>>0,q||T(x,S,this.length);let G=this[x+--S],Z=1;for(;S>0&&(Z*=256);)G+=this[x+--S]*Z;return G},a.prototype.readUint8=a.prototype.readUInt8=function(x,S){return x=x>>>0,S||T(x,1,this.length),this[x]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(x,S){return x=x>>>0,S||T(x,2,this.length),this[x]|this[x+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(x,S){return x=x>>>0,S||T(x,2,this.length),this[x]<<8|this[x+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(x,S){return x=x>>>0,S||T(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(x,S){return x=x>>>0,S||T(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},a.prototype.readBigUInt64LE=Qt(function(x){x=x>>>0,Oe(x,"offset");const S=this[x],q=this[x+7];(S===void 0||q===void 0)&&xe(x,this.length-8);const G=S+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24,Z=this[++x]+this[++x]*2**8+this[++x]*2**16+q*2**24;return BigInt(G)+(BigInt(Z)<<BigInt(32))}),a.prototype.readBigUInt64BE=Qt(function(x){x=x>>>0,Oe(x,"offset");const S=this[x],q=this[x+7];(S===void 0||q===void 0)&&xe(x,this.length-8);const G=S*2**24+this[++x]*2**16+this[++x]*2**8+this[++x],Z=this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+q;return(BigInt(G)<<BigInt(32))+BigInt(Z)}),a.prototype.readIntLE=function(x,S,q){x=x>>>0,S=S>>>0,q||T(x,S,this.length);let G=this[x],Z=1,X=0;for(;++X<S&&(Z*=256);)G+=this[x+X]*Z;return Z*=128,G>=Z&&(G-=Math.pow(2,8*S)),G},a.prototype.readIntBE=function(x,S,q){x=x>>>0,S=S>>>0,q||T(x,S,this.length);let G=S,Z=1,X=this[x+--G];for(;G>0&&(Z*=256);)X+=this[x+--G]*Z;return Z*=128,X>=Z&&(X-=Math.pow(2,8*S)),X},a.prototype.readInt8=function(x,S){return x=x>>>0,S||T(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},a.prototype.readInt16LE=function(x,S){x=x>>>0,S||T(x,2,this.length);const q=this[x]|this[x+1]<<8;return q&32768?q|4294901760:q},a.prototype.readInt16BE=function(x,S){x=x>>>0,S||T(x,2,this.length);const q=this[x+1]|this[x]<<8;return q&32768?q|4294901760:q},a.prototype.readInt32LE=function(x,S){return x=x>>>0,S||T(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},a.prototype.readInt32BE=function(x,S){return x=x>>>0,S||T(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},a.prototype.readBigInt64LE=Qt(function(x){x=x>>>0,Oe(x,"offset");const S=this[x],q=this[x+7];(S===void 0||q===void 0)&&xe(x,this.length-8);const G=this[x+4]+this[x+5]*2**8+this[x+6]*2**16+(q<<24);return(BigInt(G)<<BigInt(32))+BigInt(S+this[++x]*2**8+this[++x]*2**16+this[++x]*2**24)}),a.prototype.readBigInt64BE=Qt(function(x){x=x>>>0,Oe(x,"offset");const S=this[x],q=this[x+7];(S===void 0||q===void 0)&&xe(x,this.length-8);const G=(S<<24)+this[++x]*2**16+this[++x]*2**8+this[++x];return(BigInt(G)<<BigInt(32))+BigInt(this[++x]*2**24+this[++x]*2**16+this[++x]*2**8+q)}),a.prototype.readFloatLE=function(x,S){return x=x>>>0,S||T(x,4,this.length),n.read(this,x,!0,23,4)},a.prototype.readFloatBE=function(x,S){return x=x>>>0,S||T(x,4,this.length),n.read(this,x,!1,23,4)},a.prototype.readDoubleLE=function(x,S){return x=x>>>0,S||T(x,8,this.length),n.read(this,x,!0,52,8)},a.prototype.readDoubleBE=function(x,S){return x=x>>>0,S||T(x,8,this.length),n.read(this,x,!1,52,8)};function m(L,x,S,q,G,Z){if(!a.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>G||x<Z)throw new RangeError('"value" argument is out of bounds');if(S+q>L.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(x,S,q,G){if(x=+x,S=S>>>0,q=q>>>0,!G){const Se=Math.pow(2,8*q)-1;m(this,x,S,q,Se,0)}let Z=1,X=0;for(this[S]=x&255;++X<q&&(Z*=256);)this[S+X]=x/Z&255;return S+q},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(x,S,q,G){if(x=+x,S=S>>>0,q=q>>>0,!G){const Se=Math.pow(2,8*q)-1;m(this,x,S,q,Se,0)}let Z=q-1,X=1;for(this[S+Z]=x&255;--Z>=0&&(X*=256);)this[S+Z]=x/X&255;return S+q},a.prototype.writeUint8=a.prototype.writeUInt8=function(x,S,q){return x=+x,S=S>>>0,q||m(this,x,S,1,255,0),this[S]=x&255,S+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(x,S,q){return x=+x,S=S>>>0,q||m(this,x,S,2,65535,0),this[S]=x&255,this[S+1]=x>>>8,S+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(x,S,q){return x=+x,S=S>>>0,q||m(this,x,S,2,65535,0),this[S]=x>>>8,this[S+1]=x&255,S+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(x,S,q){return x=+x,S=S>>>0,q||m(this,x,S,4,4294967295,0),this[S+3]=x>>>24,this[S+2]=x>>>16,this[S+1]=x>>>8,this[S]=x&255,S+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(x,S,q){return x=+x,S=S>>>0,q||m(this,x,S,4,4294967295,0),this[S]=x>>>24,this[S+1]=x>>>16,this[S+2]=x>>>8,this[S+3]=x&255,S+4};function v(L,x,S,q,G){we(x,q,G,L,S,7);let Z=Number(x&BigInt(4294967295));L[S++]=Z,Z=Z>>8,L[S++]=Z,Z=Z>>8,L[S++]=Z,Z=Z>>8,L[S++]=Z;let X=Number(x>>BigInt(32)&BigInt(4294967295));return L[S++]=X,X=X>>8,L[S++]=X,X=X>>8,L[S++]=X,X=X>>8,L[S++]=X,S}function D(L,x,S,q,G){we(x,q,G,L,S,7);let Z=Number(x&BigInt(4294967295));L[S+7]=Z,Z=Z>>8,L[S+6]=Z,Z=Z>>8,L[S+5]=Z,Z=Z>>8,L[S+4]=Z;let X=Number(x>>BigInt(32)&BigInt(4294967295));return L[S+3]=X,X=X>>8,L[S+2]=X,X=X>>8,L[S+1]=X,X=X>>8,L[S]=X,S+8}a.prototype.writeBigUInt64LE=Qt(function(x,S=0){return v(this,x,S,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Qt(function(x,S=0){return D(this,x,S,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(x,S,q,G){if(x=+x,S=S>>>0,!G){const _e=Math.pow(2,8*q-1);m(this,x,S,q,_e-1,-_e)}let Z=0,X=1,Se=0;for(this[S]=x&255;++Z<q&&(X*=256);)x<0&&Se===0&&this[S+Z-1]!==0&&(Se=1),this[S+Z]=(x/X>>0)-Se&255;return S+q},a.prototype.writeIntBE=function(x,S,q,G){if(x=+x,S=S>>>0,!G){const _e=Math.pow(2,8*q-1);m(this,x,S,q,_e-1,-_e)}let Z=q-1,X=1,Se=0;for(this[S+Z]=x&255;--Z>=0&&(X*=256);)x<0&&Se===0&&this[S+Z+1]!==0&&(Se=1),this[S+Z]=(x/X>>0)-Se&255;return S+q},a.prototype.writeInt8=function(x,S,q){return x=+x,S=S>>>0,q||m(this,x,S,1,127,-128),x<0&&(x=255+x+1),this[S]=x&255,S+1},a.prototype.writeInt16LE=function(x,S,q){return x=+x,S=S>>>0,q||m(this,x,S,2,32767,-32768),this[S]=x&255,this[S+1]=x>>>8,S+2},a.prototype.writeInt16BE=function(x,S,q){return x=+x,S=S>>>0,q||m(this,x,S,2,32767,-32768),this[S]=x>>>8,this[S+1]=x&255,S+2},a.prototype.writeInt32LE=function(x,S,q){return x=+x,S=S>>>0,q||m(this,x,S,4,2147483647,-2147483648),this[S]=x&255,this[S+1]=x>>>8,this[S+2]=x>>>16,this[S+3]=x>>>24,S+4},a.prototype.writeInt32BE=function(x,S,q){return x=+x,S=S>>>0,q||m(this,x,S,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),this[S]=x>>>24,this[S+1]=x>>>16,this[S+2]=x>>>8,this[S+3]=x&255,S+4},a.prototype.writeBigInt64LE=Qt(function(x,S=0){return v(this,x,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Qt(function(x,S=0){return D(this,x,S,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function j(L,x,S,q,G,Z){if(S+q>L.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function V(L,x,S,q,G){return x=+x,S=S>>>0,G||j(L,x,S,4),n.write(L,x,S,q,23,4),S+4}a.prototype.writeFloatLE=function(x,S,q){return V(this,x,S,!0,q)},a.prototype.writeFloatBE=function(x,S,q){return V(this,x,S,!1,q)};function Y(L,x,S,q,G){return x=+x,S=S>>>0,G||j(L,x,S,8),n.write(L,x,S,q,52,8),S+8}a.prototype.writeDoubleLE=function(x,S,q){return Y(this,x,S,!0,q)},a.prototype.writeDoubleBE=function(x,S,q){return Y(this,x,S,!1,q)},a.prototype.copy=function(x,S,q,G){if(!a.isBuffer(x))throw new TypeError("argument should be a Buffer");if(q||(q=0),!G&&G!==0&&(G=this.length),S>=x.length&&(S=x.length),S||(S=0),G>0&&G<q&&(G=q),G===q||x.length===0||this.length===0)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length),x.length-S<G-q&&(G=x.length-S+q);const Z=G-q;return this===x&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(S,q,G):Uint8Array.prototype.set.call(x,this.subarray(q,G),S),Z},a.prototype.fill=function(x,S,q,G){if(typeof x=="string"){if(typeof S=="string"?(G=S,S=0,q=this.length):typeof q=="string"&&(G=q,q=this.length),G!==void 0&&typeof G!="string")throw new TypeError("encoding must be a string");if(typeof G=="string"&&!a.isEncoding(G))throw new TypeError("Unknown encoding: "+G);if(x.length===1){const X=x.charCodeAt(0);(G==="utf8"&&X<128||G==="latin1")&&(x=X)}}else typeof x=="number"?x=x&255:typeof x=="boolean"&&(x=Number(x));if(S<0||this.length<S||this.length<q)throw new RangeError("Out of range index");if(q<=S)return this;S=S>>>0,q=q===void 0?this.length:q>>>0,x||(x=0);let Z;if(typeof x=="number")for(Z=S;Z<q;++Z)this[Z]=x;else{const X=a.isBuffer(x)?x:a.from(x,G),Se=X.length;if(Se===0)throw new TypeError('The value "'+x+'" is invalid for argument "value"');for(Z=0;Z<q-S;++Z)this[Z+S]=X[Z%Se]}return this};const ee={};function re(L,x,S){ee[L]=class extends S{constructor(){super(),Object.defineProperty(this,"message",{value:x.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${L}]`,this.stack,delete this.name}get code(){return L}set code(G){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:G,writable:!0})}toString(){return`${this.name} [${L}]: ${this.message}`}}}re("ERR_BUFFER_OUT_OF_BOUNDS",function(L){return L?`${L} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),re("ERR_INVALID_ARG_TYPE",function(L,x){return`The "${L}" argument must be of type number. Received type ${typeof x}`},TypeError),re("ERR_OUT_OF_RANGE",function(L,x,S){let q=`The value of "${L}" is out of range.`,G=S;return Number.isInteger(S)&&Math.abs(S)>2**32?G=ve(String(S)):typeof S=="bigint"&&(G=String(S),(S>BigInt(2)**BigInt(32)||S<-(BigInt(2)**BigInt(32)))&&(G=ve(G)),G+="n"),q+=` It must be ${x}. Received ${G}`,q},RangeError);function ve(L){let x="",S=L.length;const q=L[0]==="-"?1:0;for(;S>=q+4;S-=3)x=`_${L.slice(S-3,S)}${x}`;return`${L.slice(0,S)}${x}`}function me(L,x,S){Oe(x,"offset"),(L[x]===void 0||L[x+S]===void 0)&&xe(x,L.length-(S+1))}function we(L,x,S,q,G,Z){if(L>S||L<x){const X=typeof x=="bigint"?"n":"";let Se;throw x===0||x===BigInt(0)?Se=`>= 0${X} and < 2${X} ** ${(Z+1)*8}${X}`:Se=`>= -(2${X} ** ${(Z+1)*8-1}${X}) and < 2 ** ${(Z+1)*8-1}${X}`,new ee.ERR_OUT_OF_RANGE("value",Se,L)}me(q,G,Z)}function Oe(L,x){if(typeof L!="number")throw new ee.ERR_INVALID_ARG_TYPE(x,"number",L)}function xe(L,x,S){throw Math.floor(L)!==L?(Oe(L,S),new ee.ERR_OUT_OF_RANGE("offset","an integer",L)):x<0?new ee.ERR_BUFFER_OUT_OF_BOUNDS:new ee.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${x}`,L)}const Be=/[^+/0-9A-Za-z-_]/g;function mn(L){if(L=L.split("=")[0],L=L.trim().replace(Be,""),L.length<2)return"";for(;L.length%4!==0;)L=L+"=";return L}function Te(L,x){x=x||1/0;let S;const q=L.length;let G=null;const Z=[];for(let X=0;X<q;++X){if(S=L.charCodeAt(X),S>55295&&S<57344){if(!G){if(S>56319){(x-=3)>-1&&Z.push(239,191,189);continue}else if(X+1===q){(x-=3)>-1&&Z.push(239,191,189);continue}G=S;continue}if(S<56320){(x-=3)>-1&&Z.push(239,191,189),G=S;continue}S=(G-55296<<10|S-56320)+65536}else G&&(x-=3)>-1&&Z.push(239,191,189);if(G=null,S<128){if((x-=1)<0)break;Z.push(S)}else if(S<2048){if((x-=2)<0)break;Z.push(S>>6|192,S&63|128)}else if(S<65536){if((x-=3)<0)break;Z.push(S>>12|224,S>>6&63|128,S&63|128)}else if(S<1114112){if((x-=4)<0)break;Z.push(S>>18|240,S>>12&63|128,S>>6&63|128,S&63|128)}else throw new Error("Invalid code point")}return Z}function Fe(L){const x=[];for(let S=0;S<L.length;++S)x.push(L.charCodeAt(S)&255);return x}function Vn(L,x){let S,q,G;const Z=[];for(let X=0;X<L.length&&!((x-=2)<0);++X)S=L.charCodeAt(X),q=S>>8,G=S%256,Z.push(G),Z.push(q);return Z}function ke(L){return t.toByteArray(mn(L))}function Re(L,x,S,q){let G;for(G=0;G<q&&!(G+S>=x.length||G>=L.length);++G)x[G+S]=L[G];return G}function Nt(L,x){return L instanceof x||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===x.name}function Le(L){return L!==L}const je=(function(){const L="0123456789abcdef",x=new Array(256);for(let S=0;S<16;++S){const q=S*16;for(let G=0;G<16;++G)x[q+G]=L[S]+L[G]}return x})();function Qt(L){return typeof BigInt>"u"?We:L}function We(){throw new Error("BigInt not supported")}})(tl)),tl}const q2="modulepreload",H2=function(e){return"/"+e},lp={},Dm=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(l=>Promise.resolve(l).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=c(n.map(u=>{if(u=H2(u),u in lp)return;lp[u]=!0;const l=u.endsWith(".css"),f=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":q2,l||(d.as="script"),d.crossOrigin="",d.href=u,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((p,b)=>{d.addEventListener("load",p),d.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})};var Ra={exports:{}},fp;function C7(){return fp||(fp=1,typeof Object.create=="function"?Ra.exports=function(t,n){n&&(t.super_=n,t.prototype=Object.create(n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Ra.exports=function(t,n){if(n){t.super_=n;var r=function(){};r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t}}),Ra.exports}var he=ia();const Pa=BigInt(2**32-1),dp=BigInt(32);function K2(e,t=!1){return t?{h:Number(e&Pa),l:Number(e>>dp&Pa)}:{h:Number(e>>dp&Pa)|0,l:Number(e&Pa)|0}}function $m(e,t=!1){const n=e.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=K2(e[s],t);[r[s],i[s]]=[o,a]}return[r,i]}const hp=(e,t,n)=>e>>>n,pp=(e,t,n)=>e<<32-n|t>>>n,Gi=(e,t,n)=>e>>>n|t<<32-n,Zi=(e,t,n)=>e<<32-n|t>>>n,Oa=(e,t,n)=>e<<64-n|t>>>n-32,Ta=(e,t,n)=>e>>>n-32|t<<64-n,B7=(e,t)=>t,M7=(e,t)=>e,V2=(e,t,n)=>e<<n|t>>>32-n,G2=(e,t,n)=>t<<n|e>>>32-n,Z2=(e,t,n)=>t<<n-32|e>>>64-n,Y2=(e,t,n)=>e<<n-32|t>>>64-n;function Gn(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const J2=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Q2=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,X2=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),e5=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,t5=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),n5=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,Yi=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function r5(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function _o(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function hr(e,...t){if(!r5(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function i5(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");_o(e.outputLen),_o(e.blockLen)}function xs(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function km(e,t){hr(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function s5(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Un(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function nl(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Tn(e,t){return e<<32-t|e>>>t}function Da(e,t){return e<<t|e>>>32-t>>>0}const Lm=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Nm(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const R7=Lm?e=>e:e=>Nm(e);function o5(e){for(let t=0;t<e.length;t++)e[t]=Nm(e[t]);return e}const gp=Lm?e=>e:o5,Fm=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",a5=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function P7(e){if(hr(e),Fm)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=a5[e[n]];return t}const Zn={_0:48,_9:57,A:65,F:70,a:97,f:102};function yp(e){if(e>=Zn._0&&e<=Zn._9)return e-Zn._0;if(e>=Zn.A&&e<=Zn.F)return e-(Zn.A-10);if(e>=Zn.a&&e<=Zn.f)return e-(Zn.a-10)}function O7(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Fm)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=yp(e.charCodeAt(s)),a=yp(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Um(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function sa(e){return typeof e=="string"&&(e=Um(e)),hr(e),e}function T7(e){return typeof e=="string"&&(e=Um(e)),hr(e),e}function c5(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];hr(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}function D7(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(e,t)}class Mh{}function oa(e){const t=r=>e().update(sa(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function $7(e){const t=(r,i)=>e(i).update(sa(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function zm(e=32){if(Yi&&typeof Yi.getRandomValues=="function")return Yi.getRandomValues(new Uint8Array(e));if(Yi&&typeof Yi.randomBytes=="function")return Uint8Array.from(Yi.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}const u5=BigInt(0),zs=BigInt(1),l5=BigInt(2),f5=BigInt(7),d5=BigInt(256),h5=BigInt(113),jm=[],Wm=[],qm=[];for(let e=0,t=zs,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],jm.push(2*(5*r+n)),Wm.push((e+1)*(e+2)/2%64);let i=u5;for(let s=0;s<7;s++)t=(t<<zs^(t>>f5)*h5)%d5,t&l5&&(i^=zs<<(zs<<BigInt(s))-zs);qm.push(i)}const Hm=$m(qm,!0),p5=Hm[0],g5=Hm[1],mp=(e,t,n)=>n>32?Z2(e,t,n):V2(e,t,n),bp=(e,t,n)=>n>32?Y2(e,t,n):G2(e,t,n);function y5(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],l=n[c+1],f=mp(u,l,1)^n[a],d=bp(u,l,1)^n[a+1];for(let p=0;p<50;p+=10)e[o+p]^=f,e[o+p+1]^=d}let i=e[2],s=e[3];for(let o=0;o<24;o++){const a=Wm[o],c=mp(i,s,a),u=bp(i,s,a),l=jm[o];i=e[l],s=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=p5[r],e[1]^=g5[r]}Un(n)}class Rh extends Mh{constructor(t,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,_o(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=s5(this.state)}clone(){return this._cloneInto()}keccak(){gp(this.state32),y5(this.state32,this.rounds),gp(this.state32),this.posOut=0,this.pos=0}update(t){xs(this),t=sa(t),hr(t);const{blockLen:n,state:r}=this,i=t.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=t[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:i}=this;t[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){xs(this,!1),hr(t),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=t.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);t.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return _o(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(km(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Un(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return t||(t=new Rh(n,r,i,o,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=r,t.outputLen=i,t.enableXOF=o,t.destroyed=this.destroyed,t}}const m5=(e,t,n)=>oa(()=>new Rh(t,e,n)),Km=m5(1,136,256/8);function b5(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}function w5(e,t,n){return e&t^~e&n}function v5(e,t,n){return e&t^e&n^t&n}class Ph extends Mh{constructor(t,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(t),this.view=nl(this.buffer)}update(t){xs(this),t=sa(t),hr(t);const{view:n,buffer:r,blockLen:i}=this,s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=nl(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){xs(this),km(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,Un(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;b5(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=nl(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=s,t.length=i,t.pos=a,i%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Sr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ft=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ut=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),E5=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ar=new Uint32Array(64);class x5 extends Ph{constructor(t=32){super(64,t,8,!1),this.A=Sr[0]|0,this.B=Sr[1]|0,this.C=Sr[2]|0,this.D=Sr[3]|0,this.E=Sr[4]|0,this.F=Sr[5]|0,this.G=Sr[6]|0,this.H=Sr[7]|0}get(){const{A:t,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[t,n,r,i,s,o,a,c]}set(t,n,r,i,s,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let f=0;f<16;f++,n+=4)Ar[f]=t.getUint32(n,!1);for(let f=16;f<64;f++){const d=Ar[f-15],p=Ar[f-2],b=Tn(d,7)^Tn(d,18)^d>>>3,y=Tn(p,17)^Tn(p,19)^p>>>10;Ar[f]=y+Ar[f-7]+b+Ar[f-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let f=0;f<64;f++){const d=Tn(a,6)^Tn(a,11)^Tn(a,25),p=l+d+w5(a,c,u)+E5[f]+Ar[f]|0,y=(Tn(r,2)^Tn(r,13)^Tn(r,22))+v5(r,i,s)|0;l=u,u=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,s,o,a,c,u,l)}roundClean(){Un(Ar)}destroy(){this.set(0,0,0,0,0,0,0,0),Un(this.buffer)}}const Vm=$m(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),_5=Vm[0],S5=Vm[1],Ir=new Uint32Array(80),Cr=new Uint32Array(80);class Gm extends Ph{constructor(t=64){super(128,t,16,!1),this.Ah=Ut[0]|0,this.Al=Ut[1]|0,this.Bh=Ut[2]|0,this.Bl=Ut[3]|0,this.Ch=Ut[4]|0,this.Cl=Ut[5]|0,this.Dh=Ut[6]|0,this.Dl=Ut[7]|0,this.Eh=Ut[8]|0,this.El=Ut[9]|0,this.Fh=Ut[10]|0,this.Fl=Ut[11]|0,this.Gh=Ut[12]|0,this.Gl=Ut[13]|0,this.Hh=Ut[14]|0,this.Hl=Ut[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:f,Fl:d,Gh:p,Gl:b,Hh:y,Hl:w}=this;return[t,n,r,i,s,o,a,c,u,l,f,d,p,b,y,w]}set(t,n,r,i,s,o,a,c,u,l,f,d,p,b,y,w){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=f|0,this.Fl=d|0,this.Gh=p|0,this.Gl=b|0,this.Hh=y|0,this.Hl=w|0}process(t,n){for(let _=0;_<16;_++,n+=4)Ir[_]=t.getUint32(n),Cr[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){const M=Ir[_-15]|0,I=Cr[_-15]|0,C=Gi(M,I,1)^Gi(M,I,8)^hp(M,I,7),k=Zi(M,I,1)^Zi(M,I,8)^pp(M,I,7),z=Ir[_-2]|0,N=Cr[_-2]|0,U=Gi(z,N,19)^Oa(z,N,61)^hp(z,N,6),W=Zi(z,N,19)^Ta(z,N,61)^pp(z,N,6),H=X2(k,W,Cr[_-7],Cr[_-16]),P=e5(H,C,U,Ir[_-7],Ir[_-16]);Ir[_]=P|0,Cr[_]=H|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:f,El:d,Fh:p,Fl:b,Gh:y,Gl:w,Hh:A,Hl:B}=this;for(let _=0;_<80;_++){const M=Gi(f,d,14)^Gi(f,d,18)^Oa(f,d,41),I=Zi(f,d,14)^Zi(f,d,18)^Ta(f,d,41),C=f&p^~f&y,k=d&b^~d&w,z=t5(B,I,k,S5[_],Cr[_]),N=n5(z,A,M,C,_5[_],Ir[_]),U=z|0,W=Gi(r,i,28)^Oa(r,i,34)^Oa(r,i,39),H=Zi(r,i,28)^Ta(r,i,34)^Ta(r,i,39),P=r&s^r&a^s&a,h=i&o^i&c^o&c;A=y|0,B=w|0,y=p|0,w=b|0,p=f|0,b=d|0,{h:f,l:d}=Gn(u|0,l|0,N|0,U|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const g=J2(U,H,h);r=Q2(g,N,W,P),i=g|0}({h:r,l:i}=Gn(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Gn(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Gn(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Gn(this.Dh|0,this.Dl|0,u|0,l|0),{h:f,l:d}=Gn(this.Eh|0,this.El|0,f|0,d|0),{h:p,l:b}=Gn(this.Fh|0,this.Fl|0,p|0,b|0),{h:y,l:w}=Gn(this.Gh|0,this.Gl|0,y|0,w|0),{h:A,l:B}=Gn(this.Hh|0,this.Hl|0,A|0,B|0),this.set(r,i,s,o,a,c,u,l,f,d,p,b,y,w,A,B)}roundClean(){Un(Ir,Cr)}destroy(){Un(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class A5 extends Gm{constructor(){super(48),this.Ah=Ft[0]|0,this.Al=Ft[1]|0,this.Bh=Ft[2]|0,this.Bl=Ft[3]|0,this.Ch=Ft[4]|0,this.Cl=Ft[5]|0,this.Dh=Ft[6]|0,this.Dl=Ft[7]|0,this.Eh=Ft[8]|0,this.El=Ft[9]|0,this.Fh=Ft[10]|0,this.Fl=Ft[11]|0,this.Gh=Ft[12]|0,this.Gl=Ft[13]|0,this.Hh=Ft[14]|0,this.Hl=Ft[15]|0}}const Zm=oa(()=>new x5),I5=oa(()=>new Gm),k7=oa(()=>new A5),rd=Zm,C5=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Ym=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),B5=Ym.map(e=>(9*e+5)%16),Jm=(()=>{const n=[[Ym],[B5]];for(let r=0;r<4;r++)for(let i of n)i.push(i[r].map(s=>C5[s]));return n})(),Qm=Jm[0],Xm=Jm[1],eb=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),M5=Qm.map((e,t)=>e.map(n=>eb[t][n])),R5=Xm.map((e,t)=>e.map(n=>eb[t][n])),P5=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),O5=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function wp(e,t,n,r){return e===0?t^n^r:e===1?t&n|~t&r:e===2?(t|~n)^r:e===3?t&r|n&~r:t^(n|~r)}const $a=new Uint32Array(16);class T5 extends Ph{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:n,h2:r,h3:i,h4:s}=this;return[t,n,r,i,s]}set(t,n,r,i,s){this.h0=t|0,this.h1=n|0,this.h2=r|0,this.h3=i|0,this.h4=s|0}process(t,n){for(let p=0;p<16;p++,n+=4)$a[p]=t.getUint32(n,!0);let r=this.h0|0,i=r,s=this.h1|0,o=s,a=this.h2|0,c=a,u=this.h3|0,l=u,f=this.h4|0,d=f;for(let p=0;p<5;p++){const b=4-p,y=P5[p],w=O5[p],A=Qm[p],B=Xm[p],_=M5[p],M=R5[p];for(let I=0;I<16;I++){const C=Da(r+wp(p,s,a,u)+$a[A[I]]+y,_[I])+f|0;r=f,f=u,u=Da(a,10)|0,a=s,s=C}for(let I=0;I<16;I++){const C=Da(i+wp(b,o,c,l)+$a[B[I]]+w,M[I])+d|0;i=d,d=l,l=Da(c,10)|0,c=o,o=C}}this.set(this.h1+a+l|0,this.h2+u+d|0,this.h3+f+i|0,this.h4+r+o|0,this.h0+s+c|0)}roundClean(){Un($a)}destroy(){this.destroyed=!0,Un(this.buffer),this.set(0,0,0,0,0)}}const D5=oa(()=>new T5),L7=D5;class tb extends Mh{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,i5(t);const r=sa(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?t.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=t.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Un(s)}update(t){return xs(this),this.iHash.update(t),this}digestInto(t){xs(this),hr(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=s,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const nb=(e,t,n)=>new tb(e,t).update(n).digest();nb.create=(e,t)=>new tb(e,t);var oc={exports:{}},$5=oc.exports,vp;function rb(){return vp||(vp=1,(function(e){(function(t,n){function r(P,h){if(!P)throw new Error(h||"Assertion failed")}function i(P,h){P.super_=h;var g=function(){};g.prototype=h.prototype,P.prototype=new g,P.prototype.constructor=P}function s(P,h,g){if(s.isBN(P))return P;this.negative=0,this.words=null,this.length=0,this.red=null,P!==null&&((h==="le"||h==="be")&&(g=h,h=10),this._init(P||0,h||10,g||"be"))}typeof t=="object"?t.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ia().Buffer}catch{}s.isBN=function(h){return h instanceof s?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===s.wordSize&&Array.isArray(h.words)},s.max=function(h,g){return h.cmp(g)>0?h:g},s.min=function(h,g){return h.cmp(g)<0?h:g},s.prototype._init=function(h,g,E){if(typeof h=="number")return this._initNumber(h,g,E);if(typeof h=="object")return this._initArray(h,g,E);g==="hex"&&(g=16),r(g===(g|0)&&g>=2&&g<=36),h=h.toString().replace(/\s+/g,"");var R=0;h[0]==="-"&&(R++,this.negative=1),R<h.length&&(g===16?this._parseHex(h,R,E):(this._parseBase(h,g,R),E==="le"&&this._initArray(this.toArray(),g,E)))},s.prototype._initNumber=function(h,g,E){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(r(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),g,E)},s.prototype._initArray=function(h,g,E){if(r(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var O,$,F=0;if(E==="be")for(R=h.length-1,O=0;R>=0;R-=3)$=h[R]|h[R-1]<<8|h[R-2]<<16,this.words[O]|=$<<F&67108863,this.words[O+1]=$>>>26-F&67108863,F+=24,F>=26&&(F-=26,O++);else if(E==="le")for(R=0,O=0;R<h.length;R+=3)$=h[R]|h[R+1]<<8|h[R+2]<<16,this.words[O]|=$<<F&67108863,this.words[O+1]=$>>>26-F&67108863,F+=24,F>=26&&(F-=26,O++);return this._strip()};function a(P,h){var g=P.charCodeAt(h);if(g>=48&&g<=57)return g-48;if(g>=65&&g<=70)return g-55;if(g>=97&&g<=102)return g-87;r(!1,"Invalid character in "+P)}function c(P,h,g){var E=a(P,g);return g-1>=h&&(E|=a(P,g-1)<<4),E}s.prototype._parseHex=function(h,g,E){this.length=Math.ceil((h.length-g)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var O=0,$=0,F;if(E==="be")for(R=h.length-1;R>=g;R-=2)F=c(h,g,R)<<O,this.words[$]|=F&67108863,O>=18?(O-=18,$+=1,this.words[$]|=F>>>26):O+=8;else{var T=h.length-g;for(R=T%2===0?g+1:g;R<h.length;R+=2)F=c(h,g,R)<<O,this.words[$]|=F&67108863,O>=18?(O-=18,$+=1,this.words[$]|=F>>>26):O+=8}this._strip()};function u(P,h,g,E){for(var R=0,O=0,$=Math.min(P.length,g),F=h;F<$;F++){var T=P.charCodeAt(F)-48;R*=E,T>=49?O=T-49+10:T>=17?O=T-17+10:O=T,r(T>=0&&O<E,"Invalid character"),R+=O}return R}s.prototype._parseBase=function(h,g,E){this.words=[0],this.length=1;for(var R=0,O=1;O<=67108863;O*=g)R++;R--,O=O/g|0;for(var $=h.length-E,F=$%R,T=Math.min($,$-F)+E,m=0,v=E;v<T;v+=R)m=u(h,v,v+R,g),this.imuln(O),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(F!==0){var D=1;for(m=u(h,v,h.length,g),v=0;v<F;v++)D*=g;this.imuln(D),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this._strip()},s.prototype.copy=function(h){h.words=new Array(this.length);for(var g=0;g<this.length;g++)h.words[g]=this.words[g];h.length=this.length,h.negative=this.negative,h.red=this.red};function l(P,h){P.words=h.words,P.length=h.length,P.negative=h.negative,P.red=h.red}if(s.prototype._move=function(h){l(h,this)},s.prototype.clone=function(){var h=new s(null);return this.copy(h),h},s.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(h,g){h=h||10,g=g|0||1;var E;if(h===16||h==="hex"){E="";for(var R=0,O=0,$=0;$<this.length;$++){var F=this.words[$],T=((F<<R|O)&16777215).toString(16);O=F>>>24-R&16777215,R+=2,R>=26&&(R-=26,$--),O!==0||$!==this.length-1?E=d[6-T.length]+T+E:E=T+E}for(O!==0&&(E=O.toString(16)+E);E.length%g!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(h===(h|0)&&h>=2&&h<=36){var m=p[h],v=b[h];E="";var D=this.clone();for(D.negative=0;!D.isZero();){var j=D.modrn(v).toString(h);D=D.idivn(v),D.isZero()?E=j+E:E=d[m-j.length]+j+E}for(this.isZero()&&(E="0"+E);E.length%g!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(h,g){return this.toArrayLike(o,h,g)}),s.prototype.toArray=function(h,g){return this.toArrayLike(Array,h,g)};var y=function(h,g){return h.allocUnsafe?h.allocUnsafe(g):new h(g)};s.prototype.toArrayLike=function(h,g,E){this._strip();var R=this.byteLength(),O=E||Math.max(1,R);r(R<=O,"byte array longer than desired length"),r(O>0,"Requested array length <= 0");var $=y(h,O),F=g==="le"?"LE":"BE";return this["_toArrayLike"+F]($,R),$},s.prototype._toArrayLikeLE=function(h,g){for(var E=0,R=0,O=0,$=0;O<this.length;O++){var F=this.words[O]<<$|R;h[E++]=F&255,E<h.length&&(h[E++]=F>>8&255),E<h.length&&(h[E++]=F>>16&255),$===6?(E<h.length&&(h[E++]=F>>24&255),R=0,$=0):(R=F>>>24,$+=2)}if(E<h.length)for(h[E++]=R;E<h.length;)h[E++]=0},s.prototype._toArrayLikeBE=function(h,g){for(var E=h.length-1,R=0,O=0,$=0;O<this.length;O++){var F=this.words[O]<<$|R;h[E--]=F&255,E>=0&&(h[E--]=F>>8&255),E>=0&&(h[E--]=F>>16&255),$===6?(E>=0&&(h[E--]=F>>24&255),R=0,$=0):(R=F>>>24,$+=2)}if(E>=0)for(h[E--]=R;E>=0;)h[E--]=0},Math.clz32?s.prototype._countBits=function(h){return 32-Math.clz32(h)}:s.prototype._countBits=function(h){var g=h,E=0;return g>=4096&&(E+=13,g>>>=13),g>=64&&(E+=7,g>>>=7),g>=8&&(E+=4,g>>>=4),g>=2&&(E+=2,g>>>=2),E+g},s.prototype._zeroBits=function(h){if(h===0)return 26;var g=h,E=0;return(g&8191)===0&&(E+=13,g>>>=13),(g&127)===0&&(E+=7,g>>>=7),(g&15)===0&&(E+=4,g>>>=4),(g&3)===0&&(E+=2,g>>>=2),(g&1)===0&&E++,E},s.prototype.bitLength=function(){var h=this.words[this.length-1],g=this._countBits(h);return(this.length-1)*26+g};function w(P){for(var h=new Array(P.bitLength()),g=0;g<h.length;g++){var E=g/26|0,R=g%26;h[g]=P.words[E]>>>R&1}return h}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,g=0;g<this.length;g++){var E=this._zeroBits(this.words[g]);if(h+=E,E!==26)break}return h},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},s.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var g=0;g<h.length;g++)this.words[g]=this.words[g]|h.words[g];return this._strip()},s.prototype.ior=function(h){return r((this.negative|h.negative)===0),this.iuor(h)},s.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},s.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},s.prototype.iuand=function(h){var g;this.length>h.length?g=h:g=this;for(var E=0;E<g.length;E++)this.words[E]=this.words[E]&h.words[E];return this.length=g.length,this._strip()},s.prototype.iand=function(h){return r((this.negative|h.negative)===0),this.iuand(h)},s.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},s.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},s.prototype.iuxor=function(h){var g,E;this.length>h.length?(g=this,E=h):(g=h,E=this);for(var R=0;R<E.length;R++)this.words[R]=g.words[R]^E.words[R];if(this!==g)for(;R<g.length;R++)this.words[R]=g.words[R];return this.length=g.length,this._strip()},s.prototype.ixor=function(h){return r((this.negative|h.negative)===0),this.iuxor(h)},s.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},s.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},s.prototype.inotn=function(h){r(typeof h=="number"&&h>=0);var g=Math.ceil(h/26)|0,E=h%26;this._expand(g),E>0&&g--;for(var R=0;R<g;R++)this.words[R]=~this.words[R]&67108863;return E>0&&(this.words[R]=~this.words[R]&67108863>>26-E),this._strip()},s.prototype.notn=function(h){return this.clone().inotn(h)},s.prototype.setn=function(h,g){r(typeof h=="number"&&h>=0);var E=h/26|0,R=h%26;return this._expand(E+1),g?this.words[E]=this.words[E]|1<<R:this.words[E]=this.words[E]&~(1<<R),this._strip()},s.prototype.iadd=function(h){var g;if(this.negative!==0&&h.negative===0)return this.negative=0,g=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,g=this.isub(h),h.negative=1,g._normSign();var E,R;this.length>h.length?(E=this,R=h):(E=h,R=this);for(var O=0,$=0;$<R.length;$++)g=(E.words[$]|0)+(R.words[$]|0)+O,this.words[$]=g&67108863,O=g>>>26;for(;O!==0&&$<E.length;$++)g=(E.words[$]|0)+O,this.words[$]=g&67108863,O=g>>>26;if(this.length=E.length,O!==0)this.words[this.length]=O,this.length++;else if(E!==this)for(;$<E.length;$++)this.words[$]=E.words[$];return this},s.prototype.add=function(h){var g;return h.negative!==0&&this.negative===0?(h.negative=0,g=this.sub(h),h.negative^=1,g):h.negative===0&&this.negative!==0?(this.negative=0,g=h.sub(this),this.negative=1,g):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},s.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var g=this.iadd(h);return h.negative=1,g._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var E=this.cmp(h);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;var R,O;E>0?(R=this,O=h):(R=h,O=this);for(var $=0,F=0;F<O.length;F++)g=(R.words[F]|0)-(O.words[F]|0)+$,$=g>>26,this.words[F]=g&67108863;for(;$!==0&&F<R.length;F++)g=(R.words[F]|0)+$,$=g>>26,this.words[F]=g&67108863;if($===0&&F<R.length&&R!==this)for(;F<R.length;F++)this.words[F]=R.words[F];return this.length=Math.max(this.length,F),R!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(h){return this.clone().isub(h)};function A(P,h,g){g.negative=h.negative^P.negative;var E=P.length+h.length|0;g.length=E,E=E-1|0;var R=P.words[0]|0,O=h.words[0]|0,$=R*O,F=$&67108863,T=$/67108864|0;g.words[0]=F;for(var m=1;m<E;m++){for(var v=T>>>26,D=T&67108863,j=Math.min(m,h.length-1),V=Math.max(0,m-P.length+1);V<=j;V++){var Y=m-V|0;R=P.words[Y]|0,O=h.words[V]|0,$=R*O+D,v+=$/67108864|0,D=$&67108863}g.words[m]=D|0,T=v|0}return T!==0?g.words[m]=T|0:g.length--,g._strip()}var B=function(h,g,E){var R=h.words,O=g.words,$=E.words,F=0,T,m,v,D=R[0]|0,j=D&8191,V=D>>>13,Y=R[1]|0,ee=Y&8191,re=Y>>>13,ve=R[2]|0,me=ve&8191,we=ve>>>13,Oe=R[3]|0,xe=Oe&8191,Be=Oe>>>13,mn=R[4]|0,Te=mn&8191,Fe=mn>>>13,Vn=R[5]|0,ke=Vn&8191,Re=Vn>>>13,Nt=R[6]|0,Le=Nt&8191,je=Nt>>>13,Qt=R[7]|0,We=Qt&8191,L=Qt>>>13,x=R[8]|0,S=x&8191,q=x>>>13,G=R[9]|0,Z=G&8191,X=G>>>13,Se=O[0]|0,_e=Se&8191,Ee=Se>>>13,qe=O[1]|0,be=qe&8191,it=qe>>>13,X0=O[2]|0,st=X0&8191,ot=X0>>>13,ep=O[3]|0,at=ep&8191,ct=ep>>>13,tp=O[4]|0,ut=tp&8191,lt=tp>>>13,np=O[5]|0,ft=np&8191,dt=np>>>13,rp=O[6]|0,ht=rp&8191,pt=rp>>>13,ip=O[7]|0,gt=ip&8191,yt=ip>>>13,sp=O[8]|0,mt=sp&8191,bt=sp>>>13,op=O[9]|0,wt=op&8191,vt=op>>>13;E.negative=h.negative^g.negative,E.length=19,T=Math.imul(j,_e),m=Math.imul(j,Ee),m=m+Math.imul(V,_e)|0,v=Math.imul(V,Ee);var ku=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(ku>>>26)|0,ku&=67108863,T=Math.imul(ee,_e),m=Math.imul(ee,Ee),m=m+Math.imul(re,_e)|0,v=Math.imul(re,Ee),T=T+Math.imul(j,be)|0,m=m+Math.imul(j,it)|0,m=m+Math.imul(V,be)|0,v=v+Math.imul(V,it)|0;var Lu=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(Lu>>>26)|0,Lu&=67108863,T=Math.imul(me,_e),m=Math.imul(me,Ee),m=m+Math.imul(we,_e)|0,v=Math.imul(we,Ee),T=T+Math.imul(ee,be)|0,m=m+Math.imul(ee,it)|0,m=m+Math.imul(re,be)|0,v=v+Math.imul(re,it)|0,T=T+Math.imul(j,st)|0,m=m+Math.imul(j,ot)|0,m=m+Math.imul(V,st)|0,v=v+Math.imul(V,ot)|0;var Nu=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(Nu>>>26)|0,Nu&=67108863,T=Math.imul(xe,_e),m=Math.imul(xe,Ee),m=m+Math.imul(Be,_e)|0,v=Math.imul(Be,Ee),T=T+Math.imul(me,be)|0,m=m+Math.imul(me,it)|0,m=m+Math.imul(we,be)|0,v=v+Math.imul(we,it)|0,T=T+Math.imul(ee,st)|0,m=m+Math.imul(ee,ot)|0,m=m+Math.imul(re,st)|0,v=v+Math.imul(re,ot)|0,T=T+Math.imul(j,at)|0,m=m+Math.imul(j,ct)|0,m=m+Math.imul(V,at)|0,v=v+Math.imul(V,ct)|0;var Fu=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(Fu>>>26)|0,Fu&=67108863,T=Math.imul(Te,_e),m=Math.imul(Te,Ee),m=m+Math.imul(Fe,_e)|0,v=Math.imul(Fe,Ee),T=T+Math.imul(xe,be)|0,m=m+Math.imul(xe,it)|0,m=m+Math.imul(Be,be)|0,v=v+Math.imul(Be,it)|0,T=T+Math.imul(me,st)|0,m=m+Math.imul(me,ot)|0,m=m+Math.imul(we,st)|0,v=v+Math.imul(we,ot)|0,T=T+Math.imul(ee,at)|0,m=m+Math.imul(ee,ct)|0,m=m+Math.imul(re,at)|0,v=v+Math.imul(re,ct)|0,T=T+Math.imul(j,ut)|0,m=m+Math.imul(j,lt)|0,m=m+Math.imul(V,ut)|0,v=v+Math.imul(V,lt)|0;var Uu=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(Uu>>>26)|0,Uu&=67108863,T=Math.imul(ke,_e),m=Math.imul(ke,Ee),m=m+Math.imul(Re,_e)|0,v=Math.imul(Re,Ee),T=T+Math.imul(Te,be)|0,m=m+Math.imul(Te,it)|0,m=m+Math.imul(Fe,be)|0,v=v+Math.imul(Fe,it)|0,T=T+Math.imul(xe,st)|0,m=m+Math.imul(xe,ot)|0,m=m+Math.imul(Be,st)|0,v=v+Math.imul(Be,ot)|0,T=T+Math.imul(me,at)|0,m=m+Math.imul(me,ct)|0,m=m+Math.imul(we,at)|0,v=v+Math.imul(we,ct)|0,T=T+Math.imul(ee,ut)|0,m=m+Math.imul(ee,lt)|0,m=m+Math.imul(re,ut)|0,v=v+Math.imul(re,lt)|0,T=T+Math.imul(j,ft)|0,m=m+Math.imul(j,dt)|0,m=m+Math.imul(V,ft)|0,v=v+Math.imul(V,dt)|0;var zu=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(zu>>>26)|0,zu&=67108863,T=Math.imul(Le,_e),m=Math.imul(Le,Ee),m=m+Math.imul(je,_e)|0,v=Math.imul(je,Ee),T=T+Math.imul(ke,be)|0,m=m+Math.imul(ke,it)|0,m=m+Math.imul(Re,be)|0,v=v+Math.imul(Re,it)|0,T=T+Math.imul(Te,st)|0,m=m+Math.imul(Te,ot)|0,m=m+Math.imul(Fe,st)|0,v=v+Math.imul(Fe,ot)|0,T=T+Math.imul(xe,at)|0,m=m+Math.imul(xe,ct)|0,m=m+Math.imul(Be,at)|0,v=v+Math.imul(Be,ct)|0,T=T+Math.imul(me,ut)|0,m=m+Math.imul(me,lt)|0,m=m+Math.imul(we,ut)|0,v=v+Math.imul(we,lt)|0,T=T+Math.imul(ee,ft)|0,m=m+Math.imul(ee,dt)|0,m=m+Math.imul(re,ft)|0,v=v+Math.imul(re,dt)|0,T=T+Math.imul(j,ht)|0,m=m+Math.imul(j,pt)|0,m=m+Math.imul(V,ht)|0,v=v+Math.imul(V,pt)|0;var ju=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(ju>>>26)|0,ju&=67108863,T=Math.imul(We,_e),m=Math.imul(We,Ee),m=m+Math.imul(L,_e)|0,v=Math.imul(L,Ee),T=T+Math.imul(Le,be)|0,m=m+Math.imul(Le,it)|0,m=m+Math.imul(je,be)|0,v=v+Math.imul(je,it)|0,T=T+Math.imul(ke,st)|0,m=m+Math.imul(ke,ot)|0,m=m+Math.imul(Re,st)|0,v=v+Math.imul(Re,ot)|0,T=T+Math.imul(Te,at)|0,m=m+Math.imul(Te,ct)|0,m=m+Math.imul(Fe,at)|0,v=v+Math.imul(Fe,ct)|0,T=T+Math.imul(xe,ut)|0,m=m+Math.imul(xe,lt)|0,m=m+Math.imul(Be,ut)|0,v=v+Math.imul(Be,lt)|0,T=T+Math.imul(me,ft)|0,m=m+Math.imul(me,dt)|0,m=m+Math.imul(we,ft)|0,v=v+Math.imul(we,dt)|0,T=T+Math.imul(ee,ht)|0,m=m+Math.imul(ee,pt)|0,m=m+Math.imul(re,ht)|0,v=v+Math.imul(re,pt)|0,T=T+Math.imul(j,gt)|0,m=m+Math.imul(j,yt)|0,m=m+Math.imul(V,gt)|0,v=v+Math.imul(V,yt)|0;var Wu=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(Wu>>>26)|0,Wu&=67108863,T=Math.imul(S,_e),m=Math.imul(S,Ee),m=m+Math.imul(q,_e)|0,v=Math.imul(q,Ee),T=T+Math.imul(We,be)|0,m=m+Math.imul(We,it)|0,m=m+Math.imul(L,be)|0,v=v+Math.imul(L,it)|0,T=T+Math.imul(Le,st)|0,m=m+Math.imul(Le,ot)|0,m=m+Math.imul(je,st)|0,v=v+Math.imul(je,ot)|0,T=T+Math.imul(ke,at)|0,m=m+Math.imul(ke,ct)|0,m=m+Math.imul(Re,at)|0,v=v+Math.imul(Re,ct)|0,T=T+Math.imul(Te,ut)|0,m=m+Math.imul(Te,lt)|0,m=m+Math.imul(Fe,ut)|0,v=v+Math.imul(Fe,lt)|0,T=T+Math.imul(xe,ft)|0,m=m+Math.imul(xe,dt)|0,m=m+Math.imul(Be,ft)|0,v=v+Math.imul(Be,dt)|0,T=T+Math.imul(me,ht)|0,m=m+Math.imul(me,pt)|0,m=m+Math.imul(we,ht)|0,v=v+Math.imul(we,pt)|0,T=T+Math.imul(ee,gt)|0,m=m+Math.imul(ee,yt)|0,m=m+Math.imul(re,gt)|0,v=v+Math.imul(re,yt)|0,T=T+Math.imul(j,mt)|0,m=m+Math.imul(j,bt)|0,m=m+Math.imul(V,mt)|0,v=v+Math.imul(V,bt)|0;var qu=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(qu>>>26)|0,qu&=67108863,T=Math.imul(Z,_e),m=Math.imul(Z,Ee),m=m+Math.imul(X,_e)|0,v=Math.imul(X,Ee),T=T+Math.imul(S,be)|0,m=m+Math.imul(S,it)|0,m=m+Math.imul(q,be)|0,v=v+Math.imul(q,it)|0,T=T+Math.imul(We,st)|0,m=m+Math.imul(We,ot)|0,m=m+Math.imul(L,st)|0,v=v+Math.imul(L,ot)|0,T=T+Math.imul(Le,at)|0,m=m+Math.imul(Le,ct)|0,m=m+Math.imul(je,at)|0,v=v+Math.imul(je,ct)|0,T=T+Math.imul(ke,ut)|0,m=m+Math.imul(ke,lt)|0,m=m+Math.imul(Re,ut)|0,v=v+Math.imul(Re,lt)|0,T=T+Math.imul(Te,ft)|0,m=m+Math.imul(Te,dt)|0,m=m+Math.imul(Fe,ft)|0,v=v+Math.imul(Fe,dt)|0,T=T+Math.imul(xe,ht)|0,m=m+Math.imul(xe,pt)|0,m=m+Math.imul(Be,ht)|0,v=v+Math.imul(Be,pt)|0,T=T+Math.imul(me,gt)|0,m=m+Math.imul(me,yt)|0,m=m+Math.imul(we,gt)|0,v=v+Math.imul(we,yt)|0,T=T+Math.imul(ee,mt)|0,m=m+Math.imul(ee,bt)|0,m=m+Math.imul(re,mt)|0,v=v+Math.imul(re,bt)|0,T=T+Math.imul(j,wt)|0,m=m+Math.imul(j,vt)|0,m=m+Math.imul(V,wt)|0,v=v+Math.imul(V,vt)|0;var Hu=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(Hu>>>26)|0,Hu&=67108863,T=Math.imul(Z,be),m=Math.imul(Z,it),m=m+Math.imul(X,be)|0,v=Math.imul(X,it),T=T+Math.imul(S,st)|0,m=m+Math.imul(S,ot)|0,m=m+Math.imul(q,st)|0,v=v+Math.imul(q,ot)|0,T=T+Math.imul(We,at)|0,m=m+Math.imul(We,ct)|0,m=m+Math.imul(L,at)|0,v=v+Math.imul(L,ct)|0,T=T+Math.imul(Le,ut)|0,m=m+Math.imul(Le,lt)|0,m=m+Math.imul(je,ut)|0,v=v+Math.imul(je,lt)|0,T=T+Math.imul(ke,ft)|0,m=m+Math.imul(ke,dt)|0,m=m+Math.imul(Re,ft)|0,v=v+Math.imul(Re,dt)|0,T=T+Math.imul(Te,ht)|0,m=m+Math.imul(Te,pt)|0,m=m+Math.imul(Fe,ht)|0,v=v+Math.imul(Fe,pt)|0,T=T+Math.imul(xe,gt)|0,m=m+Math.imul(xe,yt)|0,m=m+Math.imul(Be,gt)|0,v=v+Math.imul(Be,yt)|0,T=T+Math.imul(me,mt)|0,m=m+Math.imul(me,bt)|0,m=m+Math.imul(we,mt)|0,v=v+Math.imul(we,bt)|0,T=T+Math.imul(ee,wt)|0,m=m+Math.imul(ee,vt)|0,m=m+Math.imul(re,wt)|0,v=v+Math.imul(re,vt)|0;var Ku=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(Ku>>>26)|0,Ku&=67108863,T=Math.imul(Z,st),m=Math.imul(Z,ot),m=m+Math.imul(X,st)|0,v=Math.imul(X,ot),T=T+Math.imul(S,at)|0,m=m+Math.imul(S,ct)|0,m=m+Math.imul(q,at)|0,v=v+Math.imul(q,ct)|0,T=T+Math.imul(We,ut)|0,m=m+Math.imul(We,lt)|0,m=m+Math.imul(L,ut)|0,v=v+Math.imul(L,lt)|0,T=T+Math.imul(Le,ft)|0,m=m+Math.imul(Le,dt)|0,m=m+Math.imul(je,ft)|0,v=v+Math.imul(je,dt)|0,T=T+Math.imul(ke,ht)|0,m=m+Math.imul(ke,pt)|0,m=m+Math.imul(Re,ht)|0,v=v+Math.imul(Re,pt)|0,T=T+Math.imul(Te,gt)|0,m=m+Math.imul(Te,yt)|0,m=m+Math.imul(Fe,gt)|0,v=v+Math.imul(Fe,yt)|0,T=T+Math.imul(xe,mt)|0,m=m+Math.imul(xe,bt)|0,m=m+Math.imul(Be,mt)|0,v=v+Math.imul(Be,bt)|0,T=T+Math.imul(me,wt)|0,m=m+Math.imul(me,vt)|0,m=m+Math.imul(we,wt)|0,v=v+Math.imul(we,vt)|0;var Vu=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(Vu>>>26)|0,Vu&=67108863,T=Math.imul(Z,at),m=Math.imul(Z,ct),m=m+Math.imul(X,at)|0,v=Math.imul(X,ct),T=T+Math.imul(S,ut)|0,m=m+Math.imul(S,lt)|0,m=m+Math.imul(q,ut)|0,v=v+Math.imul(q,lt)|0,T=T+Math.imul(We,ft)|0,m=m+Math.imul(We,dt)|0,m=m+Math.imul(L,ft)|0,v=v+Math.imul(L,dt)|0,T=T+Math.imul(Le,ht)|0,m=m+Math.imul(Le,pt)|0,m=m+Math.imul(je,ht)|0,v=v+Math.imul(je,pt)|0,T=T+Math.imul(ke,gt)|0,m=m+Math.imul(ke,yt)|0,m=m+Math.imul(Re,gt)|0,v=v+Math.imul(Re,yt)|0,T=T+Math.imul(Te,mt)|0,m=m+Math.imul(Te,bt)|0,m=m+Math.imul(Fe,mt)|0,v=v+Math.imul(Fe,bt)|0,T=T+Math.imul(xe,wt)|0,m=m+Math.imul(xe,vt)|0,m=m+Math.imul(Be,wt)|0,v=v+Math.imul(Be,vt)|0;var Gu=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(Gu>>>26)|0,Gu&=67108863,T=Math.imul(Z,ut),m=Math.imul(Z,lt),m=m+Math.imul(X,ut)|0,v=Math.imul(X,lt),T=T+Math.imul(S,ft)|0,m=m+Math.imul(S,dt)|0,m=m+Math.imul(q,ft)|0,v=v+Math.imul(q,dt)|0,T=T+Math.imul(We,ht)|0,m=m+Math.imul(We,pt)|0,m=m+Math.imul(L,ht)|0,v=v+Math.imul(L,pt)|0,T=T+Math.imul(Le,gt)|0,m=m+Math.imul(Le,yt)|0,m=m+Math.imul(je,gt)|0,v=v+Math.imul(je,yt)|0,T=T+Math.imul(ke,mt)|0,m=m+Math.imul(ke,bt)|0,m=m+Math.imul(Re,mt)|0,v=v+Math.imul(Re,bt)|0,T=T+Math.imul(Te,wt)|0,m=m+Math.imul(Te,vt)|0,m=m+Math.imul(Fe,wt)|0,v=v+Math.imul(Fe,vt)|0;var Zu=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(Zu>>>26)|0,Zu&=67108863,T=Math.imul(Z,ft),m=Math.imul(Z,dt),m=m+Math.imul(X,ft)|0,v=Math.imul(X,dt),T=T+Math.imul(S,ht)|0,m=m+Math.imul(S,pt)|0,m=m+Math.imul(q,ht)|0,v=v+Math.imul(q,pt)|0,T=T+Math.imul(We,gt)|0,m=m+Math.imul(We,yt)|0,m=m+Math.imul(L,gt)|0,v=v+Math.imul(L,yt)|0,T=T+Math.imul(Le,mt)|0,m=m+Math.imul(Le,bt)|0,m=m+Math.imul(je,mt)|0,v=v+Math.imul(je,bt)|0,T=T+Math.imul(ke,wt)|0,m=m+Math.imul(ke,vt)|0,m=m+Math.imul(Re,wt)|0,v=v+Math.imul(Re,vt)|0;var Yu=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(Yu>>>26)|0,Yu&=67108863,T=Math.imul(Z,ht),m=Math.imul(Z,pt),m=m+Math.imul(X,ht)|0,v=Math.imul(X,pt),T=T+Math.imul(S,gt)|0,m=m+Math.imul(S,yt)|0,m=m+Math.imul(q,gt)|0,v=v+Math.imul(q,yt)|0,T=T+Math.imul(We,mt)|0,m=m+Math.imul(We,bt)|0,m=m+Math.imul(L,mt)|0,v=v+Math.imul(L,bt)|0,T=T+Math.imul(Le,wt)|0,m=m+Math.imul(Le,vt)|0,m=m+Math.imul(je,wt)|0,v=v+Math.imul(je,vt)|0;var Ju=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(Ju>>>26)|0,Ju&=67108863,T=Math.imul(Z,gt),m=Math.imul(Z,yt),m=m+Math.imul(X,gt)|0,v=Math.imul(X,yt),T=T+Math.imul(S,mt)|0,m=m+Math.imul(S,bt)|0,m=m+Math.imul(q,mt)|0,v=v+Math.imul(q,bt)|0,T=T+Math.imul(We,wt)|0,m=m+Math.imul(We,vt)|0,m=m+Math.imul(L,wt)|0,v=v+Math.imul(L,vt)|0;var Qu=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(Qu>>>26)|0,Qu&=67108863,T=Math.imul(Z,mt),m=Math.imul(Z,bt),m=m+Math.imul(X,mt)|0,v=Math.imul(X,bt),T=T+Math.imul(S,wt)|0,m=m+Math.imul(S,vt)|0,m=m+Math.imul(q,wt)|0,v=v+Math.imul(q,vt)|0;var Xu=(F+T|0)+((m&8191)<<13)|0;F=(v+(m>>>13)|0)+(Xu>>>26)|0,Xu&=67108863,T=Math.imul(Z,wt),m=Math.imul(Z,vt),m=m+Math.imul(X,wt)|0,v=Math.imul(X,vt);var el=(F+T|0)+((m&8191)<<13)|0;return F=(v+(m>>>13)|0)+(el>>>26)|0,el&=67108863,$[0]=ku,$[1]=Lu,$[2]=Nu,$[3]=Fu,$[4]=Uu,$[5]=zu,$[6]=ju,$[7]=Wu,$[8]=qu,$[9]=Hu,$[10]=Ku,$[11]=Vu,$[12]=Gu,$[13]=Zu,$[14]=Yu,$[15]=Ju,$[16]=Qu,$[17]=Xu,$[18]=el,F!==0&&($[19]=F,E.length++),E};Math.imul||(B=A);function _(P,h,g){g.negative=h.negative^P.negative,g.length=P.length+h.length;for(var E=0,R=0,O=0;O<g.length-1;O++){var $=R;R=0;for(var F=E&67108863,T=Math.min(O,h.length-1),m=Math.max(0,O-P.length+1);m<=T;m++){var v=O-m,D=P.words[v]|0,j=h.words[m]|0,V=D*j,Y=V&67108863;$=$+(V/67108864|0)|0,Y=Y+F|0,F=Y&67108863,$=$+(Y>>>26)|0,R+=$>>>26,$&=67108863}g.words[O]=F,E=$,$=R}return E!==0?g.words[O]=E:g.length--,g._strip()}function M(P,h,g){return _(P,h,g)}s.prototype.mulTo=function(h,g){var E,R=this.length+h.length;return this.length===10&&h.length===10?E=B(this,h,g):R<63?E=A(this,h,g):R<1024?E=_(this,h,g):E=M(this,h,g),E},s.prototype.mul=function(h){var g=new s(null);return g.words=new Array(this.length+h.length),this.mulTo(h,g)},s.prototype.mulf=function(h){var g=new s(null);return g.words=new Array(this.length+h.length),M(this,h,g)},s.prototype.imul=function(h){return this.clone().mulTo(h,this)},s.prototype.imuln=function(h){var g=h<0;g&&(h=-h),r(typeof h=="number"),r(h<67108864);for(var E=0,R=0;R<this.length;R++){var O=(this.words[R]|0)*h,$=(O&67108863)+(E&67108863);E>>=26,E+=O/67108864|0,E+=$>>>26,this.words[R]=$&67108863}return E!==0&&(this.words[R]=E,this.length++),this.length=h===0?1:this.length,g?this.ineg():this},s.prototype.muln=function(h){return this.clone().imuln(h)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(h){var g=w(h);if(g.length===0)return new s(1);for(var E=this,R=0;R<g.length&&g[R]===0;R++,E=E.sqr());if(++R<g.length)for(var O=E.sqr();R<g.length;R++,O=O.sqr())g[R]!==0&&(E=E.mul(O));return E},s.prototype.iushln=function(h){r(typeof h=="number"&&h>=0);var g=h%26,E=(h-g)/26,R=67108863>>>26-g<<26-g,O;if(g!==0){var $=0;for(O=0;O<this.length;O++){var F=this.words[O]&R,T=(this.words[O]|0)-F<<g;this.words[O]=T|$,$=F>>>26-g}$&&(this.words[O]=$,this.length++)}if(E!==0){for(O=this.length-1;O>=0;O--)this.words[O+E]=this.words[O];for(O=0;O<E;O++)this.words[O]=0;this.length+=E}return this._strip()},s.prototype.ishln=function(h){return r(this.negative===0),this.iushln(h)},s.prototype.iushrn=function(h,g,E){r(typeof h=="number"&&h>=0);var R;g?R=(g-g%26)/26:R=0;var O=h%26,$=Math.min((h-O)/26,this.length),F=67108863^67108863>>>O<<O,T=E;if(R-=$,R=Math.max(0,R),T){for(var m=0;m<$;m++)T.words[m]=this.words[m];T.length=$}if($!==0)if(this.length>$)for(this.length-=$,m=0;m<this.length;m++)this.words[m]=this.words[m+$];else this.words[0]=0,this.length=1;var v=0;for(m=this.length-1;m>=0&&(v!==0||m>=R);m--){var D=this.words[m]|0;this.words[m]=v<<26-O|D>>>O,v=D&F}return T&&v!==0&&(T.words[T.length++]=v),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(h,g,E){return r(this.negative===0),this.iushrn(h,g,E)},s.prototype.shln=function(h){return this.clone().ishln(h)},s.prototype.ushln=function(h){return this.clone().iushln(h)},s.prototype.shrn=function(h){return this.clone().ishrn(h)},s.prototype.ushrn=function(h){return this.clone().iushrn(h)},s.prototype.testn=function(h){r(typeof h=="number"&&h>=0);var g=h%26,E=(h-g)/26,R=1<<g;if(this.length<=E)return!1;var O=this.words[E];return!!(O&R)},s.prototype.imaskn=function(h){r(typeof h=="number"&&h>=0);var g=h%26,E=(h-g)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(g!==0&&E++,this.length=Math.min(E,this.length),g!==0){var R=67108863^67108863>>>g<<g;this.words[this.length-1]&=R}return this._strip()},s.prototype.maskn=function(h){return this.clone().imaskn(h)},s.prototype.iaddn=function(h){return r(typeof h=="number"),r(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<=h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},s.prototype._iaddn=function(h){this.words[0]+=h;for(var g=0;g<this.length&&this.words[g]>=67108864;g++)this.words[g]-=67108864,g===this.length-1?this.words[g+1]=1:this.words[g+1]++;return this.length=Math.max(this.length,g+1),this},s.prototype.isubn=function(h){if(r(typeof h=="number"),r(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var g=0;g<this.length&&this.words[g]<0;g++)this.words[g]+=67108864,this.words[g+1]-=1;return this._strip()},s.prototype.addn=function(h){return this.clone().iaddn(h)},s.prototype.subn=function(h){return this.clone().isubn(h)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(h,g,E){var R=h.length+E,O;this._expand(R);var $,F=0;for(O=0;O<h.length;O++){$=(this.words[O+E]|0)+F;var T=(h.words[O]|0)*g;$-=T&67108863,F=($>>26)-(T/67108864|0),this.words[O+E]=$&67108863}for(;O<this.length-E;O++)$=(this.words[O+E]|0)+F,F=$>>26,this.words[O+E]=$&67108863;if(F===0)return this._strip();for(r(F===-1),F=0,O=0;O<this.length;O++)$=-(this.words[O]|0)+F,F=$>>26,this.words[O]=$&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(h,g){var E=this.length-h.length,R=this.clone(),O=h,$=O.words[O.length-1]|0,F=this._countBits($);E=26-F,E!==0&&(O=O.ushln(E),R.iushln(E),$=O.words[O.length-1]|0);var T=R.length-O.length,m;if(g!=="mod"){m=new s(null),m.length=T+1,m.words=new Array(m.length);for(var v=0;v<m.length;v++)m.words[v]=0}var D=R.clone()._ishlnsubmul(O,1,T);D.negative===0&&(R=D,m&&(m.words[T]=1));for(var j=T-1;j>=0;j--){var V=(R.words[O.length+j]|0)*67108864+(R.words[O.length+j-1]|0);for(V=Math.min(V/$|0,67108863),R._ishlnsubmul(O,V,j);R.negative!==0;)V--,R.negative=0,R._ishlnsubmul(O,1,j),R.isZero()||(R.negative^=1);m&&(m.words[j]=V)}return m&&m._strip(),R._strip(),g!=="div"&&E!==0&&R.iushrn(E),{div:m||null,mod:R}},s.prototype.divmod=function(h,g,E){if(r(!h.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var R,O,$;return this.negative!==0&&h.negative===0?($=this.neg().divmod(h,g),g!=="mod"&&(R=$.div.neg()),g!=="div"&&(O=$.mod.neg(),E&&O.negative!==0&&O.iadd(h)),{div:R,mod:O}):this.negative===0&&h.negative!==0?($=this.divmod(h.neg(),g),g!=="mod"&&(R=$.div.neg()),{div:R,mod:$.mod}):(this.negative&h.negative)!==0?($=this.neg().divmod(h.neg(),g),g!=="div"&&(O=$.mod.neg(),E&&O.negative!==0&&O.isub(h)),{div:$.div,mod:O}):h.length>this.length||this.cmp(h)<0?{div:new s(0),mod:this}:h.length===1?g==="div"?{div:this.divn(h.words[0]),mod:null}:g==="mod"?{div:null,mod:new s(this.modrn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new s(this.modrn(h.words[0]))}:this._wordDiv(h,g)},s.prototype.div=function(h){return this.divmod(h,"div",!1).div},s.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},s.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},s.prototype.divRound=function(h){var g=this.divmod(h);if(g.mod.isZero())return g.div;var E=g.div.negative!==0?g.mod.isub(h):g.mod,R=h.ushrn(1),O=h.andln(1),$=E.cmp(R);return $<0||O===1&&$===0?g.div:g.div.negative!==0?g.div.isubn(1):g.div.iaddn(1)},s.prototype.modrn=function(h){var g=h<0;g&&(h=-h),r(h<=67108863);for(var E=(1<<26)%h,R=0,O=this.length-1;O>=0;O--)R=(E*R+(this.words[O]|0))%h;return g?-R:R},s.prototype.modn=function(h){return this.modrn(h)},s.prototype.idivn=function(h){var g=h<0;g&&(h=-h),r(h<=67108863);for(var E=0,R=this.length-1;R>=0;R--){var O=(this.words[R]|0)+E*67108864;this.words[R]=O/h|0,E=O%h}return this._strip(),g?this.ineg():this},s.prototype.divn=function(h){return this.clone().idivn(h)},s.prototype.egcd=function(h){r(h.negative===0),r(!h.isZero());var g=this,E=h.clone();g.negative!==0?g=g.umod(h):g=g.clone();for(var R=new s(1),O=new s(0),$=new s(0),F=new s(1),T=0;g.isEven()&&E.isEven();)g.iushrn(1),E.iushrn(1),++T;for(var m=E.clone(),v=g.clone();!g.isZero();){for(var D=0,j=1;(g.words[0]&j)===0&&D<26;++D,j<<=1);if(D>0)for(g.iushrn(D);D-- >0;)(R.isOdd()||O.isOdd())&&(R.iadd(m),O.isub(v)),R.iushrn(1),O.iushrn(1);for(var V=0,Y=1;(E.words[0]&Y)===0&&V<26;++V,Y<<=1);if(V>0)for(E.iushrn(V);V-- >0;)($.isOdd()||F.isOdd())&&($.iadd(m),F.isub(v)),$.iushrn(1),F.iushrn(1);g.cmp(E)>=0?(g.isub(E),R.isub($),O.isub(F)):(E.isub(g),$.isub(R),F.isub(O))}return{a:$,b:F,gcd:E.iushln(T)}},s.prototype._invmp=function(h){r(h.negative===0),r(!h.isZero());var g=this,E=h.clone();g.negative!==0?g=g.umod(h):g=g.clone();for(var R=new s(1),O=new s(0),$=E.clone();g.cmpn(1)>0&&E.cmpn(1)>0;){for(var F=0,T=1;(g.words[0]&T)===0&&F<26;++F,T<<=1);if(F>0)for(g.iushrn(F);F-- >0;)R.isOdd()&&R.iadd($),R.iushrn(1);for(var m=0,v=1;(E.words[0]&v)===0&&m<26;++m,v<<=1);if(m>0)for(E.iushrn(m);m-- >0;)O.isOdd()&&O.iadd($),O.iushrn(1);g.cmp(E)>=0?(g.isub(E),R.isub(O)):(E.isub(g),O.isub(R))}var D;return g.cmpn(1)===0?D=R:D=O,D.cmpn(0)<0&&D.iadd(h),D},s.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var g=this.clone(),E=h.clone();g.negative=0,E.negative=0;for(var R=0;g.isEven()&&E.isEven();R++)g.iushrn(1),E.iushrn(1);do{for(;g.isEven();)g.iushrn(1);for(;E.isEven();)E.iushrn(1);var O=g.cmp(E);if(O<0){var $=g;g=E,E=$}else if(O===0||E.cmpn(1)===0)break;g.isub(E)}while(!0);return E.iushln(R)},s.prototype.invm=function(h){return this.egcd(h).a.umod(h)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(h){return this.words[0]&h},s.prototype.bincn=function(h){r(typeof h=="number");var g=h%26,E=(h-g)/26,R=1<<g;if(this.length<=E)return this._expand(E+1),this.words[E]|=R,this;for(var O=R,$=E;O!==0&&$<this.length;$++){var F=this.words[$]|0;F+=O,O=F>>>26,F&=67108863,this.words[$]=F}return O!==0&&(this.words[$]=O,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(h){var g=h<0;if(this.negative!==0&&!g)return-1;if(this.negative===0&&g)return 1;this._strip();var E;if(this.length>1)E=1;else{g&&(h=-h),r(h<=67108863,"Number is too big");var R=this.words[0]|0;E=R===h?0:R<h?-1:1}return this.negative!==0?-E|0:E},s.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var g=this.ucmp(h);return this.negative!==0?-g|0:g},s.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var g=0,E=this.length-1;E>=0;E--){var R=this.words[E]|0,O=h.words[E]|0;if(R!==O){R<O?g=-1:R>O&&(g=1);break}}return g},s.prototype.gtn=function(h){return this.cmpn(h)===1},s.prototype.gt=function(h){return this.cmp(h)===1},s.prototype.gten=function(h){return this.cmpn(h)>=0},s.prototype.gte=function(h){return this.cmp(h)>=0},s.prototype.ltn=function(h){return this.cmpn(h)===-1},s.prototype.lt=function(h){return this.cmp(h)===-1},s.prototype.lten=function(h){return this.cmpn(h)<=0},s.prototype.lte=function(h){return this.cmp(h)<=0},s.prototype.eqn=function(h){return this.cmpn(h)===0},s.prototype.eq=function(h){return this.cmp(h)===0},s.red=function(h){return new W(h)},s.prototype.toRed=function(h){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(h){return this.red=h,this},s.prototype.forceRed=function(h){return r(!this.red,"Already a number in reduction context"),this._forceRed(h)},s.prototype.redAdd=function(h){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},s.prototype.redIAdd=function(h){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},s.prototype.redSub=function(h){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},s.prototype.redISub=function(h){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},s.prototype.redShl=function(h){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},s.prototype.redMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},s.prototype.redIMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(h){return r(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var I={k256:null,p224:null,p192:null,p25519:null};function C(P,h){this.name=P,this.p=new s(h,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var h=new s(null);return h.words=new Array(Math.ceil(this.n/13)),h},C.prototype.ireduce=function(h){var g=h,E;do this.split(g,this.tmp),g=this.imulK(g),g=g.iadd(this.tmp),E=g.bitLength();while(E>this.n);var R=E<this.n?-1:g.ucmp(this.p);return R===0?(g.words[0]=0,g.length=1):R>0?g.isub(this.p):g.strip!==void 0?g.strip():g._strip(),g},C.prototype.split=function(h,g){h.iushrn(this.n,0,g)},C.prototype.imulK=function(h){return h.imul(this.k)};function k(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(k,C),k.prototype.split=function(h,g){for(var E=4194303,R=Math.min(h.length,9),O=0;O<R;O++)g.words[O]=h.words[O];if(g.length=R,h.length<=9){h.words[0]=0,h.length=1;return}var $=h.words[9];for(g.words[g.length++]=$&E,O=10;O<h.length;O++){var F=h.words[O]|0;h.words[O-10]=(F&E)<<4|$>>>22,$=F}$>>>=22,h.words[O-10]=$,$===0&&h.length>10?h.length-=10:h.length-=9},k.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var g=0,E=0;E<h.length;E++){var R=h.words[E]|0;g+=R*977,h.words[E]=g&67108863,g=R*64+(g/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function z(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(z,C);function N(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(N,C);function U(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(U,C),U.prototype.imulK=function(h){for(var g=0,E=0;E<h.length;E++){var R=(h.words[E]|0)*19+g,O=R&67108863;R>>>=26,h.words[E]=O,g=R}return g!==0&&(h.words[h.length++]=g),h},s._prime=function(h){if(I[h])return I[h];var g;if(h==="k256")g=new k;else if(h==="p224")g=new z;else if(h==="p192")g=new N;else if(h==="p25519")g=new U;else throw new Error("Unknown prime "+h);return I[h]=g,g};function W(P){if(typeof P=="string"){var h=s._prime(P);this.m=h.p,this.prime=h}else r(P.gtn(1),"modulus must be greater than 1"),this.m=P,this.prime=null}W.prototype._verify1=function(h){r(h.negative===0,"red works only with positives"),r(h.red,"red works only with red numbers")},W.prototype._verify2=function(h,g){r((h.negative|g.negative)===0,"red works only with positives"),r(h.red&&h.red===g.red,"red works only with red numbers")},W.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):(l(h,h.umod(this.m)._forceRed(this)),h)},W.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},W.prototype.add=function(h,g){this._verify2(h,g);var E=h.add(g);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},W.prototype.iadd=function(h,g){this._verify2(h,g);var E=h.iadd(g);return E.cmp(this.m)>=0&&E.isub(this.m),E},W.prototype.sub=function(h,g){this._verify2(h,g);var E=h.sub(g);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},W.prototype.isub=function(h,g){this._verify2(h,g);var E=h.isub(g);return E.cmpn(0)<0&&E.iadd(this.m),E},W.prototype.shl=function(h,g){return this._verify1(h),this.imod(h.ushln(g))},W.prototype.imul=function(h,g){return this._verify2(h,g),this.imod(h.imul(g))},W.prototype.mul=function(h,g){return this._verify2(h,g),this.imod(h.mul(g))},W.prototype.isqr=function(h){return this.imul(h,h.clone())},W.prototype.sqr=function(h){return this.mul(h,h)},W.prototype.sqrt=function(h){if(h.isZero())return h.clone();var g=this.m.andln(3);if(r(g%2===1),g===3){var E=this.m.add(new s(1)).iushrn(2);return this.pow(h,E)}for(var R=this.m.subn(1),O=0;!R.isZero()&&R.andln(1)===0;)O++,R.iushrn(1);r(!R.isZero());var $=new s(1).toRed(this),F=$.redNeg(),T=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new s(2*m*m).toRed(this);this.pow(m,T).cmp(F)!==0;)m.redIAdd(F);for(var v=this.pow(m,R),D=this.pow(h,R.addn(1).iushrn(1)),j=this.pow(h,R),V=O;j.cmp($)!==0;){for(var Y=j,ee=0;Y.cmp($)!==0;ee++)Y=Y.redSqr();r(ee<V);var re=this.pow(v,new s(1).iushln(V-ee-1));D=D.redMul(re),v=re.redSqr(),j=j.redMul(v),V=ee}return D},W.prototype.invm=function(h){var g=h._invmp(this.m);return g.negative!==0?(g.negative=0,this.imod(g).redNeg()):this.imod(g)},W.prototype.pow=function(h,g){if(g.isZero())return new s(1).toRed(this);if(g.cmpn(1)===0)return h.clone();var E=4,R=new Array(1<<E);R[0]=new s(1).toRed(this),R[1]=h;for(var O=2;O<R.length;O++)R[O]=this.mul(R[O-1],h);var $=R[0],F=0,T=0,m=g.bitLength()%26;for(m===0&&(m=26),O=g.length-1;O>=0;O--){for(var v=g.words[O],D=m-1;D>=0;D--){var j=v>>D&1;if($!==R[0]&&($=this.sqr($)),j===0&&F===0){T=0;continue}F<<=1,F|=j,T++,!(T!==E&&(O!==0||D!==0))&&($=this.mul($,R[F]),T=0,F=0)}m=26}return $},W.prototype.convertTo=function(h){var g=h.umod(this.m);return g===h?g.clone():g},W.prototype.convertFrom=function(h){var g=h.clone();return g.red=null,g},s.mont=function(h){return new H(h)};function H(P){W.call(this,P),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(H,W),H.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},H.prototype.convertFrom=function(h){var g=this.imod(h.mul(this.rinv));return g.red=null,g},H.prototype.imul=function(h,g){if(h.isZero()||g.isZero())return h.words[0]=0,h.length=1,h;var E=h.imul(g),R=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=E.isub(R).iushrn(this.shift),$=O;return O.cmp(this.m)>=0?$=O.isub(this.m):O.cmpn(0)<0&&($=O.iadd(this.m)),$._forceRed(this)},H.prototype.mul=function(h,g){if(h.isZero()||g.isZero())return new s(0)._forceRed(this);var E=h.mul(g),R=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),O=E.isub(R).iushrn(this.shift),$=O;return O.cmp(this.m)>=0?$=O.isub(this.m):O.cmpn(0)<0&&($=O.iadd(this.m)),$._forceRed(this)},H.prototype.invm=function(h){var g=this.imod(h._invmp(this.m).mul(this.r2));return g._forceRed(this)}})(e,$5)})(oc)),oc.exports}var k5=rb();const Ep=xn(k5);var ka={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var xp;function ib(){return xp||(xp=1,(function(e,t){var n=ia(),r=n.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s);function s(o,a,c){return r(o,a,c)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(ka,ka.exports)),ka.exports}var De={},rl,_p;function L5(){if(_p)return rl;_p=1;var e=ib().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var s=0;s<n.length;s++){var o=n.charAt(s),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=s}var c=n.length,u=n.charAt(0),l=Math.log(c)/Math.log(256),f=Math.log(256)/Math.log(c);function d(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=e.from(y)),!e.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var w=0,A=0,B=0,_=y.length;B!==_&&y[B]===0;)B++,w++;for(var M=(_-B)*f+1>>>0,I=new Uint8Array(M);B!==_;){for(var C=y[B],k=0,z=M-1;(C!==0||k<A)&&z!==-1;z--,k++)C+=256*I[z]>>>0,I[z]=C%c>>>0,C=C/c>>>0;if(C!==0)throw new Error("Non-zero carry");A=k,B++}for(var N=M-A;N!==M&&I[N]===0;)N++;for(var U=u.repeat(w);N<M;++N)U+=n.charAt(I[N]);return U}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return e.alloc(0);for(var w=0,A=0,B=0;y[w]===u;)A++,w++;for(var _=(y.length-w)*l+1>>>0,M=new Uint8Array(_);w<y.length;){var I=y.charCodeAt(w);if(I>255)return;var C=r[I];if(C===255)return;for(var k=0,z=_-1;(C!==0||k<B)&&z!==-1;z--,k++)C+=c*M[z]>>>0,M[z]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");B=k,w++}for(var N=_-B;N!==_&&M[N]===0;)N++;var U=e.allocUnsafe(A+(_-N));U.fill(0,0,A);for(var W=A;N!==_;)U[W++]=M[N++];return U}function b(y){var w=p(y);if(w)return w;throw new Error("Non-base"+c+" character")}return{encode:d,decodeUnsafe:p,decode:b}}return rl=t,rl}var il,Sp;function N5(){if(Sp)return il;Sp=1;var e=L5(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return il=e(t),il}function or(e,t,n){return t<=e&&e<=n}function lu(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function F5(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var s=t.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=e.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,c=o&1023;i.push(65536+(a<<10)+c),r+=1}else i.push(65533)}r+=1}return i}function U5(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var Lc=-1;function Oh(e){this.tokens=[].slice.call(e)}Oh.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Lc},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var _s=-1;function sl(e,t){if(e)throw TypeError("Decoder error");return t||65533}var Nc="utf-8";function Fc(e,t){if(!(this instanceof Fc))return new Fc(e,t);if(e=e!==void 0?String(e).toLowerCase():Nc,e!==Nc)throw new Error("Encoding not supported. Only utf-8 is supported");t=lu(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Fc.prototype={decode:function(t,n){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),n=lu(n),this._streaming||(this._decoder=new z5({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new Oh(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==_s);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===_s)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),U5(s)}};function Uc(e,t){if(!(this instanceof Uc))return new Uc(e,t);if(e=e!==void 0?String(e).toLowerCase():Nc,e!==Nc)throw new Error("Encoding not supported. Only utf-8 is supported");t=lu(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Uc.prototype={encode:function(t,n){t=t?String(t):"",n=lu(n),this._streaming||(this._encoder=new j5(this._options)),this._streaming=!!n.stream;for(var r=[],i=new Oh(F5(t)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==_s);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==_s;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function z5(e){var t=e.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,c){if(c===Lc&&i!==0)return i=0,sl(t);if(c===Lc)return _s;if(i===0){if(or(c,0,127))return c;if(or(c,194,223))i=1,n=c-192;else if(or(c,224,239))c===224&&(s=160),c===237&&(o=159),i=2,n=c-224;else if(or(c,240,244))c===240&&(s=144),c===244&&(o=143),i=3,n=c-240;else return sl(t);return n=n<<6*i,null}if(!or(c,s,o))return n=i=r=0,s=128,o=191,a.prepend(c),sl(t);if(s=128,o=191,r+=1,n+=c-128<<6*(i-r),r!==i)return null;var u=n;return n=i=r=0,u}}function j5(e){e.fatal,this.handler=function(t,n){if(n===Lc)return _s;if(or(n,0,127))return n;var r,i;or(n,128,2047)?(r=1,i=192):or(n,2048,65535)?(r=2,i=224):or(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const W5=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Fc,TextEncoder:Uc},Symbol.toStringTag,{value:"Module"})),q5=ra(W5);var Ap;function H5(){if(Ap)return De;Ap=1;var e=De&&De.__createBinding||(Object.create?(function(N,U,W,H){H===void 0&&(H=W),Object.defineProperty(N,H,{enumerable:!0,get:function(){return U[W]}})}):(function(N,U,W,H){H===void 0&&(H=W),N[H]=U[W]})),t=De&&De.__setModuleDefault||(Object.create?(function(N,U){Object.defineProperty(N,"default",{enumerable:!0,value:U})}):function(N,U){N.default=U}),n=De&&De.__decorate||function(N,U,W,H){var P=arguments.length,h=P<3?U:H===null?H=Object.getOwnPropertyDescriptor(U,W):H,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(N,U,W,H);else for(var E=N.length-1;E>=0;E--)(g=N[E])&&(h=(P<3?g(h):P>3?g(U,W,h):g(U,W))||h);return P>3&&h&&Object.defineProperty(U,W,h),h},r=De&&De.__importStar||function(N){if(N&&N.__esModule)return N;var U={};if(N!=null)for(var W in N)W!=="default"&&Object.hasOwnProperty.call(N,W)&&e(U,N,W);return t(U,N),U},i=De&&De.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(De,"__esModule",{value:!0}),De.deserializeUnchecked=De.deserialize=De.serialize=De.BinaryReader=De.BinaryWriter=De.BorshError=De.baseDecode=De.baseEncode=void 0;const s=i(rb()),o=i(N5()),a=r(q5),c=typeof TextDecoder!="function"?a.TextDecoder:TextDecoder,u=new c("utf-8",{fatal:!0});function l(N){return typeof N=="string"&&(N=he.Buffer.from(N,"utf8")),o.default.encode(he.Buffer.from(N))}De.baseEncode=l;function f(N){return he.Buffer.from(o.default.decode(N))}De.baseDecode=f;const d=1024;class p extends Error{constructor(U){super(U),this.fieldPath=[],this.originalMessage=U}addToFieldPath(U){this.fieldPath.splice(0,0,U),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}De.BorshError=p;class b{constructor(){this.buf=he.Buffer.alloc(d),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=he.Buffer.concat([this.buf,he.Buffer.alloc(d)]))}writeU8(U){this.maybeResize(),this.buf.writeUInt8(U,this.length),this.length+=1}writeU16(U){this.maybeResize(),this.buf.writeUInt16LE(U,this.length),this.length+=2}writeU32(U){this.maybeResize(),this.buf.writeUInt32LE(U,this.length),this.length+=4}writeU64(U){this.maybeResize(),this.writeBuffer(he.Buffer.from(new s.default(U).toArray("le",8)))}writeU128(U){this.maybeResize(),this.writeBuffer(he.Buffer.from(new s.default(U).toArray("le",16)))}writeU256(U){this.maybeResize(),this.writeBuffer(he.Buffer.from(new s.default(U).toArray("le",32)))}writeU512(U){this.maybeResize(),this.writeBuffer(he.Buffer.from(new s.default(U).toArray("le",64)))}writeBuffer(U){this.buf=he.Buffer.concat([he.Buffer.from(this.buf.subarray(0,this.length)),U,he.Buffer.alloc(d)]),this.length+=U.length}writeString(U){this.maybeResize();const W=he.Buffer.from(U,"utf8");this.writeU32(W.length),this.writeBuffer(W)}writeFixedArray(U){this.writeBuffer(he.Buffer.from(U))}writeArray(U,W){this.maybeResize(),this.writeU32(U.length);for(const H of U)this.maybeResize(),W(H)}toArray(){return this.buf.subarray(0,this.length)}}De.BinaryWriter=b;function y(N,U,W){const H=W.value;W.value=function(...P){try{return H.apply(this,P)}catch(h){if(h instanceof RangeError){const g=h.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(g)>=0)throw new p("Reached the end of buffer when deserializing")}throw h}}}class w{constructor(U){this.buf=U,this.offset=0}readU8(){const U=this.buf.readUInt8(this.offset);return this.offset+=1,U}readU16(){const U=this.buf.readUInt16LE(this.offset);return this.offset+=2,U}readU32(){const U=this.buf.readUInt32LE(this.offset);return this.offset+=4,U}readU64(){const U=this.readBuffer(8);return new s.default(U,"le")}readU128(){const U=this.readBuffer(16);return new s.default(U,"le")}readU256(){const U=this.readBuffer(32);return new s.default(U,"le")}readU512(){const U=this.readBuffer(64);return new s.default(U,"le")}readBuffer(U){if(this.offset+U>this.buf.length)throw new p(`Expected buffer length ${U} isn't within bounds`);const W=this.buf.slice(this.offset,this.offset+U);return this.offset+=U,W}readString(){const U=this.readU32(),W=this.readBuffer(U);try{return u.decode(W)}catch(H){throw new p(`Error decoding UTF-8 string: ${H}`)}}readFixedArray(U){return new Uint8Array(this.readBuffer(U))}readArray(U){const W=this.readU32(),H=Array();for(let P=0;P<W;++P)H.push(U());return H}}n([y],w.prototype,"readU8",null),n([y],w.prototype,"readU16",null),n([y],w.prototype,"readU32",null),n([y],w.prototype,"readU64",null),n([y],w.prototype,"readU128",null),n([y],w.prototype,"readU256",null),n([y],w.prototype,"readU512",null),n([y],w.prototype,"readString",null),n([y],w.prototype,"readFixedArray",null),n([y],w.prototype,"readArray",null),De.BinaryReader=w;function A(N){return N.charAt(0).toUpperCase()+N.slice(1)}function B(N,U,W,H,P){try{if(typeof H=="string")P[`write${A(H)}`](W);else if(H instanceof Array)if(typeof H[0]=="number"){if(W.length!==H[0])throw new p(`Expecting byte array of length ${H[0]}, but got ${W.length} bytes`);P.writeFixedArray(W)}else if(H.length===2&&typeof H[1]=="number"){if(W.length!==H[1])throw new p(`Expecting byte array of length ${H[1]}, but got ${W.length} bytes`);for(let h=0;h<H[1];h++)B(N,null,W[h],H[0],P)}else P.writeArray(W,h=>{B(N,U,h,H[0],P)});else if(H.kind!==void 0)switch(H.kind){case"option":{W==null?P.writeU8(0):(P.writeU8(1),B(N,U,W,H.type,P));break}case"map":{P.writeU32(W.size),W.forEach((h,g)=>{B(N,U,g,H.key,P),B(N,U,h,H.value,P)});break}default:throw new p(`FieldType ${H} unrecognized`)}else _(N,W,P)}catch(h){throw h instanceof p&&h.addToFieldPath(U),h}}function _(N,U,W){if(typeof U.borshSerialize=="function"){U.borshSerialize(W);return}const H=N.get(U.constructor);if(!H)throw new p(`Class ${U.constructor.name} is missing in schema`);if(H.kind==="struct")H.fields.map(([P,h])=>{B(N,P,U[P],h,W)});else if(H.kind==="enum"){const P=U[H.field];for(let h=0;h<H.values.length;++h){const[g,E]=H.values[h];if(g===P){W.writeU8(h),B(N,g,U[g],E,W);break}}}else throw new p(`Unexpected schema kind: ${H.kind} for ${U.constructor.name}`)}function M(N,U,W=b){const H=new W;return _(N,U,H),H.toArray()}De.serialize=M;function I(N,U,W,H){try{if(typeof W=="string")return H[`read${A(W)}`]();if(W instanceof Array){if(typeof W[0]=="number")return H.readFixedArray(W[0]);if(typeof W[1]=="number"){const P=[];for(let h=0;h<W[1];h++)P.push(I(N,null,W[0],H));return P}else return H.readArray(()=>I(N,U,W[0],H))}if(W.kind==="option")return H.readU8()?I(N,U,W.type,H):void 0;if(W.kind==="map"){let P=new Map;const h=H.readU32();for(let g=0;g<h;g++){const E=I(N,U,W.key,H),R=I(N,U,W.value,H);P.set(E,R)}return P}return C(N,W,H)}catch(P){throw P instanceof p&&P.addToFieldPath(U),P}}function C(N,U,W){if(typeof U.borshDeserialize=="function")return U.borshDeserialize(W);const H=N.get(U);if(!H)throw new p(`Class ${U.name} is missing in schema`);if(H.kind==="struct"){const P={};for(const[h,g]of N.get(U).fields)P[h]=I(N,h,g,W);return new U(P)}if(H.kind==="enum"){const P=W.readU8();if(P>=H.values.length)throw new p(`Enum index: ${P} is out of range`);const[h,g]=H.values[P],E=I(N,h,g,W);return new U({[h]:E})}throw new p(`Unexpected schema kind: ${H.kind} for ${U.constructor.name}`)}function k(N,U,W,H=w){const P=new H(W),h=C(N,U,P);if(P.offset<W.length)throw new p(`Unexpected ${W.length-P.offset} bytes after deserialized data`);return h}De.deserialize=k;function z(N,U,W,H=w){const P=new H(W);return C(N,U,P)}return De.deserializeUnchecked=z,De}var ol=H5(),Q={},Ip;function K5(){if(Ip)return Q;Ip=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.s16=Q.s8=Q.nu64be=Q.u48be=Q.u40be=Q.u32be=Q.u24be=Q.u16be=Q.nu64=Q.u48=Q.u40=Q.u32=Q.u24=Q.u16=Q.u8=Q.offset=Q.greedy=Q.Constant=Q.UTF8=Q.CString=Q.Blob=Q.Boolean=Q.BitField=Q.BitStructure=Q.VariantLayout=Q.Union=Q.UnionLayoutDiscriminator=Q.UnionDiscriminator=Q.Structure=Q.Sequence=Q.DoubleBE=Q.Double=Q.FloatBE=Q.Float=Q.NearInt64BE=Q.NearInt64=Q.NearUInt64BE=Q.NearUInt64=Q.IntBE=Q.Int=Q.UIntBE=Q.UInt=Q.OffsetLayout=Q.GreedyCount=Q.ExternalLayout=Q.bindConstructorLayout=Q.nameWithProperty=Q.Layout=Q.uint8ArrayToBuffer=Q.checkUint8Array=void 0,Q.constant=Q.utf8=Q.cstr=Q.blob=Q.unionLayoutDiscriminator=Q.union=Q.seq=Q.bits=Q.struct=Q.f64be=Q.f64=Q.f32be=Q.f32=Q.ns64be=Q.s48be=Q.s40be=Q.s32be=Q.s24be=Q.s16be=Q.ns64=Q.s48=Q.s40=Q.s32=Q.s24=void 0;const e=ia();function t(m){if(!(m instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Q.checkUint8Array=t;function n(m){return t(m),e.Buffer.from(m.buffer,m.byteOffset,m.length)}Q.uint8ArrayToBuffer=n;let r=class{constructor(v,D){if(!Number.isInteger(v))throw new TypeError("span must be an integer");this.span=v,this.property=D}makeDestinationObject(){return{}}getSpan(v,D){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(v){const D=Object.create(this.constructor.prototype);return Object.assign(D,this),D.property=v,D}fromArray(v){}};Q.Layout=r;function i(m,v){return v.property?m+"["+v.property+"]":m}Q.nameWithProperty=i;function s(m,v){if(typeof m!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(m,"layout_"))throw new Error("Class is already bound to a layout");if(!(v&&v instanceof r))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(v,"boundConstructor_"))throw new Error("layout is already bound to a constructor");m.layout_=v,v.boundConstructor_=m,v.makeDestinationObject=(()=>new m),Object.defineProperty(m.prototype,"encode",{value(D,j){return v.encode(this,D,j)},writable:!0}),Object.defineProperty(m,"decode",{value(D,j){return v.decode(D,j)},writable:!0})}Q.bindConstructorLayout=s;class o extends r{isCount(){throw new Error("ExternalLayout is abstract")}}Q.ExternalLayout=o;class a extends o{constructor(v=1,D){if(!Number.isInteger(v)||0>=v)throw new TypeError("elementSpan must be a (positive) integer");super(-1,D),this.elementSpan=v}isCount(){return!0}decode(v,D=0){t(v);const j=v.length-D;return Math.floor(j/this.elementSpan)}encode(v,D,j){return 0}}Q.GreedyCount=a;class c extends o{constructor(v,D=0,j){if(!(v instanceof r))throw new TypeError("layout must be a Layout");if(!Number.isInteger(D))throw new TypeError("offset must be integer or undefined");super(v.span,j||v.property),this.layout=v,this.offset=D}isCount(){return this.layout instanceof u||this.layout instanceof l}decode(v,D=0){return this.layout.decode(v,D+this.offset)}encode(v,D,j=0){return this.layout.encode(v,D,j+this.offset)}}Q.OffsetLayout=c;class u extends r{constructor(v,D){if(super(v,D),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,D=0){return n(v).readUIntLE(D,this.span)}encode(v,D,j=0){return n(D).writeUIntLE(v,j,this.span),this.span}}Q.UInt=u;class l extends r{constructor(v,D){if(super(v,D),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,D=0){return n(v).readUIntBE(D,this.span)}encode(v,D,j=0){return n(D).writeUIntBE(v,j,this.span),this.span}}Q.UIntBE=l;class f extends r{constructor(v,D){if(super(v,D),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,D=0){return n(v).readIntLE(D,this.span)}encode(v,D,j=0){return n(D).writeIntLE(v,j,this.span),this.span}}Q.Int=f;class d extends r{constructor(v,D){if(super(v,D),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(v,D=0){return n(v).readIntBE(D,this.span)}encode(v,D,j=0){return n(D).writeIntBE(v,j,this.span),this.span}}Q.IntBE=d;const p=Math.pow(2,32);function b(m){const v=Math.floor(m/p),D=m-v*p;return{hi32:v,lo32:D}}function y(m,v){return m*p+v}class w extends r{constructor(v){super(8,v)}decode(v,D=0){const j=n(v),V=j.readUInt32LE(D),Y=j.readUInt32LE(D+4);return y(Y,V)}encode(v,D,j=0){const V=b(v),Y=n(D);return Y.writeUInt32LE(V.lo32,j),Y.writeUInt32LE(V.hi32,j+4),8}}Q.NearUInt64=w;class A extends r{constructor(v){super(8,v)}decode(v,D=0){const j=n(v),V=j.readUInt32BE(D),Y=j.readUInt32BE(D+4);return y(V,Y)}encode(v,D,j=0){const V=b(v),Y=n(D);return Y.writeUInt32BE(V.hi32,j),Y.writeUInt32BE(V.lo32,j+4),8}}Q.NearUInt64BE=A;class B extends r{constructor(v){super(8,v)}decode(v,D=0){const j=n(v),V=j.readUInt32LE(D),Y=j.readInt32LE(D+4);return y(Y,V)}encode(v,D,j=0){const V=b(v),Y=n(D);return Y.writeUInt32LE(V.lo32,j),Y.writeInt32LE(V.hi32,j+4),8}}Q.NearInt64=B;class _ extends r{constructor(v){super(8,v)}decode(v,D=0){const j=n(v),V=j.readInt32BE(D),Y=j.readUInt32BE(D+4);return y(V,Y)}encode(v,D,j=0){const V=b(v),Y=n(D);return Y.writeInt32BE(V.hi32,j),Y.writeUInt32BE(V.lo32,j+4),8}}Q.NearInt64BE=_;class M extends r{constructor(v){super(4,v)}decode(v,D=0){return n(v).readFloatLE(D)}encode(v,D,j=0){return n(D).writeFloatLE(v,j),4}}Q.Float=M;class I extends r{constructor(v){super(4,v)}decode(v,D=0){return n(v).readFloatBE(D)}encode(v,D,j=0){return n(D).writeFloatBE(v,j),4}}Q.FloatBE=I;class C extends r{constructor(v){super(8,v)}decode(v,D=0){return n(v).readDoubleLE(D)}encode(v,D,j=0){return n(D).writeDoubleLE(v,j),8}}Q.Double=C;class k extends r{constructor(v){super(8,v)}decode(v,D=0){return n(v).readDoubleBE(D)}encode(v,D,j=0){return n(D).writeDoubleBE(v,j),8}}Q.DoubleBE=k;class z extends r{constructor(v,D,j){if(!(v instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(D instanceof o&&D.isCount()||Number.isInteger(D)&&0<=D))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let V=-1;!(D instanceof o)&&0<v.span&&(V=D*v.span),super(V,j),this.elementLayout=v,this.count=D}getSpan(v,D=0){if(0<=this.span)return this.span;let j=0,V=this.count;if(V instanceof o&&(V=V.decode(v,D)),0<this.elementLayout.span)j=V*this.elementLayout.span;else{let Y=0;for(;Y<V;)j+=this.elementLayout.getSpan(v,D+j),++Y}return j}decode(v,D=0){const j=[];let V=0,Y=this.count;for(Y instanceof o&&(Y=Y.decode(v,D));V<Y;)j.push(this.elementLayout.decode(v,D)),D+=this.elementLayout.getSpan(v,D),V+=1;return j}encode(v,D,j=0){const V=this.elementLayout,Y=v.reduce((ee,re)=>ee+V.encode(re,D,j+ee),0);return this.count instanceof o&&this.count.encode(v.length,D,j),Y}}Q.Sequence=z;class N extends r{constructor(v,D,j){if(!(Array.isArray(v)&&v.reduce((Y,ee)=>Y&&ee instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof D=="boolean"&&j===void 0&&(j=D,D=void 0);for(const Y of v)if(0>Y.span&&Y.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let V=-1;try{V=v.reduce((Y,ee)=>Y+ee.getSpan(),0)}catch{}super(V,D),this.fields=v,this.decodePrefixes=!!j}getSpan(v,D=0){if(0<=this.span)return this.span;let j=0;try{j=this.fields.reduce((V,Y)=>{const ee=Y.getSpan(v,D);return D+=ee,V+ee},0)}catch{throw new RangeError("indeterminate span")}return j}decode(v,D=0){t(v);const j=this.makeDestinationObject();for(const V of this.fields)if(V.property!==void 0&&(j[V.property]=V.decode(v,D)),D+=V.getSpan(v,D),this.decodePrefixes&&v.length===D)break;return j}encode(v,D,j=0){const V=j;let Y=0,ee=0;for(const re of this.fields){let ve=re.span;if(ee=0<ve?ve:0,re.property!==void 0){const me=v[re.property];me!==void 0&&(ee=re.encode(me,D,j),0>ve&&(ve=re.getSpan(D,j)))}Y=j,j+=ve}return Y+ee-V}fromArray(v){const D=this.makeDestinationObject();for(const j of this.fields)j.property!==void 0&&0<v.length&&(D[j.property]=v.shift());return D}layoutFor(v){if(typeof v!="string")throw new TypeError("property must be string");for(const D of this.fields)if(D.property===v)return D}offsetOf(v){if(typeof v!="string")throw new TypeError("property must be string");let D=0;for(const j of this.fields){if(j.property===v)return D;0>j.span?D=-1:0<=D&&(D+=j.span)}}}Q.Structure=N;class U{constructor(v){this.property=v}decode(v,D){throw new Error("UnionDiscriminator is abstract")}encode(v,D,j){throw new Error("UnionDiscriminator is abstract")}}Q.UnionDiscriminator=U;class W extends U{constructor(v,D){if(!(v instanceof o&&v.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(D||v.property||"variant"),this.layout=v}decode(v,D){return this.layout.decode(v,D)}encode(v,D,j){return this.layout.encode(v,D,j)}}Q.UnionLayoutDiscriminator=W;class H extends r{constructor(v,D,j){let V;if(v instanceof u||v instanceof l)V=new W(new c(v));else if(v instanceof o&&v.isCount())V=new W(v);else if(v instanceof U)V=v;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(D===void 0&&(D=null),!(D===null||D instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(D!==null){if(0>D.span)throw new Error("defaultLayout must have constant span");D.property===void 0&&(D=D.replicate("content"))}let Y=-1;D&&(Y=D.span,0<=Y&&(v instanceof u||v instanceof l)&&(Y+=V.layout.span)),super(Y,j),this.discriminator=V,this.usesPrefixDiscriminator=v instanceof u||v instanceof l,this.defaultLayout=D,this.registry={};let ee=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(re){return ee(re)},this.configGetSourceVariant=function(re){ee=re.bind(this)}}getSpan(v,D=0){if(0<=this.span)return this.span;const j=this.getVariant(v,D);if(!j)throw new Error("unable to determine span for unrecognized variant");return j.getSpan(v,D)}defaultGetSourceVariant(v){if(Object.prototype.hasOwnProperty.call(v,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(v,this.defaultLayout.property))return;const D=this.registry[v[this.discriminator.property]];if(D&&(!D.layout||D.property&&Object.prototype.hasOwnProperty.call(v,D.property)))return D}else for(const D in this.registry){const j=this.registry[D];if(j.property&&Object.prototype.hasOwnProperty.call(v,j.property))return j}throw new Error("unable to infer src variant")}decode(v,D=0){let j;const V=this.discriminator,Y=V.decode(v,D),ee=this.registry[Y];if(ee===void 0){const re=this.defaultLayout;let ve=0;this.usesPrefixDiscriminator&&(ve=V.layout.span),j=this.makeDestinationObject(),j[V.property]=Y,j[re.property]=re.decode(v,D+ve)}else j=ee.decode(v,D);return j}encode(v,D,j=0){const V=this.getSourceVariant(v);if(V===void 0){const Y=this.discriminator,ee=this.defaultLayout;let re=0;return this.usesPrefixDiscriminator&&(re=Y.layout.span),Y.encode(v[Y.property],D,j),re+ee.encode(v[ee.property],D,j+re)}return V.encode(v,D,j)}addVariant(v,D,j){const V=new P(this,v,D,j);return this.registry[v]=V,V}getVariant(v,D=0){let j;return v instanceof Uint8Array?j=this.discriminator.decode(v,D):j=v,this.registry[j]}}Q.Union=H;class P extends r{constructor(v,D,j,V){if(!(v instanceof H))throw new TypeError("union must be a Union");if(!Number.isInteger(D)||0>D)throw new TypeError("variant must be a (non-negative) integer");if(typeof j=="string"&&V===void 0&&(V=j,j=null),j){if(!(j instanceof r))throw new TypeError("layout must be a Layout");if(v.defaultLayout!==null&&0<=j.span&&j.span>v.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof V!="string")throw new TypeError("variant must have a String property")}let Y=v.span;0>v.span&&(Y=j?j.span:0,0<=Y&&v.usesPrefixDiscriminator&&(Y+=v.discriminator.layout.span)),super(Y,V),this.union=v,this.variant=D,this.layout=j||null}getSpan(v,D=0){if(0<=this.span)return this.span;let j=0;this.union.usesPrefixDiscriminator&&(j=this.union.discriminator.layout.span);let V=0;return this.layout&&(V=this.layout.getSpan(v,D+j)),j+V}decode(v,D=0){const j=this.makeDestinationObject();if(this!==this.union.getVariant(v,D))throw new Error("variant mismatch");let V=0;return this.union.usesPrefixDiscriminator&&(V=this.union.discriminator.layout.span),this.layout?j[this.property]=this.layout.decode(v,D+V):this.property?j[this.property]=!0:this.union.usesPrefixDiscriminator&&(j[this.union.discriminator.property]=this.variant),j}encode(v,D,j=0){let V=0;if(this.union.usesPrefixDiscriminator&&(V=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(v,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,D,j);let Y=V;if(this.layout&&(this.layout.encode(v[this.property],D,j+V),Y+=this.layout.getSpan(D,j+V),0<=this.union.span&&Y>this.union.span))throw new Error("encoded variant overruns containing union");return Y}fromArray(v){if(this.layout)return this.layout.fromArray(v)}}Q.VariantLayout=P;function h(m){return 0>m&&(m+=4294967296),m}class g extends r{constructor(v,D,j){if(!(v instanceof u||v instanceof l))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof D=="string"&&j===void 0&&(j=D,D=!1),4<v.span)throw new RangeError("word cannot exceed 32 bits");super(v.span,j),this.word=v,this.msb=!!D,this.fields=[];let V=0;this._packedSetValue=function(Y){return V=h(Y),this},this._packedGetValue=function(){return V}}decode(v,D=0){const j=this.makeDestinationObject(),V=this.word.decode(v,D);this._packedSetValue(V);for(const Y of this.fields)Y.property!==void 0&&(j[Y.property]=Y.decode(v));return j}encode(v,D,j=0){const V=this.word.decode(D,j);this._packedSetValue(V);for(const Y of this.fields)if(Y.property!==void 0){const ee=v[Y.property];ee!==void 0&&Y.encode(ee)}return this.word.encode(this._packedGetValue(),D,j)}addField(v,D){const j=new E(this,v,D);return this.fields.push(j),j}addBoolean(v){const D=new R(this,v);return this.fields.push(D),D}fieldFor(v){if(typeof v!="string")throw new TypeError("property must be string");for(const D of this.fields)if(D.property===v)return D}}Q.BitStructure=g;class E{constructor(v,D,j){if(!(v instanceof g))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(D)||0>=D)throw new TypeError("bits must be positive integer");const V=8*v.span,Y=v.fields.reduce((ee,re)=>ee+re.bits,0);if(D+Y>V)throw new Error("bits too long for span remainder ("+(V-Y)+" of "+V+" remain)");this.container=v,this.bits=D,this.valueMask=(1<<D)-1,D===32&&(this.valueMask=4294967295),this.start=Y,this.container.msb&&(this.start=V-Y-D),this.wordMask=h(this.valueMask<<this.start),this.property=j}decode(v,D){const j=this.container._packedGetValue();return h(j&this.wordMask)>>>this.start}encode(v){if(typeof v!="number"||!Number.isInteger(v)||v!==h(v&this.valueMask))throw new TypeError(i("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const D=this.container._packedGetValue(),j=h(v<<this.start);this.container._packedSetValue(h(D&~this.wordMask)|j)}}Q.BitField=E;class R extends E{constructor(v,D){super(v,1,D)}decode(v,D){return!!super.decode(v,D)}encode(v){typeof v=="boolean"&&(v=+v),super.encode(v)}}Q.Boolean=R;class O extends r{constructor(v,D){if(!(v instanceof o&&v.isCount()||Number.isInteger(v)&&0<=v))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let j=-1;v instanceof o||(j=v),super(j,D),this.length=v}getSpan(v,D){let j=this.span;return 0>j&&(j=this.length.decode(v,D)),j}decode(v,D=0){let j=this.span;return 0>j&&(j=this.length.decode(v,D)),n(v).slice(D,D+j)}encode(v,D,j){let V=this.length;if(this.length instanceof o&&(V=v.length),!(v instanceof Uint8Array&&V===v.length))throw new TypeError(i("Blob.encode",this)+" requires (length "+V+") Uint8Array as src");if(j+V>D.length)throw new RangeError("encoding overruns Uint8Array");const Y=n(v);return n(D).write(Y.toString("hex"),j,V,"hex"),this.length instanceof o&&this.length.encode(V,D,j),V}}Q.Blob=O;class $ extends r{constructor(v){super(-1,v)}getSpan(v,D=0){t(v);let j=D;for(;j<v.length&&v[j]!==0;)j+=1;return 1+j-D}decode(v,D=0){const j=this.getSpan(v,D);return n(v).slice(D,D+j-1).toString("utf-8")}encode(v,D,j=0){typeof v!="string"&&(v=String(v));const V=e.Buffer.from(v,"utf8"),Y=V.length;if(j+Y>D.length)throw new RangeError("encoding overruns Buffer");const ee=n(D);return V.copy(ee,j),ee[j+Y]=0,Y+1}}Q.CString=$;class F extends r{constructor(v,D){if(typeof v=="string"&&D===void 0&&(D=v,v=void 0),v===void 0)v=-1;else if(!Number.isInteger(v))throw new TypeError("maxSpan must be an integer");super(-1,D),this.maxSpan=v}getSpan(v,D=0){return t(v),v.length-D}decode(v,D=0){const j=this.getSpan(v,D);if(0<=this.maxSpan&&this.maxSpan<j)throw new RangeError("text length exceeds maxSpan");return n(v).slice(D,D+j).toString("utf-8")}encode(v,D,j=0){typeof v!="string"&&(v=String(v));const V=e.Buffer.from(v,"utf8"),Y=V.length;if(0<=this.maxSpan&&this.maxSpan<Y)throw new RangeError("text length exceeds maxSpan");if(j+Y>D.length)throw new RangeError("encoding overruns Buffer");return V.copy(n(D),j),Y}}Q.UTF8=F;class T extends r{constructor(v,D){super(0,D),this.value=v}decode(v,D){return this.value}encode(v,D,j){return 0}}return Q.Constant=T,Q.greedy=((m,v)=>new a(m,v)),Q.offset=((m,v,D)=>new c(m,v,D)),Q.u8=(m=>new u(1,m)),Q.u16=(m=>new u(2,m)),Q.u24=(m=>new u(3,m)),Q.u32=(m=>new u(4,m)),Q.u40=(m=>new u(5,m)),Q.u48=(m=>new u(6,m)),Q.nu64=(m=>new w(m)),Q.u16be=(m=>new l(2,m)),Q.u24be=(m=>new l(3,m)),Q.u32be=(m=>new l(4,m)),Q.u40be=(m=>new l(5,m)),Q.u48be=(m=>new l(6,m)),Q.nu64be=(m=>new A(m)),Q.s8=(m=>new f(1,m)),Q.s16=(m=>new f(2,m)),Q.s24=(m=>new f(3,m)),Q.s32=(m=>new f(4,m)),Q.s40=(m=>new f(5,m)),Q.s48=(m=>new f(6,m)),Q.ns64=(m=>new B(m)),Q.s16be=(m=>new d(2,m)),Q.s24be=(m=>new d(3,m)),Q.s32be=(m=>new d(4,m)),Q.s40be=(m=>new d(5,m)),Q.s48be=(m=>new d(6,m)),Q.ns64be=(m=>new _(m)),Q.f32=(m=>new M(m)),Q.f32be=(m=>new I(m)),Q.f64=(m=>new C(m)),Q.f64be=(m=>new k(m)),Q.struct=((m,v,D)=>new N(m,v,D)),Q.bits=((m,v,D)=>new g(m,v,D)),Q.seq=((m,v,D)=>new z(m,v,D)),Q.union=((m,v,D)=>new H(m,v,D)),Q.unionLayoutDiscriminator=((m,v)=>new W(m,v)),Q.blob=((m,v)=>new O(m,v)),Q.cstr=(m=>new $(m)),Q.utf8=((m,v)=>new F(m,v)),Q.constant=((m,v)=>new T(m,v)),Q}var K=K5(),V5=8078e3,G5=8078001,Z5=8078004,Y5=8078005,J5=8078006,Q5=8078011;function sb(e){return Array.isArray(e)?"%5B"+e.map(sb).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function X5([e,t]){return`${e}=${sb(t)}`}function eE(e){const t=Object.entries(e).map(X5).join("&");return btoa(t)}function tE(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${eE(t)}'`),`${n}\``}}var ms=class extends Error{cause=this.cause;context;constructor(...[e,t]){let n,r;if(t){const{cause:s,...o}=t;s&&(r={cause:s}),Object.keys(o).length>0&&(n=o)}const i=tE(e,n);super(i,r),this.context={__code:e,...n},this.name="SolanaError"}};function nE(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function rE(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(nE(t,e));return e.write(t,n,0),n}})}function iE(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function Ji(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function sE(e,t){if(Ji(e)!==Ji(t))throw new ms(Z5);if(Ji(e)&&Ji(t)&&e.fixedSize!==t.fixedSize)throw new ms(Y5,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!Ji(e)&&!Ji(t)&&e.maxSize!==t.maxSize)throw new ms(J5,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function oE(e,t,n=0){if(t.length-n<=0)throw new ms(V5,{codecDescription:e})}function aE(e,t,n,r=0){const i=n.length-r;if(i<t)throw new ms(G5,{bytesLength:i,codecDescription:e,expected:t})}function cE(e,t,n,r){if(r<t||r>n)throw new ms(Q5,{codecDescription:e,max:n,min:t,value:r})}function ob(e){return e?.endian!==1}function uE(e){return rE({fixedSize:e.size,write(t,n,r){e.range&&cE(e.name,e.range[0],e.range[1],t);const i=new ArrayBuffer(e.size);return e.set(new DataView(i),t,ob(e.config)),n.set(new Uint8Array(i),r),r+e.size}})}function lE(e){return iE({fixedSize:e.size,read(t,n=0){oE(e.name,t,n),aE(e.name,e.size,t,n);const r=new DataView(fE(t,n,e.size));return[e.get(r,ob(e.config)),n+e.size]}})}function fE(e,t,n){const r=e.byteOffset+(t??0),i=n??e.byteLength;return e.buffer.slice(r,r+i)}var dE=(e={})=>uE({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),hE=(e={})=>lE({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),pE=(e={})=>sE(dE(e),hE(e));class gE extends TypeError{constructor(t,n){let r;const{message:i,explanation:s,...o}=t,{path:a}=t,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function yE(e){return aa(e)&&typeof e[Symbol.iterator]=="function"}function aa(e){return typeof e=="object"&&e!=null}function zc(e){return aa(e)&&!Array.isArray(e)}function Rn(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function mE(e){const{done:t,value:n}=e.next();return t?void 0:n}function bE(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:o}=n,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Rn(r)}\``}=e;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...e,message:c}}function*Cp(e,t,n,r){yE(e)||(e=[e]);for(const i of e){const s=bE(i,t,n,r);s&&(yield s)}}function*Th(e,t,n={}){const{path:r=[],branch:i=[e],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(e=t.coercer(e,a));let c="valid";for(const u of t.validator(e,a))u.explanation=n.message,c="not_valid",yield[u,void 0];for(let[u,l,f]of t.entries(e,a)){const d=Th(l,f,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:n.message});for(const p of d)p[0]?(c=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):s&&(l=p[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):aa(e)&&(l!==void 0||u in e)&&(e[u]=l))}if(c!=="not_valid")for(const u of t.refiner(e,a))u.explanation=n.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,e])}let qn=class{constructor(t){const{type:n,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return Cp(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return Cp(l,u,this,c)}:this.refiner=()=>[]}assert(t,n){return wE(t,this,n)}create(t,n){return ae(t,this,n)}is(t){return ab(t,this)}mask(t,n){return vE(t,this,n)}validate(t,n={}){return ca(t,this,n)}};function wE(e,t,n){const r=ca(e,t,{message:n});if(r[0])throw r[0]}function ae(e,t,n){const r=ca(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function vE(e,t,n){const r=ca(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function ab(e,t){return!ca(e,t)[0]}function ca(e,t,n={}){const r=Th(e,t,n),i=mE(r);return i[0]?[new gE(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function ki(e,t){return new qn({type:e,schema:null,validator:t})}function EE(){return ki("any",()=>!0)}function ce(e){return new qn({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Rn(t)}`}})}function zn(){return ki("boolean",e=>typeof e=="boolean")}function Dh(e){return ki("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Rn(t)}`)}function Ye(e){const t=Rn(e),n=typeof e;return new qn({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${Rn(r)}`}})}function xE(){return ki("never",()=>!1)}function ue(e){return new qn({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function J(){return ki("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Rn(e)}`)}function ge(e){return new qn({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function cb(e,t){return new qn({type:"record",schema:null,*entries(n){if(aa(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator(n){return zc(n)||`Expected an object, but received: ${Rn(n)}`},coercer(n){return zc(n)?{...n}:n}})}function se(){return ki("string",e=>typeof e=="string"||`Expected a string, but received: ${Rn(e)}`)}function $h(e){const t=xE();return new qn({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Rn(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function ne(e){const t=Object.keys(e);return new qn({type:"type",schema:e,*entries(n){if(aa(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return zc(n)||`Expected an object, but received: ${Rn(n)}`},coercer(n){return zc(n)?{...n}:n}})}function Jt(e){const t=e.map(n=>n.type).join(" | ");return new qn({type:"union",schema:null,coercer(n,r){for(const i of e){const[s,o]=i.validate(n,{coerce:!0,mask:r.mask});if(!s)return o}return n},validator(n,r){const i=[];for(const s of e){const[...o]=Th(n,s,r),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Rn(n)}`,...i]}})}function Ts(){return ki("unknown",()=>!0)}function ua(e,t,n){return new qn({...e,coercer:(r,i)=>ab(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}var La,_E=new Uint8Array(16);function ub(){if(!La&&(La=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!La))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return La(_E)}const SE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function fu(e){return typeof e=="string"&&SE.test(e)}var Pt=[];for(var al=0;al<256;++al)Pt.push((al+256).toString(16).substr(1));function du(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Pt[e[t+0]]+Pt[e[t+1]]+Pt[e[t+2]]+Pt[e[t+3]]+"-"+Pt[e[t+4]]+Pt[e[t+5]]+"-"+Pt[e[t+6]]+Pt[e[t+7]]+"-"+Pt[e[t+8]]+Pt[e[t+9]]+"-"+Pt[e[t+10]]+Pt[e[t+11]]+Pt[e[t+12]]+Pt[e[t+13]]+Pt[e[t+14]]+Pt[e[t+15]]).toLowerCase();if(!fu(n))throw TypeError("Stringified UUID is invalid");return n}var Bp,cl,ul=0,ll=0;function AE(e,t,n){var r=t&&n||0,i=t||new Array(16);e=e||{};var s=e.node||Bp,o=e.clockseq!==void 0?e.clockseq:cl;if(s==null||o==null){var a=e.random||(e.rng||ub)();s==null&&(s=Bp=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=cl=(a[6]<<8|a[7])&16383)}var c=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:ll+1,l=c-ul+(u-ll)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||c>ul)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ul=c,ll=u,cl=o,c+=122192928e5;var f=((c&268435455)*1e4+u)%4294967296;i[r++]=f>>>24&255,i[r++]=f>>>16&255,i[r++]=f>>>8&255,i[r++]=f&255;var d=c/4294967296*1e4&268435455;i[r++]=d>>>8&255,i[r++]=d&255,i[r++]=d>>>24&15|16,i[r++]=d>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var p=0;p<6;++p)i[r+p]=s[p];return t||du(i)}function lb(e){if(!fu(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function IE(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var CE="6ba7b810-9dad-11d1-80b4-00c04fd430c8",BE="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function fb(e,t,n){function r(i,s,o,a){if(typeof i=="string"&&(i=IE(i)),typeof s=="string"&&(s=lb(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=n(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=c[u];return o}return du(c)}try{r.name=e}catch{}return r.DNS=CE,r.URL=BE,r}function ME(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return RE(PE(OE(e),e.length*8))}function RE(e){for(var t=[],n=e.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=e[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);t.push(o)}return t}function db(e){return(e+64>>>9<<4)+14+1}function PE(e,t){e[t>>5]|=128<<t%32,e[db(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<e.length;o+=16){var a=n,c=r,u=i,l=s;n=zt(n,r,i,s,e[o],7,-680876936),s=zt(s,n,r,i,e[o+1],12,-389564586),i=zt(i,s,n,r,e[o+2],17,606105819),r=zt(r,i,s,n,e[o+3],22,-1044525330),n=zt(n,r,i,s,e[o+4],7,-176418897),s=zt(s,n,r,i,e[o+5],12,1200080426),i=zt(i,s,n,r,e[o+6],17,-1473231341),r=zt(r,i,s,n,e[o+7],22,-45705983),n=zt(n,r,i,s,e[o+8],7,1770035416),s=zt(s,n,r,i,e[o+9],12,-1958414417),i=zt(i,s,n,r,e[o+10],17,-42063),r=zt(r,i,s,n,e[o+11],22,-1990404162),n=zt(n,r,i,s,e[o+12],7,1804603682),s=zt(s,n,r,i,e[o+13],12,-40341101),i=zt(i,s,n,r,e[o+14],17,-1502002290),r=zt(r,i,s,n,e[o+15],22,1236535329),n=jt(n,r,i,s,e[o+1],5,-165796510),s=jt(s,n,r,i,e[o+6],9,-1069501632),i=jt(i,s,n,r,e[o+11],14,643717713),r=jt(r,i,s,n,e[o],20,-373897302),n=jt(n,r,i,s,e[o+5],5,-701558691),s=jt(s,n,r,i,e[o+10],9,38016083),i=jt(i,s,n,r,e[o+15],14,-660478335),r=jt(r,i,s,n,e[o+4],20,-405537848),n=jt(n,r,i,s,e[o+9],5,568446438),s=jt(s,n,r,i,e[o+14],9,-1019803690),i=jt(i,s,n,r,e[o+3],14,-187363961),r=jt(r,i,s,n,e[o+8],20,1163531501),n=jt(n,r,i,s,e[o+13],5,-1444681467),s=jt(s,n,r,i,e[o+2],9,-51403784),i=jt(i,s,n,r,e[o+7],14,1735328473),r=jt(r,i,s,n,e[o+12],20,-1926607734),n=Wt(n,r,i,s,e[o+5],4,-378558),s=Wt(s,n,r,i,e[o+8],11,-2022574463),i=Wt(i,s,n,r,e[o+11],16,1839030562),r=Wt(r,i,s,n,e[o+14],23,-35309556),n=Wt(n,r,i,s,e[o+1],4,-1530992060),s=Wt(s,n,r,i,e[o+4],11,1272893353),i=Wt(i,s,n,r,e[o+7],16,-155497632),r=Wt(r,i,s,n,e[o+10],23,-1094730640),n=Wt(n,r,i,s,e[o+13],4,681279174),s=Wt(s,n,r,i,e[o],11,-358537222),i=Wt(i,s,n,r,e[o+3],16,-722521979),r=Wt(r,i,s,n,e[o+6],23,76029189),n=Wt(n,r,i,s,e[o+9],4,-640364487),s=Wt(s,n,r,i,e[o+12],11,-421815835),i=Wt(i,s,n,r,e[o+15],16,530742520),r=Wt(r,i,s,n,e[o+2],23,-995338651),n=qt(n,r,i,s,e[o],6,-198630844),s=qt(s,n,r,i,e[o+7],10,1126891415),i=qt(i,s,n,r,e[o+14],15,-1416354905),r=qt(r,i,s,n,e[o+5],21,-57434055),n=qt(n,r,i,s,e[o+12],6,1700485571),s=qt(s,n,r,i,e[o+3],10,-1894986606),i=qt(i,s,n,r,e[o+10],15,-1051523),r=qt(r,i,s,n,e[o+1],21,-2054922799),n=qt(n,r,i,s,e[o+8],6,1873313359),s=qt(s,n,r,i,e[o+15],10,-30611744),i=qt(i,s,n,r,e[o+6],15,-1560198380),r=qt(r,i,s,n,e[o+13],21,1309151649),n=qt(n,r,i,s,e[o+4],6,-145523070),s=qt(s,n,r,i,e[o+11],10,-1120210379),i=qt(i,s,n,r,e[o+2],15,718787259),r=qt(r,i,s,n,e[o+9],21,-343485551),n=Fr(n,a),r=Fr(r,c),i=Fr(i,u),s=Fr(s,l)}return[n,r,i,s]}function OE(e){if(e.length===0)return[];for(var t=e.length*8,n=new Uint32Array(db(t)),r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function Fr(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function TE(e,t){return e<<t|e>>>32-t}function hu(e,t,n,r,i,s){return Fr(TE(Fr(Fr(t,e),Fr(r,s)),i),n)}function zt(e,t,n,r,i,s,o){return hu(t&n|~t&r,e,t,i,s,o)}function jt(e,t,n,r,i,s,o){return hu(t&r|n&~r,e,t,i,s,o)}function Wt(e,t,n,r,i,s,o){return hu(t^n^r,e,t,i,s,o)}function qt(e,t,n,r,i,s,o){return hu(n^(t|~r),e,t,i,s,o)}var DE=fb("v3",48,ME);function $E(e,t,n){e=e||{};var r=e.random||(e.rng||ub)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return du(r)}function kE(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function fl(e,t){return e<<t|e>>>32-t}function LE(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[c*64+l*4]<<24|e[c*64+l*4+1]<<16|e[c*64+l*4+2]<<8|e[c*64+l*4+3];a[c]=u}a[o-1][14]=(e.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(e.length-1)*8&4294967295;for(var f=0;f<o;++f){for(var d=new Uint32Array(80),p=0;p<16;++p)d[p]=a[f][p];for(var b=16;b<80;++b)d[b]=fl(d[b-3]^d[b-8]^d[b-14]^d[b-16],1);for(var y=n[0],w=n[1],A=n[2],B=n[3],_=n[4],M=0;M<80;++M){var I=Math.floor(M/20),C=fl(y,5)+kE(I,w,A,B)+_+t[I]+d[M]>>>0;_=B,B=A,A=fl(w,30)>>>0,w=y,y=C}n[0]=n[0]+y>>>0,n[1]=n[1]+w>>>0,n[2]=n[2]+A>>>0,n[3]=n[3]+B>>>0,n[4]=n[4]+_>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var NE=fb("v5",80,LE);const FE="00000000-0000-0000-0000-000000000000";function UE(e){if(!fu(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const zE=Object.freeze(Object.defineProperty({__proto__:null,NIL:FE,parse:lb,stringify:du,v1:AE,v3:DE,v4:$E,v5:NE,validate:fu,version:UE},Symbol.toStringTag,{value:"Module"})),hb=ra(zE);var dl,Mp;function jE(){if(Mp)return dl;Mp=1;const e=hb.v4;return dl=function(n,r,i,s){if(typeof n!="string")throw new TypeError(n+" must be a string");s=s||{};const o=typeof s.version=="number"?s.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const a={method:n};if(o===2&&(a.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");a.params=r}if(typeof i>"u"){const c=typeof s.generator=="function"?s.generator:function(){return e()};a.id=c(a,s)}else o===2&&i===null?s.notificationIdNull&&(a.id=null):a.id=i;return a},dl}var hl,Rp;function WE(){if(Rp)return hl;Rp=1;const e=hb.v4,t=jE(),n=function(r,i){if(!(this instanceof n))return new n(r,i);i||(i={}),this.options={reviver:typeof i.reviver<"u"?i.reviver:null,replacer:typeof i.replacer<"u"?i.replacer:null,generator:typeof i.generator<"u"?i.generator:function(){return e()},version:typeof i.version<"u"?i.version:2,notificationIdNull:typeof i.notificationIdNull=="boolean"?i.notificationIdNull:!1},this.callServer=r};return hl=n,n.prototype.request=function(r,i,s,o){const a=this;let c=null;const u=Array.isArray(r)&&typeof i=="function";if(this.options.version===1&&u)throw new TypeError("JSON-RPC 1.0 does not support batching");if(u||!u&&r&&typeof r=="object"&&typeof i=="function")o=i,c=r;else{typeof s=="function"&&(o=s,s=void 0);const d=typeof o=="function";try{c=t(r,i,s,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(p){if(d)return o(p);throw p}if(!d)return c}let f;try{f=JSON.stringify(c,this.options.replacer)}catch(d){return o(d)}return this.callServer(f,function(d,p){a._parseResponse(d,p,o)}),c},n.prototype._parseResponse=function(r,i,s){if(r){s(r);return}if(!i)return s();let o;try{o=JSON.parse(i,this.options.reviver)}catch(a){return s(a)}if(s.length===3)if(Array.isArray(o)){const a=function(u){return typeof u.error<"u"},c=function(u){return!a(u)};return s(null,o.filter(a),o.filter(c))}else return s(null,o.error,o.result);s(null,o)},hl}var qE=WE();const HE=xn(qE);var pl={exports:{}},Pp;function KE(){return Pp||(Pp=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,f,d){if(typeof l!="function")throw new TypeError("The listener must be a function");var p=new i(l,f||c,d),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],p]:c._events[b].push(p):(c._events[b]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,f;if(this._eventsCount===0)return u;for(f in l=this._events)t.call(l,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=n?n+u:u,f=this._events[l];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,b=new Array(p);d<p;d++)b[d]=f[d].fn;return b},a.prototype.listenerCount=function(u){var l=n?n+u:u,f=this._events[l];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,l,f,d,p,b){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],A=arguments.length,B,_;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,l),!0;case 3:return w.fn.call(w.context,l,f),!0;case 4:return w.fn.call(w.context,l,f,d),!0;case 5:return w.fn.call(w.context,l,f,d,p),!0;case 6:return w.fn.call(w.context,l,f,d,p,b),!0}for(_=1,B=new Array(A-1);_<A;_++)B[_-1]=arguments[_];w.fn.apply(w.context,B)}else{var M=w.length,I;for(_=0;_<M;_++)switch(w[_].once&&this.removeListener(u,w[_].fn,void 0,!0),A){case 1:w[_].fn.call(w[_].context);break;case 2:w[_].fn.call(w[_].context,l);break;case 3:w[_].fn.call(w[_].context,l,f);break;case 4:w[_].fn.call(w[_].context,l,f,d);break;default:if(!B)for(I=1,B=new Array(A-1);I<A;I++)B[I-1]=arguments[I];w[_].fn.apply(w[_].context,B)}}return!0},a.prototype.on=function(u,l,f){return s(this,u,l,f,!1)},a.prototype.once=function(u,l,f){return s(this,u,l,f,!0)},a.prototype.removeListener=function(u,l,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!l)return o(this,p),this;var b=this._events[p];if(b.fn)b.fn===l&&(!d||b.once)&&(!f||b.context===f)&&o(this,p);else{for(var y=0,w=[],A=b.length;y<A;y++)(b[y].fn!==l||d&&!b[y].once||f&&b[y].context!==f)&&w.push(b[y]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=n?n+u:u,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(pl)),pl.exports}var VE=KE();const pb=xn(VE);var GE=class extends pb{socket;constructor(e,t,n){super(),this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(e,t,n){const r=n||t;try{this.socket.send(e),r()}catch(i){r(i)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,n){this.socket.addEventListener(e,t,n)}};function ZE(e,t){return new GE(e,t)}var YE=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},JE=class extends pb{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:n=!0,reconnect:r=!0,reconnect_interval:i=1e3,max_reconnects:s=5,...o}={},a,c){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=n,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=s,this.rest_options=o,this.current_reconnects=0,this.generate_request_id=a||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),c?this.dataPack=c:this.dataPack=new YE,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,n,r){return!r&&typeof n=="object"&&(r=n,n=null),new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o=this.generate_request_id(e,t),a={jsonrpc:"2.0",method:e,params:t||void 0,id:o};this.socket.send(this.dataPack.encode(a),r,c=>{if(c)return s(c);this.queue[o]={promise:[i,s]},n&&(this.queue[o].timeout=setTimeout(()=>{delete this.queue[o],s(new Error("reply timeout"))},n))})})}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise((n,r)=>{if(!this.ready)return r(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(i),s=>{if(s)return r(s);n()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.on",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){typeof e=="string"&&(e=[e]);const t=await this.call("rpc.off",e);if(typeof e=="string"&&t[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket&&this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=he.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const r=[n.notification];if(n.params.constructor===Object)r.push(n.params);else for(let i=0;i<n.params.length;i++)r.push(n.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,r)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n?.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:r})=>{this.ready&&setTimeout(()=>this.emit("close",n,r),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(e,t),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",n,r),1))})}};const nn="solana:signAndSendTransaction",bi="solana:signIn",kr="solana:signMessage",Ze="solana:signTransaction",kh="standard:connect",id="standard:disconnect",Lh="standard:events";var QE=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},XE=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},ac;let un;const pu=new Set;function e8(e){mo=void 0,pu.add(e)}function t8(e){mo=void 0,pu.delete(e)}const hs={};function n8(){if(un||(un=Object.freeze({register:Op,get:r8,on:i8}),typeof window>"u"))return un;const e=Object.freeze({register:Op});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new s8(e))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return un}function Op(...e){return e=e.filter(t=>!pu.has(t)),e.length?(e.forEach(t=>e8(t)),hs.register?.forEach(t=>sd(()=>t(...e))),function(){e.forEach(n=>t8(n)),hs.unregister?.forEach(n=>sd(()=>n(...e)))}):()=>{}}let mo;function r8(){return mo||(mo=[...pu]),mo}function i8(e,t){return hs[e]?.push(t)||(hs[e]=[t]),function(){hs[e]=hs[e]?.filter(r=>t!==r)}}function sd(e){try{e()}catch(t){console.error(t)}}class s8 extends Event{get detail(){return QE(this,ac,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),ac.set(this,void 0),XE(this,ac,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}ac=new WeakMap;function o8(){if(un||(un=n8(),typeof window>"u"))return un;const e=window.navigator.wallets||[];if(!Array.isArray(e))return console.error("window.navigator.wallets is not an array"),un;const{register:t}=un,n=(...r)=>r.forEach(i=>sd(()=>i({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),un}return n(...e),un}var Qi=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Xi=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},cc,uc,lc,fc,dc,hc;class gb{get address(){return Qi(this,cc,"f")}get publicKey(){return Qi(this,uc,"f").slice()}get chains(){return Qi(this,lc,"f").slice()}get features(){return Qi(this,fc,"f").slice()}get label(){return Qi(this,dc,"f")}get icon(){return Qi(this,hc,"f")}constructor(t){cc.set(this,void 0),uc.set(this,void 0),lc.set(this,void 0),fc.set(this,void 0),dc.set(this,void 0),hc.set(this,void 0),new.target===gb&&Object.freeze(this),Xi(this,cc,t.address,"f"),Xi(this,uc,t.publicKey.slice(),"f"),Xi(this,lc,t.chains.slice(),"f"),Xi(this,fc,t.features.slice(),"f"),Xi(this,dc,t.label,"f"),Xi(this,hc,t.icon,"f")}}cc=new WeakMap,uc=new WeakMap,lc=new WeakMap,fc=new WeakMap,dc=new WeakMap,hc=new WeakMap;function a8(e,t){if(e===t)return!0;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nh=BigInt(0),od=BigInt(1);function la(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Fh(e){if(!la(e))throw new Error("Uint8Array expected")}function Ur(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Na(e){const t=e.toString(16);return t.length&1?"0"+t:t}function yb(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Nh:BigInt("0x"+e)}const mb=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",c8=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ss(e){if(Fh(e),mb)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=c8[e[n]];return t}const Yn={_0:48,_9:57,A:65,F:70,a:97,f:102};function Tp(e){if(e>=Yn._0&&e<=Yn._9)return e-Yn._0;if(e>=Yn.A&&e<=Yn.F)return e-(Yn.A-10);if(e>=Yn.a&&e<=Yn.f)return e-(Yn.a-10)}function jc(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(mb)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Tp(e.charCodeAt(s)),a=Tp(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function wi(e){return yb(Ss(e))}function bo(e){return Fh(e),yb(Ss(Uint8Array.from(e).reverse()))}function fa(e,t){return jc(e.toString(16).padStart(t*2,"0"))}function Wc(e,t){return fa(e,t).reverse()}function nt(e,t,n){let r;if(typeof t=="string")try{r=jc(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(la(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function As(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];Fh(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}const gl=e=>typeof e=="bigint"&&Nh<=e;function Uh(e,t,n){return gl(e)&&gl(t)&&gl(n)&&t<=e&&e<n}function In(e,t,n,r){if(!Uh(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function u8(e){let t;for(t=0;e>Nh;e>>=od,t+=1);return t}const gu=e=>(od<<BigInt(e))-od,yl=e=>new Uint8Array(e),Dp=e=>Uint8Array.from(e);function l8(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=yl(e),i=yl(e),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...f)=>n(i,r,...f),c=(f=yl(0))=>{i=a(Dp([0]),f),r=a(),f.length!==0&&(i=a(Dp([1]),f),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<t;){r=a();const p=r.slice();d.push(p),f+=r.length}return As(...d)};return(f,d)=>{o(),c(f);let p;for(;!(p=d(u()));)c();return o(),p}}const f8={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||la(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function da(e,t,n={}){const r=(i,s,o)=>{const a=f8[s];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function qc(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rn=BigInt(0),Dt=BigInt(1),ai=BigInt(2),d8=BigInt(3),bb=BigInt(4),wb=BigInt(5),vb=BigInt(8);function Ve(e,t){const n=e%t;return n>=rn?n:t+n}function Qe(e,t,n){let r=e;for(;t-- >rn;)r*=r,r%=n;return r}function ad(e,t){if(e===rn)throw new Error("invert: expected non-zero number");if(t<=rn)throw new Error("invert: expected positive modulus, got "+t);let n=Ve(e,t),r=t,i=rn,s=Dt;for(;n!==rn;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==Dt)throw new Error("invert: does not exist");return Ve(i,t)}function Eb(e,t){const n=(e.ORDER+Dt)/bb,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function h8(e,t){const n=(e.ORDER-wb)/vb,r=e.mul(t,ai),i=e.pow(r,n),s=e.mul(t,i),o=e.mul(e.mul(s,ai),i),a=e.mul(s,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function p8(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Dt,n=0;for(;t%ai===rn;)t/=ai,n++;let r=ai;const i=ha(e);for(;$p(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Eb;let s=i.pow(r,t);const o=(t+Dt)/ai;return function(c,u){if(c.is0(u))return u;if($p(c,u)!==1)throw new Error("Cannot find square root");let l=n,f=c.mul(c.ONE,s),d=c.pow(u,t),p=c.pow(u,o);for(;!c.eql(d,c.ONE);){if(c.is0(d))return c.ZERO;let b=1,y=c.sqr(d);for(;!c.eql(y,c.ONE);)if(b++,y=c.sqr(y),b===l)throw new Error("Cannot find square root");const w=Dt<<BigInt(l-b-1),A=c.pow(f,w);l=b,f=c.sqr(A),d=c.mul(d,f),p=c.mul(p,A)}return p}}function g8(e){return e%bb===d8?Eb:e%vb===wb?h8:p8(e)}const y8=(e,t)=>(Ve(e,t)&Dt)===Dt,m8=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function b8(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=m8.reduce((r,i)=>(r[i]="function",r),t);return da(e,n)}function w8(e,t,n){if(n<rn)throw new Error("invalid exponent, negatives unsupported");if(n===rn)return e.ONE;if(n===Dt)return t;let r=e.ONE,i=t;for(;n>rn;)n&Dt&&(r=e.mul(r,i)),i=e.sqr(i),n>>=Dt;return r}function zh(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),i=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),s=e.inv(i);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),s),r}function $p(e,t){const n=(e.ORDER-Dt)/ai,r=e.pow(t,n),i=e.eql(r,e.ONE),s=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function xb(e,t){t!==void 0&&_o(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ha(e,t,n=!1,r={}){if(e<=rn)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=xb(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:gu(i),ZERO:rn,ONE:Dt,create:c=>Ve(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return rn<=c&&c<e},is0:c=>c===rn,isOdd:c=>(c&Dt)===Dt,neg:c=>Ve(-c,e),eql:(c,u)=>c===u,sqr:c=>Ve(c*c,e),add:(c,u)=>Ve(c+u,e),sub:(c,u)=>Ve(c-u,e),mul:(c,u)=>Ve(c*u,e),pow:(c,u)=>w8(a,c,u),div:(c,u)=>Ve(c*ad(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>ad(c,e),sqrt:r.sqrt||(c=>(o||(o=g8(e)),o(a,c))),toBytes:c=>n?Wc(c,s):fa(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?bo(c):wi(c)},invertBatch:c=>zh(a,c),cmov:(c,u,l)=>l?u:c});return Object.freeze(a)}function _b(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Sb(e){const t=_b(e);return t+Math.ceil(t/2)}function v8(e,t,n=!1){const r=e.length,i=_b(t),s=Sb(t);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?bo(e):wi(e),a=Ve(o,t-Dt)+Dt;return n?Wc(a,i):fa(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kp=BigInt(0),cd=BigInt(1);function ml(e,t){const n=t.negate();return e?n:t}function Ab(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function bl(e,t){Ab(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),i=2**e,s=gu(e),o=BigInt(e);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function Lp(e,t,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(e&i),c=e>>o;a>r&&(a-=s,c+=cd);const u=t*r,l=u+Math.abs(a)-1,f=a===0,d=a<0,p=t%2!==0;return{nextN:c,offset:l,isZero:f,isNeg:d,isNegF:p,offsetF:u}}function E8(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function x8(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const wl=new WeakMap,Ib=new WeakMap;function vl(e){return Ib.get(e)||1}function Cb(e,t){return{constTimeNegate:ml,hasPrecomputes(n){return vl(n)!==1},unsafeLadder(n,r,i=e.ZERO){let s=n;for(;r>kp;)r&cd&&(i=i.add(s)),s=s.double(),r>>=cd;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=bl(r,t),o=[];let a=n,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let l=1;l<s;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=e.ZERO,o=e.BASE;const a=bl(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:l,isZero:f,isNeg:d,isNegF:p,offsetF:b}=Lp(i,c,a);i=u,f?o=o.add(ml(p,r[b])):s=s.add(ml(d,r[l]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=e.ZERO){const o=bl(n,t);for(let a=0;a<o.windows&&i!==kp;a++){const{nextN:c,offset:u,isZero:l,isNeg:f}=Lp(i,a,o);if(i=c,!l){const d=r[u];s=s.add(f?d.negate():d)}}return s},getPrecomputes(n,r,i){let s=wl.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&wl.set(r,i(s))),s},wNAFCached(n,r,i){const s=vl(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=vl(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Ab(r,t),Ib.set(n,r),wl.delete(n)}}}function Bb(e,t,n,r){E8(n,e),x8(r,t);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=u8(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=gu(c),l=new Array(Number(u)+1).fill(o),f=Math.floor((t.BITS-1)/c)*c;let d=o;for(let p=f;p>=0;p-=c){l.fill(o);for(let y=0;y<s;y++){const w=r[y],A=Number(w>>BigInt(p)&u);l[A]=l[A].add(n[y])}let b=o;for(let y=l.length-1,w=o;y>0;y--)w=w.add(l[y]),b=b.add(w);if(d=d.add(b),p!==0)for(let y=0;y<c;y++)d=d.double()}return d}function jh(e){return b8(e.Fp),da(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...xb(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Np(e){e.lowS!==void 0&&Ur("lowS",e.lowS),e.prehash!==void 0&&Ur("prehash",e.prehash)}function _8(e){const t=jh(e);da(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class S8 extends Error{constructor(t=""){super(t)}}const ir={Err:S8,_tlv:{encode:(e,t)=>{const{Err:n}=ir;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Na(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?Na(i.length/2|128):"";return Na(e)+s+i+t},decode(e,t){const{Err:n}=ir;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=ir;if(e<ar)throw new t("integer: negative integers are not allowed");let n=Na(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=ir;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return wi(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=ir,i=nt("signature",e),{v:s,l:o}=r.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:u,l}=r.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=ir,r=t.encode(2,n.encode(e.r)),i=t.encode(2,n.encode(e.s)),s=r+i;return t.encode(48,s)}};function El(e,t){return Ss(fa(e,t))}const ar=BigInt(0),Bt=BigInt(1);BigInt(2);const xl=BigInt(3),A8=BigInt(4);function I8(e){const t=_8(e),{Fp:n}=t,r=ha(t.n,t.nBitLength),i=t.toBytes||((_,M,I)=>{const C=M.toAffine();return As(Uint8Array.from([4]),n.toBytes(C.x),n.toBytes(C.y))}),s=t.fromBytes||(_=>{const M=_.subarray(1),I=n.fromBytes(M.subarray(0,n.BYTES)),C=n.fromBytes(M.subarray(n.BYTES,2*n.BYTES));return{x:I,y:C}});function o(_){const{a:M,b:I}=t,C=n.sqr(_),k=n.mul(C,_);return n.add(n.add(k,n.mul(_,M)),I)}function a(_,M){const I=n.sqr(M),C=o(_);return n.eql(I,C)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,xl),A8),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function l(_){return Uh(_,Bt,t.n)}function f(_){const{allowedPrivateKeyLengths:M,nByteLength:I,wrapPrivateKey:C,n:k}=t;if(M&&typeof _!="bigint"){if(la(_)&&(_=Ss(_)),typeof _!="string"||!M.includes(_.length))throw new Error("invalid private key");_=_.padStart(I*2,"0")}let z;try{z=typeof _=="bigint"?_:wi(nt("private key",_,I))}catch{throw new Error("invalid private key, expected hex or "+I+" bytes, got "+typeof _)}return C&&(z=Ve(z,k)),In("private key",z,Bt,k),z}function d(_){if(!(_ instanceof y))throw new Error("ProjectivePoint expected")}const p=qc((_,M)=>{const{px:I,py:C,pz:k}=_;if(n.eql(k,n.ONE))return{x:I,y:C};const z=_.is0();M==null&&(M=z?n.ONE:n.inv(k));const N=n.mul(I,M),U=n.mul(C,M),W=n.mul(k,M);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(W,n.ONE))throw new Error("invZ was invalid");return{x:N,y:U}}),b=qc(_=>{if(_.is0()){if(t.allowInfinityPoint&&!n.is0(_.py))return;throw new Error("bad point: ZERO")}const{x:M,y:I}=_.toAffine();if(!n.isValid(M)||!n.isValid(I))throw new Error("bad point: x or y not FE");if(!a(M,I))throw new Error("bad point: equation left != right");if(!_.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class y{constructor(M,I,C){if(M==null||!n.isValid(M))throw new Error("x required");if(I==null||!n.isValid(I)||n.is0(I))throw new Error("y required");if(C==null||!n.isValid(C))throw new Error("z required");this.px=M,this.py=I,this.pz=C,Object.freeze(this)}static fromAffine(M){const{x:I,y:C}=M||{};if(!M||!n.isValid(I)||!n.isValid(C))throw new Error("invalid affine point");if(M instanceof y)throw new Error("projective point not allowed");const k=z=>n.eql(z,n.ZERO);return k(I)&&k(C)?y.ZERO:new y(I,C,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){const I=zh(n,M.map(C=>C.pz));return M.map((C,k)=>C.toAffine(I[k])).map(y.fromAffine)}static fromHex(M){const I=y.fromAffine(s(nt("pointHex",M)));return I.assertValidity(),I}static fromPrivateKey(M){return y.BASE.multiply(f(M))}static msm(M,I){return Bb(y,r,M,I)}_setWindowSize(M){B.setWindowSize(this,M)}assertValidity(){b(this)}hasEvenY(){const{y:M}=this.toAffine();if(n.isOdd)return!n.isOdd(M);throw new Error("Field doesn't support isOdd")}equals(M){d(M);const{px:I,py:C,pz:k}=this,{px:z,py:N,pz:U}=M,W=n.eql(n.mul(I,U),n.mul(z,k)),H=n.eql(n.mul(C,U),n.mul(N,k));return W&&H}negate(){return new y(this.px,n.neg(this.py),this.pz)}double(){const{a:M,b:I}=t,C=n.mul(I,xl),{px:k,py:z,pz:N}=this;let U=n.ZERO,W=n.ZERO,H=n.ZERO,P=n.mul(k,k),h=n.mul(z,z),g=n.mul(N,N),E=n.mul(k,z);return E=n.add(E,E),H=n.mul(k,N),H=n.add(H,H),U=n.mul(M,H),W=n.mul(C,g),W=n.add(U,W),U=n.sub(h,W),W=n.add(h,W),W=n.mul(U,W),U=n.mul(E,U),H=n.mul(C,H),g=n.mul(M,g),E=n.sub(P,g),E=n.mul(M,E),E=n.add(E,H),H=n.add(P,P),P=n.add(H,P),P=n.add(P,g),P=n.mul(P,E),W=n.add(W,P),g=n.mul(z,N),g=n.add(g,g),P=n.mul(g,E),U=n.sub(U,P),H=n.mul(g,h),H=n.add(H,H),H=n.add(H,H),new y(U,W,H)}add(M){d(M);const{px:I,py:C,pz:k}=this,{px:z,py:N,pz:U}=M;let W=n.ZERO,H=n.ZERO,P=n.ZERO;const h=t.a,g=n.mul(t.b,xl);let E=n.mul(I,z),R=n.mul(C,N),O=n.mul(k,U),$=n.add(I,C),F=n.add(z,N);$=n.mul($,F),F=n.add(E,R),$=n.sub($,F),F=n.add(I,k);let T=n.add(z,U);return F=n.mul(F,T),T=n.add(E,O),F=n.sub(F,T),T=n.add(C,k),W=n.add(N,U),T=n.mul(T,W),W=n.add(R,O),T=n.sub(T,W),P=n.mul(h,F),W=n.mul(g,O),P=n.add(W,P),W=n.sub(R,P),P=n.add(R,P),H=n.mul(W,P),R=n.add(E,E),R=n.add(R,E),O=n.mul(h,O),F=n.mul(g,F),R=n.add(R,O),O=n.sub(E,O),O=n.mul(h,O),F=n.add(F,O),E=n.mul(R,F),H=n.add(H,E),E=n.mul(T,F),W=n.mul($,W),W=n.sub(W,E),E=n.mul($,R),P=n.mul(T,P),P=n.add(P,E),new y(W,H,P)}subtract(M){return this.add(M.negate())}is0(){return this.equals(y.ZERO)}wNAF(M){return B.wNAFCached(this,M,y.normalizeZ)}multiplyUnsafe(M){const{endo:I,n:C}=t;In("scalar",M,ar,C);const k=y.ZERO;if(M===ar)return k;if(this.is0()||M===Bt)return this;if(!I||B.hasPrecomputes(this))return B.wNAFCachedUnsafe(this,M,y.normalizeZ);let{k1neg:z,k1:N,k2neg:U,k2:W}=I.splitScalar(M),H=k,P=k,h=this;for(;N>ar||W>ar;)N&Bt&&(H=H.add(h)),W&Bt&&(P=P.add(h)),h=h.double(),N>>=Bt,W>>=Bt;return z&&(H=H.negate()),U&&(P=P.negate()),P=new y(n.mul(P.px,I.beta),P.py,P.pz),H.add(P)}multiply(M){const{endo:I,n:C}=t;In("scalar",M,Bt,C);let k,z;if(I){const{k1neg:N,k1:U,k2neg:W,k2:H}=I.splitScalar(M);let{p:P,f:h}=this.wNAF(U),{p:g,f:E}=this.wNAF(H);P=B.constTimeNegate(N,P),g=B.constTimeNegate(W,g),g=new y(n.mul(g.px,I.beta),g.py,g.pz),k=P.add(g),z=h.add(E)}else{const{p:N,f:U}=this.wNAF(M);k=N,z=U}return y.normalizeZ([k,z])[0]}multiplyAndAddUnsafe(M,I,C){const k=y.BASE,z=(U,W)=>W===ar||W===Bt||!U.equals(k)?U.multiplyUnsafe(W):U.multiply(W),N=z(this,I).add(z(M,C));return N.is0()?void 0:N}toAffine(M){return p(this,M)}isTorsionFree(){const{h:M,isTorsionFree:I}=t;if(M===Bt)return!0;if(I)return I(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:M,clearCofactor:I}=t;return M===Bt?this:I?I(y,this):this.multiplyUnsafe(t.h)}toRawBytes(M=!0){return Ur("isCompressed",M),this.assertValidity(),i(y,this,M)}toHex(M=!0){return Ur("isCompressed",M),Ss(this.toRawBytes(M))}}y.BASE=new y(t.Gx,t.Gy,n.ONE),y.ZERO=new y(n.ZERO,n.ONE,n.ZERO);const{endo:w,nBitLength:A}=t,B=Cb(y,w?Math.ceil(A/2):A);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:f,weierstrassEquation:o,isWithinCurveOrder:l}}function C8(e){const t=jh(e);return da(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function B8(e){const t=C8(e),{Fp:n,n:r,nByteLength:i,nBitLength:s}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(g){return Ve(g,r)}function u(g){return ad(g,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:p}=I8({...t,toBytes(g,E,R){const O=E.toAffine(),$=n.toBytes(O.x),F=As;return Ur("isCompressed",R),R?F(Uint8Array.from([E.hasEvenY()?2:3]),$):F(Uint8Array.from([4]),$,n.toBytes(O.y))},fromBytes(g){const E=g.length,R=g[0],O=g.subarray(1);if(E===o&&(R===2||R===3)){const $=wi(O);if(!Uh($,Bt,n.ORDER))throw new Error("Point is not on curve");const F=d($);let T;try{T=n.sqrt(F)}catch(D){const j=D instanceof Error?": "+D.message:"";throw new Error("Point is not on curve"+j)}const m=(T&Bt)===Bt;return(R&1)===1!==m&&(T=n.neg(T)),{x:$,y:T}}else if(E===a&&R===4){const $=n.fromBytes(O.subarray(0,n.BYTES)),F=n.fromBytes(O.subarray(n.BYTES,2*n.BYTES));return{x:$,y:F}}else{const $=o,F=a;throw new Error("invalid Point, expected length of "+$+", or uncompressed "+F+", got "+E)}}});function b(g){const E=r>>Bt;return g>E}function y(g){return b(g)?c(-g):g}const w=(g,E,R)=>wi(g.slice(E,R));class A{constructor(E,R,O){In("r",E,Bt,r),In("s",R,Bt,r),this.r=E,this.s=R,O!=null&&(this.recovery=O),Object.freeze(this)}static fromCompact(E){const R=i;return E=nt("compactSignature",E,R*2),new A(w(E,0,R),w(E,R,2*R))}static fromDER(E){const{r:R,s:O}=ir.toSig(nt("DER",E));return new A(R,O)}assertValidity(){}addRecoveryBit(E){return new A(this.r,this.s,E)}recoverPublicKey(E){const{r:R,s:O,recovery:$}=this,F=k(nt("msgHash",E));if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");const T=$===2||$===3?R+t.n:R;if(T>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const m=($&1)===0?"02":"03",v=l.fromHex(m+El(T,n.BYTES)),D=u(T),j=c(-F*D),V=c(O*D),Y=l.BASE.multiplyAndAddUnsafe(v,j,V);if(!Y)throw new Error("point at infinify");return Y.assertValidity(),Y}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return jc(this.toDERHex())}toDERHex(){return ir.hexFromSig(this)}toCompactRawBytes(){return jc(this.toCompactHex())}toCompactHex(){const E=i;return El(this.r,E)+El(this.s,E)}}const B={isValidPrivateKey(g){try{return f(g),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const g=Sb(t.n);return v8(t.randomBytes(g),t.n)},precompute(g=8,E=l.BASE){return E._setWindowSize(g),E.multiply(BigInt(3)),E}};function _(g,E=!0){return l.fromPrivateKey(g).toRawBytes(E)}function M(g){if(typeof g=="bigint")return!1;if(g instanceof l)return!0;const R=nt("key",g).length,O=n.BYTES,$=O+1,F=2*O+1;if(!(t.allowedPrivateKeyLengths||i===$))return R===$||R===F}function I(g,E,R=!0){if(M(g)===!0)throw new Error("first arg must be private key");if(M(E)===!1)throw new Error("second arg must be public key");return l.fromHex(E).multiply(f(g)).toRawBytes(R)}const C=t.bits2int||function(g){if(g.length>8192)throw new Error("input is too large");const E=wi(g),R=g.length*8-s;return R>0?E>>BigInt(R):E},k=t.bits2int_modN||function(g){return c(C(g))},z=gu(s);function N(g){return In("num < 2^"+s,g,ar,z),fa(g,i)}function U(g,E,R=W){if(["recovered","canonical"].some(re=>re in R))throw new Error("sign() legacy options not supported");const{hash:O,randomBytes:$}=t;let{lowS:F,prehash:T,extraEntropy:m}=R;F==null&&(F=!0),g=nt("msgHash",g),Np(R),T&&(g=nt("prehashed msgHash",O(g)));const v=k(g),D=f(E),j=[N(D),N(v)];if(m!=null&&m!==!1){const re=m===!0?$(n.BYTES):m;j.push(nt("extraEntropy",re))}const V=As(...j),Y=v;function ee(re){const ve=C(re);if(!p(ve))return;const me=u(ve),we=l.BASE.multiply(ve).toAffine(),Oe=c(we.x);if(Oe===ar)return;const xe=c(me*c(Y+Oe*D));if(xe===ar)return;let Be=(we.x===Oe?0:2)|Number(we.y&Bt),mn=xe;return F&&b(xe)&&(mn=y(xe),Be^=1),new A(Oe,mn,Be)}return{seed:V,k2sig:ee}}const W={lowS:t.lowS,prehash:!1},H={lowS:t.lowS,prehash:!1};function P(g,E,R=W){const{seed:O,k2sig:$}=U(g,E,R),F=t;return l8(F.hash.outputLen,F.nByteLength,F.hmac)(O,$)}l.BASE._setWindowSize(8);function h(g,E,R,O=H){const $=g;E=nt("msgHash",E),R=nt("publicKey",R);const{lowS:F,prehash:T,format:m}=O;if(Np(O),"strict"in O)throw new Error("options.strict was renamed to lowS");if(m!==void 0&&m!=="compact"&&m!=="der")throw new Error("format must be compact or der");const v=typeof $=="string"||la($),D=!v&&!m&&typeof $=="object"&&$!==null&&typeof $.r=="bigint"&&typeof $.s=="bigint";if(!v&&!D)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let j,V;try{if(D&&(j=new A($.r,$.s)),v){try{m!=="compact"&&(j=A.fromDER($))}catch(Be){if(!(Be instanceof ir.Err))throw Be}!j&&m!=="der"&&(j=A.fromCompact($))}V=l.fromHex(R)}catch{return!1}if(!j||F&&j.hasHighS())return!1;T&&(E=t.hash(E));const{r:Y,s:ee}=j,re=k(E),ve=u(ee),me=c(re*ve),we=c(Y*ve),Oe=l.BASE.multiplyAndAddUnsafe(V,me,we)?.toAffine();return Oe?c(Oe.x)===Y:!1}return{CURVE:t,getPublicKey:_,getSharedSecret:I,sign:P,verify:h,ProjectivePoint:l,Signature:A,utils:B}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function M8(e){return{hash:e,hmac:(t,...n)=>nb(e,t,c5(...n)),randomBytes:zm}}function R8(e,t){const n=r=>B8({...e,...M8(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mb=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Fp=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),P8=BigInt(0),O8=BigInt(1),ud=BigInt(2),Up=(e,t)=>(e+t/ud)/t;function T8(e){const t=Mb,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,f=Qe(l,n,t)*l%t,d=Qe(f,n,t)*l%t,p=Qe(d,ud,t)*u%t,b=Qe(p,i,t)*p%t,y=Qe(b,s,t)*b%t,w=Qe(y,a,t)*y%t,A=Qe(w,c,t)*w%t,B=Qe(A,a,t)*y%t,_=Qe(B,n,t)*l%t,M=Qe(_,o,t)*b%t,I=Qe(M,r,t)*u%t,C=Qe(I,ud,t);if(!ld.eql(ld.sqr(C),e))throw new Error("Cannot find square root");return C}const ld=ha(Mb,void 0,void 0,{sqrt:T8}),yu=R8({a:P8,b:BigInt(7),Fp:ld,n:Fp,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Fp,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-O8*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=Up(s*e,t),c=Up(-r*e,t);let u=Ve(e-a*n-c*i,t),l=Ve(-a*r-c*s,t);const f=u>o,d=l>o;if(f&&(u=t-u),d&&(l=t-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:d,k2:l}}}},Zm),D8=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:yu},Symbol.toStringTag,{value:"Module"}));var Li=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$8={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},k8=class{#t=$8;#e=!1;setTimeoutProvider(e){this.#t=e}setTimeout(e,t){return this.#t.setTimeout(e,t)}clearTimeout(e){this.#t.clearTimeout(e)}setInterval(e,t){return this.#t.setInterval(e,t)}clearInterval(e){this.#t.clearInterval(e)}},ci=new k8;function L8(e){setTimeout(e,0)}var xi=typeof window>"u"||"Deno"in globalThis;function Vt(){}function N8(e,t){return typeof e=="function"?e(t):e}function fd(e){return typeof e=="number"&&e>=0&&e!==1/0}function Rb(e,t){return Math.max(e+(t||0)-Date.now(),0)}function zr(e,t){return typeof e=="function"?e(t):e}function bn(e,t){return typeof e=="function"?e(t):e}function zp(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=e;if(o){if(r){if(t.queryHash!==Wh(o,t.options))return!1}else if(!So(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function jp(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(_i(t.options.mutationKey)!==_i(s))return!1}else if(!So(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Wh(e,t){return(t?.queryKeyHashFn||_i)(e)}function _i(e){return JSON.stringify(e,(t,n)=>dd(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function So(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>So(e[n],t[n])):!1}var F8=Object.prototype.hasOwnProperty;function qh(e,t){if(e===t)return e;const n=Wp(e)&&Wp(t);if(!n&&!(dd(e)&&dd(t)))return t;const i=(n?e:Object.keys(e)).length,s=n?t:Object.keys(t),o=s.length,a=n?new Array(o):{};let c=0;for(let u=0;u<o;u++){const l=n?u:s[u],f=e[l],d=t[l];if(f===d){a[l]=f,(n?u<i:F8.call(e,l))&&c++;continue}if(f===null||d===null||typeof f!="object"||typeof d!="object"){a[l]=d;continue}const p=qh(f,d);a[l]=p,p===f&&c++}return i===o&&c===i?e:a}function Ao(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Wp(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function dd(e){if(!qp(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!qp(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function qp(e){return Object.prototype.toString.call(e)==="[object Object]"}function U8(e){return new Promise(t=>{ci.setTimeout(t,e)})}function hd(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?qh(e,t):t}function U7(e){return e}function z8(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function j8(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Hh=Symbol();function Pb(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Hh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Ob(e,t){return typeof e=="function"?e(...t):!!e}var W8=class extends Li{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!xi&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},Kh=new W8;function pd(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var q8=L8;function H8(){let e=[],t=0,n=a=>{a()},r=a=>{a()},i=q8;const s=a=>{t?e.push(a):i(()=>{n(a)})},o=()=>{const a=e;e=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||o()}return c},batchCalls:a=>(...c)=>{s(()=>{a(...c)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Xe=H8(),K8=class extends Li{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!xi&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},Hc=new K8;function V8(e){return Math.min(1e3*2**e,3e4)}function Tb(e){return(e??"online")==="online"?Hc.isOnline():!0}var gd=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Db(e){let t=!1,n=0,r;const i=pd(),s=()=>i.status!=="pending",o=y=>{if(!s()){const w=new gd(y);d(w),e.onCancel?.(w)}},a=()=>{t=!0},c=()=>{t=!1},u=()=>Kh.isFocused()&&(e.networkMode==="always"||Hc.isOnline())&&e.canRun(),l=()=>Tb(e.networkMode)&&e.canRun(),f=y=>{s()||(r?.(),i.resolve(y))},d=y=>{s()||(r?.(),i.reject(y))},p=()=>new Promise(y=>{r=w=>{(s()||u())&&y(w)},e.onPause?.()}).then(()=>{r=void 0,s()||e.onContinue?.()}),b=()=>{if(s())return;let y;const w=n===0?e.initialPromise:void 0;try{y=w??e.fn()}catch(A){y=Promise.reject(A)}Promise.resolve(y).then(f).catch(A=>{if(s())return;const B=e.retry??(xi?0:3),_=e.retryDelay??V8,M=typeof _=="function"?_(n,A):_,I=B===!0||typeof B=="number"&&n<B||typeof B=="function"&&B(n,A);if(t||!I){d(A);return}n++,e.onFail?.(n,A),U8(M).then(()=>u()?void 0:p()).then(()=>{t?d(A):b()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(r?.(),i),cancelRetry:a,continueRetry:c,canStart:l,start:()=>(l()?b():p().then(b),i)}}var $b=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fd(this.gcTime)&&(this.#t=ci.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xi?1/0:300*1e3))}clearGcTimeout(){this.#t&&(ci.clearTimeout(this.#t),this.#t=void 0)}},G8=class extends $b{#t;#e;#n;#i;#r;#s;#a;constructor(e){super(),this.#a=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=Hp(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Hp(this.options);t.data!==void 0&&(this.setData(t.data,{updatedAt:t.dataUpdatedAt,manual:!0}),this.#t=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=hd(this.state.data,e,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#o({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Vt).catch(Vt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>bn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>zr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Rb(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const a=this.observers.find(c=>c.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const a=Pb(this.options,t),u=(()=>{const l={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(l),l})();return this.#a=!1,this.options.persister?this.options.persister(a,u,this):a(u)},o=(()=>{const a={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(a),a})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#o({type:"fetch",meta:o.fetchOptions?.meta}),this.#r=Db({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:a=>{a instanceof gd&&a.revert&&this.setState({...this.#e,fetchStatus:"idle"}),n.abort()},onFail:(a,c)=>{this.#o({type:"failed",failureCount:a,error:c})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const a=await this.#r.start();if(a===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(a),this.#n.config.onSuccess?.(a,this),this.#n.config.onSettled?.(a,this.state.error,this),a}catch(a){if(a instanceof gd){if(a.silent)return this.#r.promise;if(a.revert){if(this.state.data===void 0)throw a;return this.state.data}}throw this.#o({type:"error",error:a}),this.#n.config.onError?.(a,this),this.#n.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#o(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...kb(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=e.manual?r:void 0,r;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Xe.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function kb(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Tb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Hp(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Vh=class extends Li{constructor(e,t){super(),this.options=t,this.#t=e,this.#o=null,this.#a=pd(),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#i=void 0;#r;#s;#a;#o;#h;#f;#d;#u;#l;#c;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Kp(this.#e,this.options)?this.#p():this.updateResult(),this.#w())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return yd(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return yd(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#E(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bn(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#e.setOptions(this.options),t._defaulted&&!Ao(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&Vp(this.#e,n,this.options,t)&&this.#p(),this.updateResult(),r&&(this.#e!==n||bn(this.options.enabled,this.#e)!==bn(t.enabled,this.#e)||zr(this.options.staleTime,this.#e)!==zr(t.staleTime,this.#e))&&this.#y();const i=this.#m();r&&(this.#e!==n||bn(this.options.enabled,this.#e)!==bn(t.enabled,this.#e)||i!==this.#c)&&this.#b(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return Y8(this,n)&&(this.#i=n,this.#s=this.options,this.#r=this.#e.state),n}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,r))})}trackProp(e){this.#g.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#p({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#p(e){this.#x();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Vt)),t}#y(){this.#v();const e=zr(this.options.staleTime,this.#e);if(xi||this.#i.isStale||!fd(e))return;const n=Rb(this.#i.dataUpdatedAt,e)+1;this.#u=ci.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#m(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#b(e){this.#E(),this.#c=e,!(xi||bn(this.options.enabled,this.#e)===!1||!fd(this.#c)||this.#c===0)&&(this.#l=ci.setInterval(()=>{(this.options.refetchIntervalInBackground||Kh.isFocused())&&this.#p()},this.#c))}#w(){this.#y(),this.#b(this.#m())}#v(){this.#u&&(ci.clearTimeout(this.#u),this.#u=void 0)}#E(){this.#l&&(ci.clearInterval(this.#l),this.#l=void 0)}createResult(e,t){const n=this.#e,r=this.options,i=this.#i,s=this.#r,o=this.#s,c=e!==n?e.state:this.#n,{state:u}=e;let l={...u},f=!1,d;if(t._optimisticResults){const z=this.hasListeners(),N=!z&&Kp(e,t),U=z&&Vp(e,n,t,r);(N||U)&&(l={...l,...kb(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(l.fetchStatus="idle")}let{error:p,errorUpdatedAt:b,status:y}=l;d=l.data;let w=!1;if(t.placeholderData!==void 0&&d===void 0&&y==="pending"){let z;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(z=i.data,w=!0):z=typeof t.placeholderData=="function"?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,z!==void 0&&(y="success",d=hd(i?.data,z,t),f=!0)}if(t.select&&d!==void 0&&!w)if(i&&d===s?.data&&t.select===this.#h)d=this.#f;else try{this.#h=t.select,d=t.select(d),d=hd(i?.data,d,t),this.#f=d,this.#o=null}catch(z){this.#o=z}this.#o&&(p=this.#o,d=this.#f,b=Date.now(),y="error");const A=l.fetchStatus==="fetching",B=y==="pending",_=y==="error",M=B&&A,I=d!==void 0,k={status:y,fetchStatus:l.fetchStatus,isPending:B,isSuccess:y==="success",isError:_,isInitialLoading:M,isLoading:M,data:d,dataUpdatedAt:l.dataUpdatedAt,error:p,errorUpdatedAt:b,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>c.dataUpdateCount||l.errorUpdateCount>c.errorUpdateCount,isFetching:A,isRefetching:A&&!B,isLoadingError:_&&!I,isPaused:l.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:_&&I,isStale:Gh(e,t),refetch:this.refetch,promise:this.#a,isEnabled:bn(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const z=W=>{k.status==="error"?W.reject(k.error):k.data!==void 0&&W.resolve(k.data)},N=()=>{const W=this.#a=k.promise=pd();z(W)},U=this.#a;switch(U.status){case"pending":e.queryHash===n.queryHash&&z(U);break;case"fulfilled":(k.status==="error"||k.data!==U.value)&&N();break;case"rejected":(k.status!=="error"||k.error!==U.reason)&&N();break}}return k}updateResult(){const e=this.#i,t=this.createResult(this.#e,this.options);if(this.#r=this.#e.state,this.#s=this.options,this.#r.data!==void 0&&(this.#d=this.#e),Ao(t,e))return;this.#i=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#g.size)return!0;const s=new Set(i??this.#g);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(o=>{const a=o;return this.#i[a]!==e[a]&&s.has(a)})};this.#_({listeners:n()})}#x(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#w()}#_(e){Xe.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Z8(e,t){return bn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Kp(e,t){return Z8(e,t)||e.state.data!==void 0&&yd(e,t,t.refetchOnMount)}function yd(e,t,n){if(bn(t.enabled,e)!==!1&&zr(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Gh(e,t)}return!1}function Vp(e,t,n,r){return(e!==t||bn(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Gh(e,n)}function Gh(e,t){return bn(t.enabled,e)!==!1&&e.isStaleByTime(zr(t.staleTime,e))}function Y8(e,t){return!Ao(e.getCurrentResult(),t)}function Gp(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let l=!1;const f=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?l=!0:t.signal.addEventListener("abort",()=>{l=!0}),t.signal)})},d=Pb(t.options,t.fetchOptions),p=async(b,y,w)=>{if(l)return Promise.reject();if(y==null&&b.pages.length)return Promise.resolve(b);const B=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:y,direction:w?"backward":"forward",meta:t.options.meta};return f(C),C})(),_=await d(B),{maxPages:M}=t.options,I=w?j8:z8;return{pages:I(b.pages,_,M),pageParams:I(b.pageParams,y,M)}};if(i&&s.length){const b=i==="backward",y=b?J8:Zp,w={pages:s,pageParams:o},A=y(r,w);a=await p(w,A,b)}else{const b=e??s.length;do{const y=c===0?o[0]??r.initialPageParam:Zp(r,a);if(c>0&&y==null)break;a=await p(a,y),c++}while(c<b)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function Zp(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function J8(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var Q8=class extends $b{#t;#e;#n;#i;constructor(e){super(),this.#t=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#e=[],this.state=e.state||Lb(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=Db({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#r({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:i}),await this.#n.config.onMutate?.(e,this,n);const o=await this.options.onMutate?.(e,n);o!==this.state.context&&this.#r({type:"pending",context:o,variables:e,isPaused:i})}const s=await this.#i.start();return await this.#n.config.onSuccess?.(s,e,this.state.context,this,n),await this.options.onSuccess?.(s,e,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,e,this.state.context,n),this.#r({type:"success",data:s}),s}catch(s){try{throw await this.#n.config.onError?.(s,e,this.state.context,this,n),await this.options.onError?.(s,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,s,e,this.state.context,n),s}finally{this.#r({type:"error",error:s})}}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Xe.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Lb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var X8=class extends Li{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const r=new Q8({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=Fa(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Fa(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Fa(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Fa(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Xe.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>jp(t,n))}findAll(e={}){return this.getAll().filter(t=>jp(e,t))}notify(e){Xe.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Xe.batch(()=>Promise.all(e.map(t=>t.continue().catch(Vt))))}};function Fa(e){return e.options.scope?.id}var ex=class extends Li{#t;#e=void 0;#n;#i;constructor(e,t){super(),this.#t=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#t.defaultMutationOptions(e),Ao(this.options,t)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),t?.mutationKey&&this.options.mutationKey&&_i(t.mutationKey)!==_i(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#s(e)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#s()}mutate(e,t){return this.#i=t,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(e)}#r(){const e=this.#n?.state??Lb();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){Xe.batch(()=>{if(this.#i&&this.hasListeners()){const t=this.#e.variables,n=this.#e.context,r={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,t,n,r),this.#i.onSettled?.(e.data,null,t,n,r)):e?.type==="error"&&(this.#i.onError?.(e.error,t,n,r),this.#i.onSettled?.(void 0,e.error,t,n,r))}this.listeners.forEach(t=>{t(this.#e)})})}};function Yp(e,t){const n=new Set(t);return e.filter(r=>!n.has(r))}function tx(e,t,n){const r=e.slice(0);return r[t]=n,r}var nx=class extends Li{#t;#e;#n;#i;#r;#s;#a;#o;#h=[];constructor(e,t,n){super(),this.#t=e,this.#i=n,this.#n=[],this.#r=[],this.#e=[],this.setQueries(t)}onSubscribe(){this.listeners.size===1&&this.#r.forEach(e=>{e.subscribe(t=>{this.#l(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#r.forEach(e=>{e.destroy()})}setQueries(e,t){this.#n=e,this.#i=t,Xe.batch(()=>{const n=this.#r,r=this.#u(this.#n);this.#h=r,r.forEach(l=>l.observer.setOptions(l.defaultedQueryOptions));const i=r.map(l=>l.observer),s=i.map(l=>l.getCurrentResult()),o=n.length!==i.length,a=i.some((l,f)=>l!==n[f]),c=o||a,u=c?!0:s.some((l,f)=>{const d=this.#e[f];return!d||!Ao(l,d)});!c&&!u||(c&&(this.#r=i),this.#e=s,this.hasListeners()&&(c&&(Yp(n,i).forEach(l=>{l.destroy()}),Yp(i,n).forEach(l=>{l.subscribe(f=>{this.#l(l,f)})})),this.#c()))})}getCurrentResult(){return this.#e}getQueries(){return this.#r.map(e=>e.getCurrentQuery())}getObservers(){return this.#r}getOptimisticResult(e,t){const n=this.#u(e),r=n.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[r,i=>this.#d(i??r,t),()=>this.#f(r,n)]}#f(e,t){return t.map((n,r)=>{const i=e[r];return n.defaultedQueryOptions.notifyOnChangeProps?i:n.observer.trackResult(i,s=>{t.forEach(o=>{o.observer.trackProp(s)})})})}#d(e,t){return t?((!this.#s||this.#e!==this.#o||t!==this.#a)&&(this.#a=t,this.#o=this.#e,this.#s=qh(this.#s,t(e))),this.#s):e}#u(e){const t=new Map(this.#r.map(r=>[r.options.queryHash,r])),n=[];return e.forEach(r=>{const i=this.#t.defaultQueryOptions(r),s=t.get(i.queryHash);s?n.push({defaultedQueryOptions:i,observer:s}):n.push({defaultedQueryOptions:i,observer:new Vh(this.#t,i)})}),n}#l(e,t){const n=this.#r.indexOf(e);n!==-1&&(this.#e=tx(this.#e,n,t),this.#c())}#c(){if(this.hasListeners()){const e=this.#s,t=this.#f(this.#e,this.#h),n=this.#d(t,this.#i?.combine);e!==n&&Xe.batch(()=>{this.listeners.forEach(r=>{r(this.#e)})})}}},rx=class extends Li{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,i=t.queryHash??Wh(r,t);let s=this.get(i);return s||(s=new G8({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Xe.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>zp(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>zp(e,n)):t}notify(e){Xe.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Xe.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Xe.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},z7=class{#t;#e;#n;#i;#r;#s;#a;#o;constructor(e={}){this.#t=e.queryCache||new rx,this.#e=e.mutationCache||new X8,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=Kh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#o=Hc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(zr(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#t.get(r.queryHash)?.state.data,o=N8(t,s);if(o!==void 0)return this.#t.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Xe.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Xe.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return Xe.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Xe.batch(()=>this.#t.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Vt).catch(Vt)}invalidateQueries(e,t={}){return Xe.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Xe.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Vt)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Vt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(zr(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vt).catch(Vt)}fetchInfiniteQuery(e){return e.behavior=Gp(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vt).catch(Vt)}ensureInfiniteQueryData(e){return e.behavior=Gp(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Hc.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(_i(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{So(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(_i(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{So(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Wh(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Hh&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},Nb=oe.createContext(void 0),Zh=e=>{const t=oe.useContext(Nb);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},j7=({client:e,children:t})=>(oe.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),F2.jsx(Nb.Provider,{value:e,children:t})),Fb=oe.createContext(!1),Ub=()=>oe.useContext(Fb);Fb.Provider;function ix(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sx=oe.createContext(ix()),zb=()=>oe.useContext(sx),jb=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Wb=e=>{oe.useEffect(()=>{e.clearReset()},[e])},qb=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||Ob(n,[e.error,r])),Hb=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Kb=(e,t)=>e.isLoading&&e.isFetching&&!t,md=(e,t)=>e?.suspense&&t.isPending,Kc=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function W7({queries:e,...t},n){const r=Zh(),i=Ub(),s=zb(),o=oe.useMemo(()=>e.map(y=>{const w=r.defaultQueryOptions(y);return w._optimisticResults=i?"isRestoring":"optimistic",w}),[e,r,i]);o.forEach(y=>{Hb(y),jb(y,s)}),Wb(s);const[a]=oe.useState(()=>new nx(r,o,t)),[c,u,l]=a.getOptimisticResult(o,t.combine),f=!i&&t.subscribed!==!1;oe.useSyncExternalStore(oe.useCallback(y=>f?a.subscribe(Xe.batchCalls(y)):Vt,[a,f]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),oe.useEffect(()=>{a.setQueries(o,t)},[o,t,a]);const p=c.some((y,w)=>md(o[w],y))?c.flatMap((y,w)=>{const A=o[w];if(A){const B=new Vh(r,A);if(md(A,y))return Kc(A,B,s);Kb(y,i)&&Kc(A,B,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const b=c.find((y,w)=>{const A=o[w];return A&&qb({result:y,errorResetBoundary:s,throwOnError:A.throwOnError,query:r.getQueryCache().get(A.queryHash),suspense:A.suspense})});if(b?.error)throw b.error;return u(l())}function ox(e,t,n){const r=Ub(),i=zb(),s=Zh(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",Hb(o),jb(o,i),Wb(i);const a=!s.getQueryCache().get(o.queryHash),[c]=oe.useState(()=>new t(s,o)),u=c.getOptimisticResult(o),l=!r&&e.subscribed!==!1;if(oe.useSyncExternalStore(oe.useCallback(f=>{const d=l?c.subscribe(Xe.batchCalls(f)):Vt;return c.updateResult(),d},[c,l]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),oe.useEffect(()=>{c.setOptions(o)},[o,c]),md(o,u))throw Kc(o,c,i);if(qb({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!xi&&Kb(u,r)&&(a?Kc(o,c,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(Vt).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function ax(e,t){return ox(e,Vh)}function cx(e,t){const n=Zh(),[r]=oe.useState(()=>new ex(n,e));oe.useEffect(()=>{r.setOptions(e)},[r,e]);const i=oe.useSyncExternalStore(oe.useCallback(o=>r.subscribe(Xe.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=oe.useCallback((o,a)=>{r.mutate(o,a).catch(Vt)},[r]);if(i.error&&Ob(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const bd=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],wd=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Vb=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Jp=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];function Hr(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Ex(e.type);return`${e.name}(${Yh(e.inputs,{includeName:t})})`}function Yh(e,{includeName:t=!1}={}){return e?e.map(n=>ux(n,{includeName:t})).join(t?", ":","):""}function ux(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Yh(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function jn(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function et(e){return jn(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Gb="2.37.0";let _l={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${Gb}`},ie=class vd extends Error{constructor(t,n={}){const r=n.cause instanceof vd?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof vd&&n.cause.docsPath||n.docsPath,s=_l.getDocsUrl?.({...n,docsPath:i}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],..._l.version?[`Version: ${_l.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=Gb}walk(t){return Zb(this,t)}};function Zb(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Zb(e.cause,t):t?null:e}class lx extends ie{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Qp extends ie{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class fx extends ie{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Yh(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Jh extends ie{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class dx extends ie{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class hx extends ie{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${et(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class px extends ie{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class gx extends ie{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class Xp extends ie{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Yb extends ie{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Is extends ie{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class Jb extends ie{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class yx extends ie{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class mx extends ie{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Hr(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Hr(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let bx=class extends ie{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class wx extends ie{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class vx extends ie{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let Qb=class extends ie{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Ex extends ie{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}let pn=class extends ie{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Xb=class extends ie{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},ew=class extends ie{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class eg extends ie{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Ds(e,{dir:t,size:n=32}={}){return typeof e=="string"?jr(e,{dir:t,size:n}):xx(e,{dir:t,size:n})}function jr(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new ew({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function xx(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new ew({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=t==="right";r[s?i:n-i-1]=e[s?i:e.length-i-1]}return r}let tw=class extends ie{constructor({max:t,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},_x=class extends ie{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class Sx extends ie{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Ax=class extends ie{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Mn(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let i=0;i<n.length-1&&n[t==="left"?i:n.length-i-1].toString()==="0";i++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function On(e,{size:t}){if(et(e)>t)throw new Ax({givenSize:et(e),maxSize:t})}function Kr(e,t={}){const{signed:n}=t;t.size&&On(e,{size:t.size});const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Ix(e,t={}){let n=e;if(t.size&&(On(n,{size:t.size}),n=Mn(n)),Mn(n)==="0x00")return!1;if(Mn(n)==="0x01")return!0;throw new Sx(n)}function pr(e,t={}){return Number(Kr(e,t))}const Cx=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Si(e,t={}){return typeof e=="number"||typeof e=="bigint"?le(e,t):typeof e=="string"?Io(e,t):typeof e=="boolean"?nw(e,t):$t(e,t)}function nw(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(On(n,{size:t.size}),Ds(n,{size:t.size})):n}function $t(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=Cx[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(On(r,{size:t.size}),Ds(r,{dir:"right",size:t.size})):r}function le(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof e=="bigint"?"n":"";throw new tw({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Ds(a,{size:r}):a}const Bx=new TextEncoder;function Io(e,t={}){const n=Bx.encode(e);return $t(n,t)}const Mx=new TextEncoder;function Qh(e,t={}){return typeof e=="number"||typeof e=="bigint"?Px(e,t):typeof e=="boolean"?Rx(e,t):jn(e)?Wn(e,t):rw(e,t)}function Rx(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(On(n,{size:t.size}),Ds(n,{size:t.size})):n}const Jn={zero:48,nine:57,A:65,F:70,a:97,f:102};function tg(e){if(e>=Jn.zero&&e<=Jn.nine)return e-Jn.zero;if(e>=Jn.A&&e<=Jn.F)return e-(Jn.A-10);if(e>=Jn.a&&e<=Jn.f)return e-(Jn.a-10)}function Wn(e,t={}){let n=e;t.size&&(On(n,{size:t.size}),n=Ds(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=tg(r.charCodeAt(a++)),u=tg(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new ie(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+u}return s}function Px(e,t){const n=le(e,t);return Wn(n)}function rw(e,t={}){const n=Mx.encode(e);return typeof t.size=="number"?(On(n,{size:t.size}),Ds(n,{dir:"right",size:t.size})):n}function vn(e,t){const n=t||"hex",r=Km(jn(e,{strict:!1})?Qh(e):e);return n==="bytes"?r:Si(r)}let Xh=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Ox=/^0x[a-fA-F0-9]{40}$/,Sl=new Xh(8192);function Gt(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(Sl.has(r))return Sl.get(r);const i=Ox.test(e)?e.toLowerCase()===e?!0:n?mu(e)===e:!0:!1;return Sl.set(r,i),i}const Al=new Xh(8192);function mu(e,t){if(Al.has(`${e}.${t}`))return Al.get(`${e}.${t}`);const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=vn(rw(n),"bytes"),i=(t?n.substring(`${t}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return Al.set(`${e}.${t}`,s),s}function ui(e,t){if(!Gt(e,{strict:!1}))throw new pn({address:e});return mu(e,t)}let ng=class extends ie{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Tx=class extends ie{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},Dx=class extends ie{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const $x={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Dx({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Tx({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new ng({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new ng({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function e0(e,{recursiveReadLimit:t=8192}={}){const n=Object.create($x);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function Ai(e,t,n,{strict:r}={}){return jn(e,{strict:!1})?Ed(e,t,n,{strict:r}):ow(e,t,n,{strict:r})}function iw(e,t){if(typeof t=="number"&&t>0&&t>et(e)-1)throw new Xb({offset:t,position:"start",size:et(e)})}function sw(e,t,n){if(typeof t=="number"&&typeof n=="number"&&et(e)!==n-t)throw new Xb({offset:n,position:"end",size:et(e)})}function ow(e,t,n,{strict:r}={}){iw(e,t);const i=e.slice(t,n);return r&&sw(i,t,n),i}function Ed(e,t,n,{strict:r}={}){iw(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&sw(i,t,n),i}function kx(e,t={}){typeof t.size<"u"&&On(e,{size:t.size});const n=$t(e,t);return Kr(n,t)}function Lx(e,t={}){let n=e;if(typeof t.size<"u"&&(On(n,{size:t.size}),n=Mn(n)),n.length>1||n[0]>1)throw new _x(n);return!!n[0]}function lr(e,t={}){typeof t.size<"u"&&On(e,{size:t.size});const n=$t(e,t);return pr(n,t)}function Nx(e,t={}){let n=e;return typeof t.size<"u"&&(On(n,{size:t.size}),n=Mn(n,{dir:"right"})),new TextDecoder().decode(n)}function gr(e){return typeof e[0]=="string"?Hn(e):Fx(e)}function Fx(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function Hn(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}const Ux=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,aw=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ni(e,t){if(e.length!==t.length)throw new px({expectedLength:e.length,givenLength:t.length});const n=zx({params:e,values:t}),r=n0(n);return r.length===0?"0x":r}function zx({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(t0({param:e[r],value:t[r]}));return n}function t0({param:e,value:t}){const n=r0(e.type);if(n){const[r,i]=n;return Wx(t,{length:r,param:{...e,type:i}})}if(e.type==="tuple")return Gx(t,{param:e});if(e.type==="address")return jx(t);if(e.type==="bool")return Hx(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,i="256"]=aw.exec(e.type)??[];return Kx(t,{signed:r,size:Number(i)})}if(e.type.startsWith("bytes"))return qx(t,{param:e});if(e.type==="string")return Vx(t);throw new wx(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function n0(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?t+=32:t+=et(a)}const n=[],r=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(n.push(le(t+i,{size:32})),r.push(a),i+=et(a)):n.push(a)}return gr([...n,...r])}function jx(e){if(!Gt(e))throw new pn({address:e});return{dynamic:!1,encoded:jr(e.toLowerCase())}}function Wx(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Qb(e);if(!r&&e.length!==t)throw new dx({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let i=!1;const s=[];for(let o=0;o<e.length;o++){const a=t0({param:n,value:e[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=n0(s);if(r){const a=le(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?gr([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:gr(s.map(({encoded:o})=>o))}}function qx(e,{param:t}){const[,n]=t.type.split("bytes"),r=et(e);if(!n){let i=e;return r%32!==0&&(i=jr(i,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:gr([jr(le(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new hx({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:jr(e,{dir:"right"})}}function Hx(e){if(typeof e!="boolean")throw new ie(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:jr(nw(e))}}function Kx(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,i=t?-r-1n:0n;if(e>r||e<i)throw new tw({max:r.toString(),min:i.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:le(e,{size:32,signed:t})}}function Vx(e){const t=Io(e),n=Math.ceil(et(t)/32),r=[];for(let i=0;i<n;i++)r.push(jr(Ai(t,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:gr([jr(le(et(t),{size:32})),...r])}}function Gx(e,{param:t}){let n=!1;const r=[];for(let i=0;i<t.components.length;i++){const s=t.components[i],o=Array.isArray(e)?i:s.name,a=t0({param:s,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?n0(r):gr(r.map(({encoded:i})=>i))}}function r0(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function i0(e,t){const n=typeof t=="string"?Wn(t):t,r=e0(n);if(et(n)===0&&e.length>0)throw new Jh;if(et(t)&&et(t)<32)throw new fx({data:typeof t=="string"?t:$t(t),params:e,size:et(t)});let i=0;const s=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(i);const[c,u]=bs(r,a,{staticPosition:0});i+=u,s.push(c)}return s}function bs(e,t,{staticPosition:n}){const r=r0(t.type);if(r){const[i,s]=r;return Yx(e,{...t,type:s},{length:i,staticPosition:n})}if(t.type==="tuple")return e3(e,t,{staticPosition:n});if(t.type==="address")return Zx(e);if(t.type==="bool")return Jx(e);if(t.type.startsWith("bytes"))return Qx(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Xx(e,t);if(t.type==="string")return t3(e,{staticPosition:n});throw new vx(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const rg=32,xd=32;function Zx(e){const t=e.readBytes(32);return[mu($t(ow(t,-20))),32]}function Yx(e,t,{length:n,staticPosition:r}){if(!n){const o=lr(e.readBytes(xd)),a=r+o,c=a+rg;e.setPosition(a);const u=lr(e.readBytes(rg)),l=Co(t);let f=0;const d=[];for(let p=0;p<u;++p){e.setPosition(c+(l?p*32:f));const[b,y]=bs(e,t,{staticPosition:c});f+=y,d.push(b)}return e.setPosition(r+32),[d,32]}if(Co(t)){const o=lr(e.readBytes(xd)),a=r+o,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[l]=bs(e,t,{staticPosition:a});c.push(l)}return e.setPosition(r+32),[c,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,c]=bs(e,t,{staticPosition:r+i});i+=c,s.push(a)}return[s,i]}function Jx(e){return[Lx(e.readBytes(32),{size:32}),32]}function Qx(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const o=lr(e.readBytes(32));e.setPosition(n+o);const a=lr(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[$t(c),32]}return[$t(e.readBytes(Number.parseInt(i,10),32)),32]}function Xx(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[r>48?kx(i,{signed:n}):lr(i,{signed:n}),32]}function e3(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(Co(t)){const o=lr(e.readBytes(xd)),a=n+o;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+s);const[l,f]=bs(e,u,{staticPosition:a});s+=f,i[r?c:u?.name]=l}return e.setPosition(n+32),[i,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,u]=bs(e,a,{staticPosition:n});i[r?o:a?.name]=c,s+=u}return[i,s]}function t3(e,{staticPosition:t}){const n=lr(e.readBytes(32)),r=t+n;e.setPosition(r);const i=lr(e.readBytes(32));if(i===0)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),o=Nx(Mn(s));return e.setPosition(t+32),[o,32]}function Co(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Co);const n=r0(e.type);return!!(n&&Co({...e,type:n[1]}))}const n3=e=>vn(Qh(e));function r3(e){return n3(e)}const i3="1.0.8";let _n=class _d extends Error{constructor(t,n={}){const r=n.cause instanceof _d?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof _d&&n.cause.docsPath||n.docsPath,s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${i3}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Er(e,t){return e.exec(t)?.groups}const cw=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,uw=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,lw=/^\(.+?\).*?$/,ig=/^tuple(?<array>(\[(\d*)\])*)$/;function Sd(e){let t=e.type;if(ig.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let i=0;i<n;i++){const s=e.components[i];t+=Sd(s),i<n-1&&(t+=", ")}const r=Er(ig,e.type);return t+=`)${r?.array??""}`,Sd({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function js(e){let t="";const n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=Sd(i),r!==n-1&&(t+=", ")}return t}function s3(e){return e.type==="function"?`function ${e.name}(${js(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${js(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${js(e.inputs)})`:e.type==="error"?`error ${e.name}(${js(e.inputs)})`:e.type==="constructor"?`constructor(${js(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const fw=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function o3(e){return fw.test(e)}function a3(e){return Er(fw,e)}const dw=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function c3(e){return dw.test(e)}function u3(e){return Er(dw,e)}const hw=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function l3(e){return hw.test(e)}function f3(e){return Er(hw,e)}const pw=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function gw(e){return pw.test(e)}function d3(e){return Er(pw,e)}const yw=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function h3(e){return yw.test(e)}function p3(e){return Er(yw,e)}const mw=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function g3(e){return mw.test(e)}function y3(e){return Er(mw,e)}const m3=/^receive\(\) external payable$/;function b3(e){return m3.test(e)}const w3=new Set(["indexed"]),Ad=new Set(["calldata","memory","storage"]);let v3=class extends _n{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},E3=class extends _n{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}},x3=class extends _n{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},_3=class extends _n{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},S3=class extends _n{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},A3=class extends _n{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},I3=class extends _n{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}},$s=class extends _n{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},C3=class extends _n{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},B3=class extends _n{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}},M3=class extends _n{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}},R3=class extends _n{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}};function P3(e,t,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${i[0]}{${s}})`}return t?`${t}:${e}${r}`:e}const Il=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function O3(e,t={}){if(l3(e))return T3(e,t);if(c3(e))return D3(e,t);if(o3(e))return $3(e,t);if(h3(e))return k3(e,t);if(g3(e))return L3(e);if(b3(e))return{type:"receive",stateMutability:"payable"};throw new C3({signature:e})}function T3(e,t={}){const n=f3(e);if(!n)throw new $s({signature:e,type:"function"});const r=Cn(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(Ii(r[a],{modifiers:Ad,structs:t,type:"function"}));const o=[];if(n.returns){const a=Cn(n.returns),c=a.length;for(let u=0;u<c;u++)o.push(Ii(a[u],{modifiers:Ad,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}function D3(e,t={}){const n=u3(e);if(!n)throw new $s({signature:e,type:"event"});const r=Cn(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Ii(r[o],{modifiers:w3,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:i}}function $3(e,t={}){const n=a3(e);if(!n)throw new $s({signature:e,type:"error"});const r=Cn(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Ii(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:i}}function k3(e,t={}){const n=p3(e);if(!n)throw new $s({signature:e,type:"constructor"});const r=Cn(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Ii(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function L3(e){const t=y3(e);if(!t)throw new $s({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const N3=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,F3=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,U3=/^u?int$/;function Ii(e,t){const n=P3(e,t?.type,t?.structs);if(Il.has(n))return Il.get(n);const r=lw.test(e),i=Er(r?F3:N3,e);if(!i)throw new x3({param:e});if(i.name&&j3(i.name))throw new _3({param:e,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const f=Cn(i.type),d=[],p=f.length;for(let b=0;b<p;b++)d.push(Ii(f[b],{structs:a}));u={components:d}}else if(i.type in a)c="tuple",u={components:a[i.type]};else if(U3.test(i.type))c=`${i.type}256`;else if(c=i.type,t?.type!=="struct"&&!bw(c))throw new E3({type:c});if(i.modifier){if(!t?.modifiers?.has?.(i.modifier))throw new S3({param:e,type:t?.type,modifier:i.modifier});if(Ad.has(i.modifier)&&!W3(c,!!i.array))throw new A3({param:e,type:t?.type,modifier:i.modifier})}const l={type:`${c}${i.array??""}`,...s,...o,...u};return Il.set(n,l),l}function Cn(e,t=[],n="",r=0){const i=e.trim().length;for(let s=0;s<i;s++){const o=e[s],a=e.slice(s+1);switch(o){case",":return r===0?Cn(a,[...t,n.trim()]):Cn(a,t,`${n}${o}`,r);case"(":return Cn(a,t,`${n}${o}`,r+1);case")":return Cn(a,t,`${n}${o}`,r-1);default:return Cn(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new R3({current:n,depth:r});return t.push(n.trim()),t}function bw(e){return e==="address"||e==="bool"||e==="function"||e==="string"||cw.test(e)||uw.test(e)}const z3=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function j3(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||cw.test(e)||uw.test(e)||z3.test(e)}function W3(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function q3(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!gw(a))continue;const c=d3(a);if(!c)throw new $s({signature:a,type:"struct"});const u=c.properties.split(";"),l=[],f=u.length;for(let d=0;d<f;d++){const b=u[d].trim();if(!b)continue;const y=Ii(b,{type:"struct"});l.push(y)}if(!l.length)throw new B3({signature:a});t[c.name]=l}const r={},i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];r[a]=ww(c,t)}return r}const H3=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function ww(e,t,n=new Set){const r=[],i=e.length;for(let s=0;s<i;s++){const o=e[s];if(lw.test(o.type))r.push(o);else{const c=Er(H3,o.type);if(!c?.type)throw new I3({abiParameter:o});const{array:u,type:l}=c;if(l in t){if(n.has(l))throw new M3({type:l});r.push({...o,type:`tuple${u??""}`,components:ww(t[l]??[],t,new Set([...n,l]))})}else if(bw(l))r.push(o);else throw new v3({type:l})}}return r}function vw(e){const t=q3(e),n=[],r=e.length;for(let i=0;i<r;i++){const s=e[i];gw(s)||n.push(O3(s,t))}return n}function K3(e){let t=!0,n="",r=0,i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}i+=a,n+=a}}if(!s)throw new ie("Unable to normalize signature.");return i}const V3=e=>{const t=typeof e=="string"?e:s3(e);return K3(t)};function Ew(e){return r3(V3(e))}const G3=Ew,pa=e=>Ai(Ew(e),0,4);function ga(e){const{abi:t,args:n=[],name:r}=e,i=jn(r,{strict:!1}),s=t.filter(a=>i?a.type==="function"?pa(a)===r:a.type==="event"?G3(a)===r:!1:"name"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,l)=>{const f="inputs"in a&&a.inputs[l];return f?Id(u,f):!1})){if(o&&"inputs"in o&&o.inputs){const u=xw(a.inputs,o.inputs,n);if(u)throw new mx({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||s[0]}function Id(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Gt(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((i,s)=>Id(Object.values(e)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(i=>Id(i,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function xw(e,t,n){for(const r in e){const i=e[r],s=t[r];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return xw(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Gt(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Gt(n[r],{strict:!1}):!1)return o}}const Cl="/docs/contract/decodeFunctionResult";function _w(e){const{abi:t,args:n,functionName:r,data:i}=e;let s=t[0];if(r){const a=ga({abi:t,args:n,name:r});if(!a)throw new Is(r,{docsPath:Cl});s=a}if(s.type!=="function")throw new Is(void 0,{docsPath:Cl});if(!s.outputs)throw new Jb(s.name,{docsPath:Cl});const o=i0(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const sg="/docs/contract/encodeFunctionData";function Z3(e){const{abi:t,args:n,functionName:r}=e;let i=t[0];if(r){const s=ga({abi:t,args:n,name:r});if(!s)throw new Is(r,{docsPath:sg});i=s}if(i.type!=="function")throw new Is(void 0,{docsPath:sg});return{abi:[i],functionName:pa(Hr(i))}}function bu(e){const{args:t}=e,{abi:n,functionName:r}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:Z3(e),i=n[0],s=r,o="inputs"in i&&i.inputs?Ni(i.inputs,t??[]):void 0;return Hn([s,o??"0x"])}class Cd extends ie{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Sw extends ie{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class wu extends ie{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}function Y3({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new Cd({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Cd({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function ya(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const J3={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Aw={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Q3={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Iw(e){const{abi:t,data:n}=e,r=Ai(n,0,4);if(r==="0x")throw new Jh;const s=[...t||[],Aw,Q3].find(o=>o.type==="error"&&r===pa(Hr(o)));if(!s)throw new Yb(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?i0(s.inputs,Ai(n,4)):void 0,errorName:s.name}}const En=(e,t,n)=>JSON.stringify(e,(r,i)=>typeof i=="bigint"?i.toString():i,n);function Cw({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:""}${typeof t[s]=="object"?En(t[s]):t[s]}`).join(", ")})`}const X3={gwei:9,wei:18},e_={ether:-9,wei:9};function Bw(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[i,s]=[n.slice(0,n.length-t),n.slice(n.length-t)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}function t_(e,t="wei"){return Bw(e,X3[t])}function vi(e,t="wei"){return Bw(e,e_[t])}class n_ extends ie{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class r_ extends ie{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function og(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function i_(e){return e.reduce((t,{address:n,...r})=>{let i=`${t}    ${n}:
`;return r.nonce&&(i+=`      nonce: ${r.nonce}
`),r.balance&&(i+=`      balance: ${r.balance}
`),r.code&&(i+=`      code: ${r.code}
`),r.state&&(i+=`      state:
`,i+=og(r.state)),r.stateDiff&&(i+=`      stateDiff:
`,i+=og(r.stateDiff)),i},`  State Override:
`).slice(0,-1)}function s0(e){const t=Object.entries(e).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=t.reduce((r,[i])=>Math.max(r,i.length),0);return t.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`
`)}class s_ extends ie{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class o_ extends ie{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class a_ extends ie{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",s0(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class c_ extends ie{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}const u_=e=>e,ma=e=>e;class Mw extends ie{constructor(t,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:f,value:d,stateOverride:p}){const b=n?ya(n):void 0;let y=s0({from:b?.address,to:f,value:typeof d<"u"&&`${t_(d)} ${i?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${vi(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${vi(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${vi(u)} gwei`,nonce:l});p&&(y+=`
${i_(p)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class Rw extends ie{constructor(t,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=ga({abi:n,args:r,name:o}),u=c?Cw({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=c?Hr(c,{includeName:!0}):void 0,f=s0({address:i&&u_(i),function:l,args:u&&u!=="()"&&`${[...Array(o?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:s,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=i,this.functionName=o,this.sender=a}}class l_ extends ie{constructor({abi:t,data:n,functionName:r,message:i}){let s,o,a,c;if(n&&n!=="0x")try{o=Iw({abi:t,data:n});const{abiItem:l,errorName:f,args:d}=o;if(f==="Error")c=d[0];else if(f==="Panic"){const[p]=d;c=J3[p]}else{const p=l?Hr(l,{includeName:!0}):void 0,b=l&&d?Cw({abiItem:l,args:d,includeFunctionName:!1,includeName:!1}):void 0;a=[p?`Error: ${p}`:"",b&&b!=="()"?`       ${[...Array(f?.length??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(l){s=l}else i&&(c=i);let u;s instanceof Yb&&(u=s.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:s,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=u}}class f_ extends ie{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class d_ extends ie{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Pw extends ie{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function h_(e){const{abi:t,data:n}=e,r=Ai(n,0,4),i=t.find(s=>s.type==="function"&&r===pa(Hr(s)));if(!i)throw new yx(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?i0(i.inputs,Ai(n,4)):void 0}}const Bl="/docs/contract/encodeErrorResult";function ag(e){const{abi:t,errorName:n,args:r}=e;let i=t[0];if(n){const c=ga({abi:t,args:r,name:n});if(!c)throw new Xp(n,{docsPath:Bl});i=c}if(i.type!=="error")throw new Xp(void 0,{docsPath:Bl});const s=Hr(i),o=pa(s);let a="0x";if(r&&r.length>0){if(!i.inputs)throw new gx(i.name,{docsPath:Bl});a=Ni(i.inputs,r)}return Hn([o,a])}const Ml="/docs/contract/encodeFunctionResult";function p_(e){const{abi:t,functionName:n,result:r}=e;let i=t[0];if(n){const o=ga({abi:t,name:n});if(!o)throw new Is(n,{docsPath:Ml});i=o}if(i.type!=="function")throw new Is(void 0,{docsPath:Ml});if(!i.outputs)throw new Jb(i.name,{docsPath:Ml});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new Qb(r)})();return Ni(i.outputs,s)}const Ow="x-batch-gateway:true";async function Tw(e){const{data:t,ccipRequest:n}=e,{args:[r]}=h_({abi:wd,data:t}),i=[],s=[];return await Promise.all(r.map(async(o,a)=>{try{s[a]=o.urls.includes(Ow)?await Tw({data:o.data,ccipRequest:n}):await n(o),i[a]=!1}catch(c){i[a]=!0,s[a]=g_(c)}})),p_({abi:wd,functionName:"query",result:[i,s]})}function g_(e){return e.name==="HttpRequestError"&&e.status?ag({abi:wd,errorName:"HttpError",args:[e.status,e.shortMessage]}):ag({abi:[Aw],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function ba(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const i=e[n];return typeof i=="function"?i:s=>t(e,s)}class Ei extends ie{constructor({body:t,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${ma(o)}`,t&&`Request body: ${En(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=i,this.status=s,this.url=o}}class o0 extends ie{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${ma(r)}`,`Request body: ${En(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class cg extends ie{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${ma(n)}`,`Request body: ${En(t)}`],name:"TimeoutError"})}}const y_=-1;class sn extends ie{constructor(t,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:i||t?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||t.name,this.code=t instanceof o0?t.code:n??y_}}class yn extends sn{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Bo extends sn{constructor(t){super(t,{code:Bo.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Bo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Mo extends sn{constructor(t){super(t,{code:Mo.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Mo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Ro extends sn{constructor(t,{method:n}={}){super(t,{code:Ro.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(Ro,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Po extends sn{constructor(t){super(t,{code:Po.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Po,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ci extends sn{constructor(t){super(t,{code:Ci.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Ci,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Oo extends sn{constructor(t){super(t,{code:Oo.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Oo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class To extends sn{constructor(t){super(t,{code:To.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(To,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Wr extends sn{constructor(t){super(t,{code:Wr.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Wr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Cs extends sn{constructor(t){super(t,{code:Cs.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Cs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class li extends sn{constructor(t,{method:n}={}){super(t,{code:li.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(li,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Bs extends sn{constructor(t){super(t,{code:Bs.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Bs,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Do extends sn{constructor(t){super(t,{code:Do.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(Do,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Kt extends yn{constructor(t){super(t,{code:Kt.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class $o extends yn{constructor(t){super(t,{code:$o.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty($o,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ko extends yn{constructor(t,{method:n}={}){super(t,{code:ko.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(ko,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Lo extends yn{constructor(t){super(t,{code:Lo.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Lo,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class No extends yn{constructor(t){super(t,{code:No.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(No,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Bi extends yn{constructor(t){super(t,{code:Bi.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Bi,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Fo extends yn{constructor(t){super(t,{code:Fo.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Fo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Uo extends yn{constructor(t){super(t,{code:Uo.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Uo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class zo extends yn{constructor(t){super(t,{code:zo.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(zo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class jo extends yn{constructor(t){super(t,{code:jo.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(jo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Wo extends yn{constructor(t){super(t,{code:Wo.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Wo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class qo extends yn{constructor(t){super(t,{code:qo.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(qo,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Ho extends yn{constructor(t){super(t,{code:Ho.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Ho,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class m_ extends sn{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const b_=3;function w_(e,{abi:t,address:n,args:r,docsPath:i,functionName:s,sender:o}){const a=e instanceof Pw?e:e instanceof ie?e.walk(b=>"data"in b)||e.walk():{},{code:c,data:u,details:l,message:f,shortMessage:d}=a,p=e instanceof Jh?new f_({functionName:s}):[b_,Ci.code].includes(c)&&(u||l||f||d)?new l_({abi:t,data:typeof u=="object"?u.data:u,functionName:s,message:a instanceof o0?l:d??f}):e;return new Rw(p,{abi:t,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}const v_="0.1.1";function E_(){return v_}let Pe=class Bd extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof Bd){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),i=n.cause instanceof Bd&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${E_()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=t}walk(t){return Dw(this,t)}};function Dw(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Dw(e.cause,t):t?null:e}function wa(e,t){if(ps(e)>t)throw new F_({givenSize:ps(e),maxSize:t})}const Qn={zero:48,nine:57,A:65,F:70,a:97,f:102};function ug(e){if(e>=Qn.zero&&e<=Qn.nine)return e-Qn.zero;if(e>=Qn.A&&e<=Qn.F)return e-(Qn.A-10);if(e>=Qn.a&&e<=Qn.f)return e-(Qn.a-10)}function x_(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new U_({size:e.length,targetSize:r,type:"Bytes"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n==="right";i[o?s:r-s-1]=e[o?s:e.length-s-1]}return i}function $w(e,t={}){const{dir:n="left"}=t;let r=e,i=0;for(let s=0;s<r.length-1&&r[n==="left"?s:r.length-s-1].toString()==="0";s++)i++;return r=n==="left"?r.slice(i):r.slice(0,r.length-i),r}function vu(e,t){if(gn(e)>t)throw new q_({givenSize:gn(e),maxSize:t})}function __(e,t){if(typeof t=="number"&&t>0&&t>gn(e)-1)throw new Ww({offset:t,position:"start",size:gn(e)})}function S_(e,t,n){if(typeof t=="number"&&typeof n=="number"&&gn(e)!==n-t)throw new Ww({offset:n,position:"end",size:gn(e)})}function kw(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const i=e.replace("0x","");if(i.length>r*2)throw new H_({size:Math.ceil(i.length/2),targetSize:r,type:"Hex"});return`0x${i[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const A_="#__bigint";function I_(e,t,n){return JSON.stringify(e,(r,i)=>typeof i=="bigint"?i.toString()+A_:i,n)}const C_=new TextDecoder,B_=new TextEncoder;function M_(e){return e instanceof Uint8Array?e:typeof e=="string"?Lw(e):R_(e)}function R_(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Lw(e,t={}){const{size:n}=t;let r=e;n&&(vu(e,n),r=Ri(e,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const u=ug(i.charCodeAt(c++)),l=ug(i.charCodeAt(c++));if(u===void 0||l===void 0)throw new Pe(`Invalid byte sequence ("${i[c-2]}${i[c-1]}" in "${i}").`);o[a]=u*16+l}return o}function P_(e,t={}){const{size:n}=t,r=B_.encode(e);return typeof n=="number"?(wa(r,n),O_(r,n)):r}function O_(e,t){return x_(e,{dir:"right",size:t})}function ps(e){return e.length}function T_(e,t,n,r={}){const{strict:i}=r;return e.slice(t,n)}function D_(e,t={}){const{size:n}=t;typeof n<"u"&&wa(e,n);const r=Pn(e,t);return Uw(r,t)}function $_(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(wa(r,n),r=Nw(r)),r.length>1||r[0]>1)throw new N_(r);return!!r[0]}function fr(e,t={}){const{size:n}=t;typeof n<"u"&&wa(e,n);const r=Pn(e,t);return zw(r,t)}function k_(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(wa(r,n),r=L_(r)),C_.decode(r)}function Nw(e){return $w(e,{dir:"left"})}function L_(e){return $w(e,{dir:"right"})}class N_ extends Pe{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let F_=class extends Pe{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},U_=class extends Pe{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const z_=new TextEncoder,j_=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function yr(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function W_(e){return e instanceof Uint8Array?Pn(e):Array.isArray(e)?Pn(new Uint8Array(e)):e}function Fw(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(vu(n,t.size),Mi(n,t.size)):n}function Pn(e,t={}){let n="";for(let i=0;i<e.length;i++)n+=j_[e[i]];const r=`0x${n}`;return typeof t.size=="number"?(vu(r,t.size),Ri(r,t.size)):r}function Yt(e,t={}){const{signed:n,size:r}=t,i=BigInt(e);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const u=typeof e=="bigint"?"n":"";throw new jw({max:s?`${s}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Mi(c,r):c}function a0(e,t={}){return Pn(z_.encode(e),t)}function Mi(e,t){return kw(e,{dir:"left",size:t})}function Ri(e,t){return kw(e,{dir:"right",size:t})}function dr(e,t,n,r={}){const{strict:i}=r;__(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return i&&S_(s,t,n),s}function gn(e){return Math.ceil((e.length-2)/2)}function Uw(e,t={}){const{signed:n}=t;t.size&&vu(e,t.size);const r=BigInt(e);if(!n)return r;const i=(e.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return r<=o?r:r-s-1n}function zw(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Uw(e,t))}class jw extends Pe{constructor({max:t,min:n,signed:r,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class q_ extends Pe{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Ww extends Pe{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class H_ extends Pe{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function K_(e){return{address:e.address,amount:Yt(e.amount),index:Yt(e.index),validatorIndex:Yt(e.validatorIndex)}}function V_(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:Yt(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:Yt(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:Yt(e.gasLimit)},...typeof e.number=="bigint"&&{number:Yt(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:Yt(e.prevRandao)},...typeof e.time=="bigint"&&{time:Yt(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(K_)}}}const G_="0x82ad56cb",Z_="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Y_="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",J_="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",qw="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",Rl="/docs/contract/encodeDeployData";function c0(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const i=t.find(o=>"type"in o&&o.type==="constructor");if(!i)throw new lx({docsPath:Rl});if(!("inputs"in i))throw new Qp({docsPath:Rl});if(!i.inputs||i.inputs.length===0)throw new Qp({docsPath:Rl});const s=Ni(i.inputs,n);return Hn([r,s])}class fi extends ie{constructor({cause:t,message:n}={}){const r=n?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(fi,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(fi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Pi extends ie{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${vi(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Pi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Md extends ie{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${vi(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(Md,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Rd extends ie{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(Rd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Pd extends ie{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(Pd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class Od extends ie{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(Od,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Td extends ie{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Td,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Dd extends ie{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Dd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class $d extends ie{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty($d,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class kd extends ie{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(kd,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Ko extends ie{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${vi(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${vi(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(Ko,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Hw extends ie{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Q_(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof ie?e.walk(i=>i?.code===fi.code):e;return r instanceof ie?new fi({cause:e,message:r.details}):fi.nodeMessage.test(n)?new fi({cause:e,message:e.details}):Pi.nodeMessage.test(n)?new Pi({cause:e,maxFeePerGas:t?.maxFeePerGas}):Md.nodeMessage.test(n)?new Md({cause:e,maxFeePerGas:t?.maxFeePerGas}):Rd.nodeMessage.test(n)?new Rd({cause:e,nonce:t?.nonce}):Pd.nodeMessage.test(n)?new Pd({cause:e,nonce:t?.nonce}):Od.nodeMessage.test(n)?new Od({cause:e,nonce:t?.nonce}):Td.nodeMessage.test(n)?new Td({cause:e}):Dd.nodeMessage.test(n)?new Dd({cause:e,gas:t?.gas}):$d.nodeMessage.test(n)?new $d({cause:e,gas:t?.gas}):kd.nodeMessage.test(n)?new kd({cause:e}):Ko.nodeMessage.test(n)?new Ko({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new Hw({cause:e})}function X_(e,{docsPath:t,...n}){const r=(()=>{const i=Q_(e,n);return i instanceof Hw?e:i})();return new Mw(r,{docsPath:t,...n})}function eS(e,{format:t}){if(!t)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in e&&(n[a]=e[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&r(s[a])}const i=t(e||{});return r(i),n}function Eu(e,t){return({exclude:n,format:r})=>({exclude:n,format:i=>{const s=t(i);if(n)for(const o of n)delete s[o];return{...s,...r(i)}},type:e})}const tS={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Kw(e){const t={};return typeof e.authorizationList<"u"&&(t.authorizationList=nS(e.authorizationList)),typeof e.accessList<"u"&&(t.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(t.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?t.blobs=e.blobs.map(n=>$t(n)):t.blobs=e.blobs),typeof e.data<"u"&&(t.data=e.data),typeof e.from<"u"&&(t.from=e.from),typeof e.gas<"u"&&(t.gas=le(e.gas)),typeof e.gasPrice<"u"&&(t.gasPrice=le(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(t.maxFeePerBlobGas=le(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(t.maxFeePerGas=le(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(t.maxPriorityFeePerGas=le(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(t.nonce=le(e.nonce)),typeof e.to<"u"&&(t.to=e.to),typeof e.type<"u"&&(t.type=tS[e.type]),typeof e.value<"u"&&(t.value=le(e.value)),t}const yN=Eu("transactionRequest",Kw);function nS(e){return e.map(t=>({address:t.address,r:t.r?le(BigInt(t.r)):t.r,s:t.s?le(BigInt(t.s)):t.s,chainId:le(t.chainId),nonce:le(t.nonce),...typeof t.yParity<"u"?{yParity:le(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:le(t.v)}:{}}))}function Vw(){let e=()=>{},t=()=>{};return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}const Pl=new Map;function Gw({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const l=c();o();const f=l.map(({args:d})=>d);f.length!==0&&e(f).then(d=>{i&&Array.isArray(d)&&d.sort(i);for(let p=0;p<l.length;p++){const{resolve:b}=l[p];b?.([d[p],d])}}).catch(d=>{for(let p=0;p<l.length;p++){const{reject:b}=l[p];b?.(d)}})},o=()=>Pl.delete(t),a=()=>c().map(({args:l})=>l),c=()=>Pl.get(t)||[],u=l=>Pl.set(t,[...c(),l]);return{flush:o,async schedule(l){const{promise:f,resolve:d,reject:p}=Vw();return n?.([...a(),l])&&s(),c().length>0?(u({args:l,resolve:d,reject:p}),f):(u({args:l,resolve:d,reject:p}),setTimeout(s,r),f)}}}function lg(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new eg({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new eg({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function rS(e){const{balance:t,nonce:n,state:r,stateDiff:i,code:s}=e,o={};if(s!==void 0&&(o.code=s),t!==void 0&&(o.balance=le(t)),n!==void 0&&(o.nonce=le(n)),r!==void 0&&(o.state=lg(r)),i!==void 0){if(o.state)throw new r_;o.stateDiff=lg(i)}return o}function iS(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!Gt(n,{strict:!1}))throw new pn({address:n});if(t[n])throw new n_({address:n});t[n]=rS(r)}return t}const xu=2n**256n-1n;function sS(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=e,o=t?ya(t):void 0;if(o&&!Gt(o.address))throw new pn({address:o.address});if(s&&!Gt(s))throw new pn({address:s});if(typeof n<"u"&&(typeof r<"u"||typeof i<"u"))throw new s_;if(r&&r>xu)throw new Pi({maxFeePerGas:r});if(i&&r&&i>r)throw new Ko({maxFeePerGas:r,maxPriorityFeePerGas:i})}async function u0(e,t){const{account:n=e.account,authorizationList:r,batch:i=!!e.batch?.multicall,blockNumber:s,blockTag:o=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:l,data:f,factory:d,factoryData:p,gas:b,gasPrice:y,maxFeePerBlobGas:w,maxFeePerGas:A,maxPriorityFeePerGas:B,nonce:_,to:M,value:I,stateOverride:C,...k}=t,z=n?ya(n):void 0;if(l&&(d||p))throw new ie("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(l&&M)throw new ie("Cannot provide both `code` & `to` as parameters.");const N=l&&f,U=d&&p&&M&&f,W=N||U,H=N?Zw({code:l,data:f}):U?cS({data:f,factory:d,factoryData:p,to:M}):f;try{sS(t);const h=(typeof s=="bigint"?le(s):void 0)||o,g=u?V_(u):void 0,E=iS(C),R=e.chain?.formatters?.transactionRequest?.format,$=(R||Kw)({...eS(k,{format:R}),from:z?.address,accessList:a,authorizationList:r,blobs:c,data:H,gas:b,gasPrice:y,maxFeePerBlobGas:w,maxFeePerGas:A,maxPriorityFeePerGas:B,nonce:_,to:W?void 0:M,value:I});if(i&&oS({request:$})&&!E&&!g)try{return await aS(e,{...$,blockNumber:s,blockTag:o})}catch(m){if(!(m instanceof Sw)&&!(m instanceof Cd))throw m}const F=(()=>{const m=[$,h];return E&&g?[...m,E,g]:E?[...m,E]:g?[...m,{},g]:m})(),T=await e.request({method:"eth_call",params:F});return T==="0x"?{data:void 0}:{data:T}}catch(P){const h=uS(P),{offchainLookup:g,offchainLookupSignature:E}=await Dm(async()=>{const{offchainLookup:R,offchainLookupSignature:O}=await Promise.resolve().then(()=>XS);return{offchainLookup:R,offchainLookupSignature:O}},void 0);if(e.ccipRead!==!1&&h?.slice(0,10)===E&&M)return{data:await g(e,{data:h,to:M})};throw W&&h?.slice(0,10)==="0x101bb98d"?new d_({factory:d}):X_(P,{...t,account:z,chain:e.chain})}}function oS({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(G_)||!n||Object.values(r).filter(i=>typeof i<"u").length>0)}async function aS(e,t){const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return Y3({blockNumber:s,chain:e.chain,contract:"multicall3"});throw new Sw})(),f=(typeof s=="bigint"?le(s):void 0)||o,{schedule:d}=Gw({id:`${e.uid}.${f}`,wait:i,shouldSplitBatch(y){return y.reduce((A,{data:B})=>A+(B.length-2),0)>n*2},fn:async y=>{const w=y.map(_=>({allowFailure:!0,callData:_.data,target:_.to})),A=bu({abi:bd,args:[w],functionName:"aggregate3"}),B=await e.request({method:"eth_call",params:[{...u===null?{data:Zw({code:qw,data:A})}:{to:u,data:A}},f]});return _w({abi:bd,args:[w],functionName:"aggregate3",data:B||"0x"})}}),[{returnData:p,success:b}]=await d({data:a,to:c});if(!b)throw new Pw({data:p});return p==="0x"?{data:void 0}:{data:p}}function Zw(e){const{code:t,data:n}=e;return c0({abi:vw(["constructor(bytes, bytes)"]),bytecode:Z_,args:[t,n]})}function cS(e){const{data:t,factory:n,factoryData:r,to:i}=e;return c0({abi:vw(["constructor(address, bytes, address, bytes)"]),bytecode:Y_,args:[i,t,n,r]})}function uS(e){if(!(e instanceof ie))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function l0(e,t){const{abi:n,address:r,args:i,functionName:s,...o}=t,a=bu({abi:n,args:i,functionName:s});try{const{data:c}=await ba(e,u0,"call")({...o,data:a,to:r});return _w({abi:n,args:i,functionName:s,data:c||"0x"})}catch(c){throw w_(c,{abi:n,address:r,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}function lS(e){const t=vn(`0x${e.substring(4)}`).substring(26);return mu(`0x${t}`)}async function fS({hash:e,signature:t}){const n=jn(e)?e:Si(e),{secp256k1:r}=await Dm(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>D8);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:l,v:f,yParity:d}=t,p=Number(d??f),b=fg(p);return new r.Signature(Kr(u),Kr(l)).addRecoveryBit(b)}const o=jn(t)?t:Si(t);if(et(o)!==65)throw new Error("invalid signature length");const a=pr(`0x${o.slice(130)}`),c=fg(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function fg(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function Yw({hash:e,signature:t}){return lS(await fS({hash:e,signature:t}))}function Oi(e,t="hex"){const n=Jw(e),r=e0(new Uint8Array(n.length));return n.encode(r),t==="hex"?$t(r.bytes):r.bytes}function Jw(e){return Array.isArray(e)?dS(e.map(t=>Jw(t))):hS(e)}function dS(e){const t=e.reduce((i,s)=>i+s.length,0),n=Qw(t);return{length:t<=55?1+t:1+n+t,encode(i){t<=55?i.pushByte(192+t):(i.pushByte(247+n),n===1?i.pushUint8(t):n===2?i.pushUint16(t):n===3?i.pushUint24(t):i.pushUint32(t));for(const{encode:s}of e)s(i)}}}function hS(e){const t=typeof e=="string"?Wn(e):e,n=Qw(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(i){t.length===1&&t[0]<128?i.pushBytes(t):t.length<=55?(i.pushByte(128+t.length),i.pushBytes(t)):(i.pushByte(183+n),n===1?i.pushUint8(t.length):n===2?i.pushUint16(t.length):n===3?i.pushUint24(t.length):i.pushUint32(t.length),i.pushBytes(t))}}}function Qw(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new ie("Length is too large.")}function pS(e){const{chainId:t,nonce:n,to:r}=e,i=e.contractAddress??e.address,s=vn(Hn(["0x05",Oi([t?le(t):"0x",i,n?le(n):"0x"])]));return r==="bytes"?Wn(s):s}async function gS(e){const{authorization:t,signature:n}=e;return Yw({hash:pS(t),signature:n??t})}const Xw={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function ev(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?pr(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?pr(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Xw[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(t.authorizationList=yS(e.authorizationList)),t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerBlobGas,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip1559"&&delete t.maxFeePerBlobGas,t}const mN=Eu("transaction",ev);function yS(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function mS(e){const t=(e.transactions??[]).map(n=>typeof n=="string"?n:ev(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const bN=Eu("block",mS);async function bS(e,{address:t,blockTag:n="latest",blockNumber:r}){const i=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?le(r):n]},{dedupe:!!r});return pr(i)}function tv(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(s=>Wn(s)):e.blobs,i=[];for(const s of r)i.push(Uint8Array.from(t.blobToKzgCommitment(s)));return n==="bytes"?i:i.map(s=>$t(s))}function nv(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>Wn(o)):e.blobs,i=typeof e.commitments[0]=="string"?e.commitments.map(o=>Wn(o)):e.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],c=i[o];s.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?s:s.map(o=>$t(o))}function wS(e,t){return rd(jn(e,{strict:!1})?Qh(e):e)}function vS(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),i=wS(t);return i.set([n],0),r==="bytes"?i:$t(i)}function ES(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),i=[];for(const s of t)i.push(vS({commitment:s,to:r,version:n}));return i}const dg=6,rv=32,f0=4096,iv=rv*f0,hg=iv*dg-1-1*f0*dg,sv=1;class xS extends ie{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class ov extends ie{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class _S extends ie{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class SS extends ie{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${sv}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function AS(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?Wn(e.data):e.data,r=et(n);if(!r)throw new ov;if(r>hg)throw new xS({maxSize:hg,size:r});const i=[];let s=!0,o=0;for(;s;){const a=e0(new Uint8Array(iv));let c=0;for(;c<f0;){const u=n.slice(o,o+(rv-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),s=!1;break}c++,o+=31}i.push(a)}return t==="bytes"?i.map(a=>a.bytes):i.map(a=>$t(a.bytes))}function IS(e){const{data:t,kzg:n,to:r}=e,i=e.blobs??AS({data:t,to:r}),s=e.commitments??tv({blobs:i,kzg:n,to:r}),o=e.proofs??nv({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}function CS(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new a_({transaction:e})}const BS=new Map,MS=new Map;function RS(e){const t=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=t(e,BS),r=t(e,MS);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function wN(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=RS(t),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=e(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}async function av(e,{address:t,blockNumber:n,blockTag:r="latest"}){const i=n!==void 0?le(n):void 0,s=await e.request({method:"eth_getCode",params:[t,i||r]},{dedupe:!!i});if(s!=="0x")return s}function d0(e,t){if(!Gt(e,{strict:!1}))throw new pn({address:e});if(!Gt(t,{strict:!1}))throw new pn({address:t});return e.toLowerCase()===t.toLowerCase()}function PS(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}class OS extends ie{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function vN(e,t){const{address:n,factory:r,factoryData:i}=t;try{const[s,o,a,c,u,l,f]=await ba(e,l0,"readContract")({abi:TS,address:n,functionName:"eip712Domain",factory:r,factoryData:i});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:u,salt:l},extensions:f,fields:s}}catch(s){const o=s;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new OS({address:n}):o}}const TS=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function DS(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,i=n.address;if(!Gt(i))throw new pn({address:i});if(r<0)throw new wu({chainId:r})}h0(e)}function $S(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new ov;for(const n of t){const r=et(n),i=pr(Ai(n,0,1));if(r!==32)throw new _S({hash:n,size:r});if(i!==sv)throw new SS({hash:n,version:i})}}h0(e)}function h0(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=e;if(t<=0)throw new wu({chainId:t});if(i&&!Gt(i))throw new pn({address:i});if(r&&r>xu)throw new Pi({maxFeePerGas:r});if(n&&r&&n>r)throw new Ko({maxFeePerGas:r,maxPriorityFeePerGas:n})}function kS(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=e;if(t<=0)throw new wu({chainId:t});if(s&&!Gt(s))throw new pn({address:s});if(n||i)throw new ie("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>xu)throw new Pi({maxFeePerGas:r})}function LS(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=e;if(s&&!Gt(s))throw new pn({address:s});if(typeof t<"u"&&t<=0)throw new wu({chainId:t});if(n||i)throw new ie("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>xu)throw new Pi({maxFeePerGas:r})}function _u(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:i}=e[n];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new c_({storageKey:i[s]});if(!Gt(r,{strict:!1}))throw new pn({address:r});t.push([r,i])}return t}function EN(e,t){const n=CS(e);return n==="eip1559"?US(e,t):n==="eip2930"?zS(e,t):n==="eip4844"?FS(e,t):n==="eip7702"?NS(e,t):jS(e,t)}function NS(e,t){const{authorizationList:n,chainId:r,gas:i,nonce:s,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:f}=e;DS(e);const d=_u(l),p=WS(n);return Hn(["0x04",Oi([le(r),s?le(s):"0x",u?le(u):"0x",c?le(c):"0x",i?le(i):"0x",o??"0x",a?le(a):"0x",f??"0x",d,p,...va(e,t)])])}function FS(e,t){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:f}=e;$S(e);let d=e.blobVersionedHashes,p=e.sidecars;if(e.blobs&&(typeof d>"u"||typeof p>"u")){const _=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(C=>$t(C)),M=e.kzg,I=tv({blobs:_,kzg:M});if(typeof d>"u"&&(d=ES({commitments:I})),typeof p>"u"){const C=nv({blobs:_,commitments:I,kzg:M});p=IS({blobs:_,commitments:I,proofs:C})}}const b=_u(l),y=[le(n),i?le(i):"0x",u?le(u):"0x",c?le(c):"0x",r?le(r):"0x",s??"0x",o?le(o):"0x",f??"0x",b,a?le(a):"0x",d??[],...va(e,t)],w=[],A=[],B=[];if(p)for(let _=0;_<p.length;_++){const{blob:M,commitment:I,proof:C}=p[_];w.push(M),A.push(I),B.push(C)}return Hn(["0x03",Oi(p?[y,w,A,B]:y)])}function US(e,t){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:l}=e;h0(e);const f=_u(u),d=[le(n),i?le(i):"0x",c?le(c):"0x",a?le(a):"0x",r?le(r):"0x",s??"0x",o?le(o):"0x",l??"0x",f,...va(e,t)];return Hn(["0x02",Oi(d)])}function zS(e,t){const{chainId:n,gas:r,data:i,nonce:s,to:o,value:a,accessList:c,gasPrice:u}=e;kS(e);const l=_u(c),f=[le(n),s?le(s):"0x",u?le(u):"0x",r?le(r):"0x",o??"0x",a?le(a):"0x",i??"0x",l,...va(e,t)];return Hn(["0x01",Oi(f)])}function jS(e,t){const{chainId:n=0,gas:r,data:i,nonce:s,to:o,value:a,gasPrice:c}=e;LS(e);let u=[s?le(s):"0x",c?le(c):"0x",r?le(r):"0x",o??"0x",a?le(a):"0x",i??"0x"];if(t){const l=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const p=27n+(t.v===27n?0n:1n);if(t.v!==p)throw new o_({v:t.v});return p})(),f=Mn(t.r),d=Mn(t.s);u=[...u,le(l),f==="0x00"?"0x":f,d==="0x00"?"0x":d]}else n>0&&(u=[...u,le(n),"0x","0x"]);return Oi(u)}function va(e,t){const n=t??e,{v:r,yParity:i}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof i>"u")return[];const s=Mn(n.r),o=Mn(n.s);return[typeof i=="number"?i?le(1):"0x":r===0n?"0x":r===1n?le(1):r===27n?"0x":le(1),s==="0x00"?"0x":s,o==="0x00"?"0x":o]}function WS(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:i,...s}=n,o=n.address;t.push([r?Si(r):"0x",o,i?Si(i):"0x",...va({},s)])}return t}async function qS({address:e,authorization:t,signature:n}){return d0(ui(e),await gS({authorization:t,signature:n}))}const Ua=new Xh(8192);function HS(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Ua.get(n))return Ua.get(n);const r=e().finally(()=>Ua.delete(n));return Ua.set(n,r),r}async function Vc(e){return new Promise(t=>setTimeout(t,e))}function p0(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const l=typeof t=="function"?t({count:a,error:u}):t;l&&await Vc(l),o({count:a+1})};try{const u=await e();i(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});s(u)}};o()})}function KS(e,t={}){return async(n,r={})=>{const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if(s?.exclude?.includes(u))throw new li(new Error("method not supported"),{method:u});if(s?.include&&!s.include.includes(u))throw new li(new Error("method not supported"),{method:u});const l=i?Io(`${c}.${En(n)}`):void 0;return HS(()=>p0(async()=>{try{return await e(n)}catch(f){const d=f;switch(d.code){case Bo.code:throw new Bo(d);case Mo.code:throw new Mo(d);case Ro.code:throw new Ro(d,{method:n.method});case Po.code:throw new Po(d);case Ci.code:throw new Ci(d);case Oo.code:throw new Oo(d);case To.code:throw new To(d);case Wr.code:throw new Wr(d);case Cs.code:throw new Cs(d);case li.code:throw new li(d,{method:n.method});case Bs.code:throw new Bs(d);case Do.code:throw new Do(d);case Kt.code:throw new Kt(d);case $o.code:throw new $o(d);case ko.code:throw new ko(d);case Lo.code:throw new Lo(d);case No.code:throw new No(d);case Bi.code:throw new Bi(d);case Fo.code:throw new Fo(d);case Uo.code:throw new Uo(d);case zo.code:throw new zo(d);case jo.code:throw new jo(d);case Wo.code:throw new Wo(d);case qo.code:throw new qo(d);case Ho.code:throw new Ho(d);case 5e3:throw new Kt(d);default:throw f instanceof ie?f:new m_(d)}}},{delay:({count:f,error:d})=>{if(d&&d instanceof Ei){const p=d?.headers?.get("Retry-After");if(p?.match(/\d/))return Number.parseInt(p,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>VS(f)}),{enabled:i,id:l})}}function VS(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Bs.code||e.code===Ci.code:e instanceof Ei&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}class GS extends ie{constructor({callbackSelector:t,cause:n,data:r,extraData:i,sender:s,urls:o}){super(n.shortMessage||"An error occurred while fetching for an offchain result.",{cause:n,metaMessages:[...n.metaMessages||[],n.metaMessages?.length?"":[],"Offchain Gateway Call:",o&&["  Gateway URL(s):",...o.map(a=>`    ${ma(a)}`)],`  Sender: ${s}`,`  Data: ${r}`,`  Callback selector: ${t}`,`  Extra data: ${i}`].flat(),name:"OffchainLookupError"})}}class ZS extends ie{constructor({result:t,url:n}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${ma(n)}`,`Response: ${En(t)}`],name:"OffchainLookupResponseMalformedError"})}}class YS extends ie{constructor({sender:t,to:n}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}const JS="0x556f1830",cv={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function QS(e,{blockNumber:t,blockTag:n,data:r,to:i}){const{args:s}=Iw({data:r,abi:[cv]}),[o,a,c,u,l]=s,{ccipRead:f}=e,d=f&&typeof f?.request=="function"?f.request:uv;try{if(!d0(i,o))throw new YS({sender:o,to:i});const p=a.includes(Ow)?await Tw({data:c,ccipRequest:d}):await d({data:c,sender:o,urls:a}),{data:b}=await u0(e,{blockNumber:t,blockTag:n,data:gr([u,Ni([{type:"bytes"},{type:"bytes"}],[p,l])]),to:i});return b}catch(p){throw new GS({callbackSelector:u,cause:p,data:r,extraData:l,sender:o,urls:a})}}async function uv({data:e,sender:t,urls:n}){let r=new Error("An unknown error occurred.");for(let i=0;i<n.length;i++){const s=n[i],o=s.includes("{data}")?"GET":"POST",a=o==="POST"?{data:e,sender:t}:void 0,c=o==="POST"?{"Content-Type":"application/json"}:{};try{const u=await fetch(s.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:o});let l;if(u.headers.get("Content-Type")?.startsWith("application/json")?l=(await u.json()).data:l=await u.text(),!u.ok){r=new Ei({body:a,details:l?.error?En(l.error):u.statusText,headers:u.headers,status:u.status,url:s});continue}if(!jn(l)){r=new ZS({result:l,url:s});continue}return l}catch(u){r=new Ei({body:a,details:u.message,url:s})}}throw r}const XS=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:uv,offchainLookup:QS,offchainLookupAbiItem:cv,offchainLookupSignature:JS},Symbol.toStringTag,{value:"Module"}));function xN(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}const lv={"0x0":"reverted","0x1":"success"};function eA(e){const t={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>PS(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?pr(e.transactionIndex):null,status:e.status?lv[e.status]:null,type:e.type?Xw[e.type]||e.type:null};return e.blobGasPrice&&(t.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(t.blobGasUsed=BigInt(e.blobGasUsed)),t}const _N=Eu("transactionReceipt",eA);function fv(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(t)},n)),i(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(t),s(a)}finally{clearTimeout(o)}})()})}function tA(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const pg=tA();function nA(e,t={}){return{async request(n){const{body:r,fetchFn:i=t.fetchFn??fetch,onRequest:s=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:l,signal:f}=c;try{const d=await fv(async({signal:b})=>{const y={...c,body:Array.isArray(r)?En(r.map(_=>({jsonrpc:"2.0",id:_.id??pg.take(),..._}))):En({jsonrpc:"2.0",id:r.id??pg.take(),...r}),headers:{"Content-Type":"application/json",...u},method:l||"POST",signal:f||(a>0?b:null)},w=new Request(e,y),A=await s?.(w,y)??{...y,url:e};return await i(A.url??e,A)},{errorInstance:new cg({body:r,url:e}),timeout:a,signal:!0});o&&await o(d);let p;if(d.headers.get("Content-Type")?.startsWith("application/json"))p=await d.json();else{p=await d.text();try{p=JSON.parse(p||"{}")}catch(b){if(d.ok)throw b;p={error:p}}}if(!d.ok)throw new Ei({body:r,details:En(p.error)||d.statusText,headers:d.headers,status:d.status,url:e});return p}catch(d){throw d instanceof Ei||d instanceof cg?d:new Ei({body:r,cause:d,url:e})}}}}const rA=`Ethereum Signed Message:
`;function iA(e){const t=typeof e=="string"?Io(e):typeof e.raw=="string"?e.raw:$t(e.raw),n=Io(`${rA}${et(t)}`);return gr([n,t])}function SN(e,t){return vn(iA(e),t)}class sA extends ie{constructor({domain:t}){super(`Invalid domain "${En(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class oA extends ie{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class aA extends ie{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function cA(e){const{domain:t,message:n,primaryType:r,types:i}=e,s=(o,a)=>{for(const c of o){const{name:u,type:l}=c,f=a[u],d=l.match(aw);if(d&&(typeof f=="number"||typeof f=="bigint")){const[y,w,A]=d;le(f,{signed:w==="int",size:Number.parseInt(A,10)/8})}if(l==="address"&&typeof f=="string"&&!Gt(f))throw new pn({address:f});const p=l.match(Ux);if(p){const[y,w]=p;if(w&&et(f)!==Number.parseInt(w,10))throw new bx({expectedSize:Number.parseInt(w,10),givenSize:et(f)})}const b=i[l];b&&(lA(l),s(b,f))}};if(i.EIP712Domain&&t){if(typeof t!="object")throw new sA({domain:t});s(i.EIP712Domain,t)}if(r!=="EIP712Domain")if(i[r])s(i[r],n);else throw new oA({primaryType:r,types:i})}function uA({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function lA(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new aA({type:e})}function AN(e){const{domain:t={},message:n,primaryType:r}=e,i={EIP712Domain:uA({domain:t}),...e.types};cA({domain:t,message:n,primaryType:r,types:i});const s=["0x1901"];return t&&s.push(fA({domain:t,types:i})),r!=="EIP712Domain"&&s.push(dv({data:n,primaryType:r,types:i})),vn(gr(s))}function fA({domain:e,types:t}){return dv({data:e,primaryType:"EIP712Domain",types:t})}function dv({data:e,primaryType:t,types:n}){const r=hv({data:e,primaryType:t,types:n});return vn(r)}function hv({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],i=[dA({primaryType:t,types:n})];for(const s of n[t]){const[o,a]=gv({types:n,name:s.name,type:s.type,value:e[s.name]});r.push(o),i.push(a)}return Ni(r,i)}function dA({primaryType:e,types:t}){const n=Si(hA({primaryType:e,types:t}));return vn(n)}function hA({primaryType:e,types:t}){let n="";const r=pv({primaryType:e,types:t});r.delete(e);const i=[e,...Array.from(r).sort()];for(const s of i)n+=`${s}(${t[s].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function pv({primaryType:e,types:t},n=new Set){const i=e.match(/^\w*/u)?.[0];if(n.has(i)||t[i]===void 0)return n;n.add(i);for(const s of t[i])pv({primaryType:s.type,types:t},n);return n}function gv({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},vn(hv({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},vn(r)];if(n==="string")return[{type:"bytes32"},vn(Si(r))];if(n.lastIndexOf("]")===n.length-1){const i=n.slice(0,n.lastIndexOf("[")),s=r.map(o=>gv({name:t,type:i,types:e,value:o}));return[{type:"bytes32"},vn(Ni(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:n},r]}const pA="1.1.0";let on=class Ld extends Error{constructor(t,n={}){const r=n.cause instanceof Ld?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof Ld&&n.cause.docsPath||n.docsPath,s=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${pA}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}};function xr(e,t){return e.exec(t)?.groups}const yv=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,mv=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,bv=/^\(.+?\).*?$/,gg=/^tuple(?<array>(\[(\d*)\])*)$/;function Nd(e){let t=e.type;if(gg.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let i=0;i<n;i++){const s=e.components[i];t+=Nd(s),i<n-1&&(t+=", ")}const r=xr(gg,e.type);return t+=`)${r?.array??""}`,Nd({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function is(e){let t="";const n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=Nd(i),r!==n-1&&(t+=", ")}return t}function gA(e){return e.type==="function"?`function ${e.name}(${is(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${is(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${is(e.inputs)})`:e.type==="error"?`error ${e.name}(${is(e.inputs)})`:e.type==="constructor"?`constructor(${is(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const wv=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function yA(e){return wv.test(e)}function mA(e){return xr(wv,e)}const vv=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function bA(e){return vv.test(e)}function wA(e){return xr(vv,e)}const Ev=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function vA(e){return Ev.test(e)}function EA(e){return xr(Ev,e)}const xv=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function g0(e){return xv.test(e)}function xA(e){return xr(xv,e)}const _v=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function _A(e){return _v.test(e)}function SA(e){return xr(_v,e)}const Sv=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function AA(e){return Sv.test(e)}function IA(e){return xr(Sv,e)}const CA=/^receive\(\) external payable$/;function BA(e){return CA.test(e)}const yg=new Set(["memory","indexed","storage","calldata"]),MA=new Set(["indexed"]),Fd=new Set(["calldata","memory","storage"]);class RA extends on{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class PA extends on{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class OA extends on{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class TA extends on{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class DA extends on{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class $A extends on{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class kA extends on{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class LA extends on{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class NA extends on{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class ks extends on{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class FA extends on{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class UA extends on{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class zA extends on{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class jA extends on{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function WA(e,t,n){let r="";if(n)for(const i of Object.entries(n)){if(!i)continue;let s="";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${i[0]}{${s}})`}return t?`${t}:${e}${r}`:e}const Ol=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function mg(e,t={}){if(vA(e))return qA(e,t);if(bA(e))return HA(e,t);if(yA(e))return KA(e,t);if(_A(e))return VA(e,t);if(AA(e))return GA(e);if(BA(e))return{type:"receive",stateMutability:"payable"};throw new FA({signature:e})}function qA(e,t={}){const n=EA(e);if(!n)throw new ks({signature:e,type:"function"});const r=hn(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(mr(r[a],{modifiers:Fd,structs:t,type:"function"}));const o=[];if(n.returns){const a=hn(n.returns),c=a.length;for(let u=0;u<c;u++)o.push(mr(a[u],{modifiers:Fd,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:i,outputs:o}}function HA(e,t={}){const n=wA(e);if(!n)throw new ks({signature:e,type:"event"});const r=hn(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(mr(r[o],{modifiers:MA,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:i}}function KA(e,t={}){const n=mA(e);if(!n)throw new ks({signature:e,type:"error"});const r=hn(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(mr(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:i}}function VA(e,t={}){const n=SA(e);if(!n)throw new ks({signature:e,type:"constructor"});const r=hn(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(mr(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:i}}function GA(e){const t=IA(e);if(!t)throw new ks({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const ZA=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,YA=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,JA=/^u?int$/;function mr(e,t){const n=WA(e,t?.type,t?.structs);if(Ol.has(n))return Ol.get(n);const r=bv.test(e),i=xr(r?YA:ZA,e);if(!i)throw new DA({param:e});if(i.name&&XA(i.name))throw new $A({param:e,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{};let c,u={};if(r){c="tuple";const f=hn(i.type),d=[],p=f.length;for(let b=0;b<p;b++)d.push(mr(f[b],{structs:a}));u={components:d}}else if(i.type in a)c="tuple",u={components:a[i.type]};else if(JA.test(i.type))c=`${i.type}256`;else if(i.type==="address payable")c="address";else if(c=i.type,t?.type!=="struct"&&!Av(c))throw new OA({type:c});if(i.modifier){if(!t?.modifiers?.has?.(i.modifier))throw new kA({param:e,type:t?.type,modifier:i.modifier});if(Fd.has(i.modifier)&&!e4(c,!!i.array))throw new LA({param:e,type:t?.type,modifier:i.modifier})}const l={type:`${c}${i.array??""}`,...s,...o,...u};return Ol.set(n,l),l}function hn(e,t=[],n="",r=0){const i=e.trim().length;for(let s=0;s<i;s++){const o=e[s],a=e.slice(s+1);switch(o){case",":return r===0?hn(a,[...t,n.trim()]):hn(a,t,`${n}${o}`,r);case"(":return hn(a,t,`${n}${o}`,r+1);case")":return hn(a,t,`${n}${o}`,r-1);default:return hn(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new jA({current:n,depth:r});return t.push(n.trim()),t}function Av(e){return e==="address"||e==="bool"||e==="function"||e==="string"||yv.test(e)||mv.test(e)}const QA=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function XA(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||yv.test(e)||mv.test(e)||QA.test(e)}function e4(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function Iv(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!g0(a))continue;const c=xA(a);if(!c)throw new ks({signature:a,type:"struct"});const u=c.properties.split(";"),l=[],f=u.length;for(let d=0;d<f;d++){const b=u[d].trim();if(!b)continue;const y=mr(b,{type:"struct"});l.push(y)}if(!l.length)throw new UA({signature:a});t[c.name]=l}const r={},i=Object.entries(t),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];r[a]=Cv(c,t)}return r}const t4=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Cv(e,t,n=new Set){const r=[],i=e.length;for(let s=0;s<i;s++){const o=e[s];if(bv.test(o.type))r.push(o);else{const c=xr(t4,o.type);if(!c?.type)throw new NA({abiParameter:o});const{array:u,type:l}=c;if(l in t){if(n.has(l))throw new zA({type:l});r.push({...o,type:`tuple${u??""}`,components:Cv(t[l]??[],t,new Set([...n,l]))})}else if(Av(l))r.push(o);else throw new PA({type:l})}}return r}function bg(e){let t;if(typeof e=="string")t=mg(e);else{const n=Iv(e),r=e.length;for(let i=0;i<r;i++){const s=e[i];if(!g0(s)){t=mg(s,n);break}}}if(!t)throw new RA({signature:e});return t}function wg(e){const t=[];if(typeof e=="string"){const n=hn(e),r=n.length;for(let i=0;i<r;i++)t.push(mr(n[i],{modifiers:yg}))}else{const n=Iv(e),r=e.length;for(let i=0;i<r;i++){const s=e[i];if(g0(s))continue;const o=hn(s),a=o.length;for(let c=0;c<a;c++)t.push(mr(o[c],{modifiers:yg,structs:n}))}}if(t.length===0)throw new TA({params:e});return t}class n4 extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const r4={checksum:new n4(8192)},Tl=r4.checksum;function Bv(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=Km(M_(e));return n==="Bytes"?r:Pn(r)}const i4=/^0x[a-fA-F0-9]{40}$/;function y0(e,t={}){const{strict:n=!0}=t;if(!i4.test(e))throw new vg({address:e,cause:new s4});if(n){if(e.toLowerCase()===e)return;if(Mv(e)!==e)throw new vg({address:e,cause:new o4})}}function Mv(e){if(Tl.has(e))return Tl.get(e);y0(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=Bv(P_(t),{as:"Bytes"}),r=t.split("");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join("")}`;return Tl.set(e,i),i}class vg extends Pe{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class s4 extends Pe{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class o4 extends Pe{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const a4=/^(.*)\[([0-9]*)\]$/,c4=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Rv=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Eg=2n**256n-1n;function ws(e,t,n){const{checksumAddress:r,staticPosition:i}=n,s=w0(t.type);if(s){const[o,a]=s;return l4(e,{...t,type:a},{checksumAddress:r,length:o,staticPosition:i})}if(t.type==="tuple")return p4(e,t,{checksumAddress:r,staticPosition:i});if(t.type==="address")return u4(e,{checksum:r});if(t.type==="bool")return f4(e);if(t.type.startsWith("bytes"))return d4(e,t,{staticPosition:i});if(t.type.startsWith("uint")||t.type.startsWith("int"))return h4(e,t);if(t.type==="string")return g4(e,{staticPosition:i});throw new v0(t.type)}const xg=32,Ud=32;function u4(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(s=>n?Mv(s):s)(Pn(T_(r,-20))),32]}function l4(e,t,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const c=fr(e.readBytes(Ud)),u=s+c,l=u+xg;e.setPosition(u);const f=fr(e.readBytes(xg)),d=Vo(t);let p=0;const b=[];for(let y=0;y<f;++y){e.setPosition(l+(d?y*32:p));const[w,A]=ws(e,t,{checksumAddress:r,staticPosition:l});p+=A,b.push(w)}return e.setPosition(s+32),[b,32]}if(Vo(t)){const c=fr(e.readBytes(Ud)),u=s+c,l=[];for(let f=0;f<i;++f){e.setPosition(u+f*32);const[d]=ws(e,t,{checksumAddress:r,staticPosition:u});l.push(d)}return e.setPosition(s+32),[l,32]}let o=0;const a=[];for(let c=0;c<i;++c){const[u,l]=ws(e,t,{checksumAddress:r,staticPosition:s+o});o+=l,a.push(u)}return[a,o]}function f4(e){return[$_(e.readBytes(32),{size:32}),32]}function d4(e,t,{staticPosition:n}){const[r,i]=t.type.split("bytes");if(!i){const o=fr(e.readBytes(32));e.setPosition(n+o);const a=fr(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[Pn(c),32]}return[Pn(e.readBytes(Number.parseInt(i,10),32)),32]}function h4(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),i=e.readBytes(32);return[r>48?D_(i,{signed:n}):fr(i,{signed:n}),32]}function p4(e,t,n){const{checksumAddress:r,staticPosition:i}=n,s=t.components.length===0||t.components.some(({name:c})=>!c),o=s?[]:{};let a=0;if(Vo(t)){const c=fr(e.readBytes(Ud)),u=i+c;for(let l=0;l<t.components.length;++l){const f=t.components[l];e.setPosition(u+a);const[d,p]=ws(e,f,{checksumAddress:r,staticPosition:u});a+=p,o[s?l:f?.name]=d}return e.setPosition(i+32),[o,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[l,f]=ws(e,u,{checksumAddress:r,staticPosition:i});o[s?c:u?.name]=l,a+=f}return[o,a]}function g4(e,{staticPosition:t}){const n=fr(e.readBytes(32)),r=t+n;e.setPosition(r);const i=fr(e.readBytes(32));if(i===0)return e.setPosition(t+32),["",32];const s=e.readBytes(i,32),o=k_(Nw(s));return e.setPosition(t+32),[o,32]}function y4({checksumAddress:e,parameters:t,values:n}){const r=[];for(let i=0;i<t.length;i++)r.push(m0({checksumAddress:e,parameter:t[i],value:n[i]}));return r}function m0({checksumAddress:e=!1,parameter:t,value:n}){const r=t,i=w0(r.type);if(i){const[s,o]=i;return b4(n,{checksumAddress:e,length:s,parameter:{...r,type:o}})}if(r.type==="tuple")return _4(n,{checksumAddress:e,parameter:r});if(r.type==="address")return m4(n,{checksum:e});if(r.type==="bool")return v4(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const s=r.type.startsWith("int"),[,,o="256"]=Rv.exec(r.type)??[];return E4(n,{signed:s,size:Number(o)})}if(r.type.startsWith("bytes"))return w4(n,{type:r.type});if(r.type==="string")return x4(n);throw new v0(r.type)}function b0(e){let t=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?t+=32:t+=gn(a)}const n=[],r=[];let i=0;for(let s=0;s<e.length;s++){const{dynamic:o,encoded:a}=e[s];o?(n.push(Yt(t+i,{size:32})),r.push(a),i+=gn(a)):n.push(a)}return yr(...n,...r)}function m4(e,t){const{checksum:n=!1}=t;return y0(e,{strict:n}),{dynamic:!1,encoded:Mi(e.toLowerCase())}}function b4(e,t){const{checksumAddress:n,length:r,parameter:i}=t,s=r===null;if(!Array.isArray(e))throw new T4(e);if(!s&&e.length!==r)throw new O4({expectedLength:r,givenLength:e.length,type:`${i.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<e.length;c++){const u=m0({checksumAddress:n,parameter:i,value:e[c]});u.dynamic&&(o=!0),a.push(u)}if(s||o){const c=b0(a);if(s){const u=Yt(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?yr(u,c):u}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:yr(...a.map(({encoded:c})=>c))}}function w4(e,{type:t}){const[,n]=t.split("bytes"),r=gn(e);if(!n){let i=e;return r%32!==0&&(i=Ri(i,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:yr(Mi(Yt(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new Ov({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ri(e)}}function v4(e){if(typeof e!="boolean")throw new Pe(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Mi(Fw(e))}}function E4(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,i=t?-r-1n:0n;if(e>r||e<i)throw new jw({max:r.toString(),min:i.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:Yt(e,{size:32,signed:t})}}function x4(e){const t=a0(e),n=Math.ceil(gn(t)/32),r=[];for(let i=0;i<n;i++)r.push(Ri(dr(t,i*32,(i+1)*32)));return{dynamic:!0,encoded:yr(Ri(Yt(gn(t),{size:32})),...r)}}function _4(e,t){const{checksumAddress:n,parameter:r}=t;let i=!1;const s=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(e)?o:a.name,u=m0({checksumAddress:n,parameter:a,value:e[c]});s.push(u),u.dynamic&&(i=!0)}return{dynamic:i,encoded:i?b0(s):yr(...s.map(({encoded:o})=>o))}}function w0(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Vo(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Vo);const n=w0(e.type);return!!(n&&Vo({...e,type:n[1]}))}const S4={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new C4({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new I4({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new _g({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new _g({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function A4(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(S4);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class _g extends Pe{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class I4 extends Pe{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class C4 extends Pe{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function B4(e,t,n={}){const{as:r="Array",checksumAddress:i=!1}=n,s=typeof t=="string"?Lw(t):t,o=A4(s);if(ps(s)===0&&e.length>0)throw new P4;if(ps(s)&&ps(s)<32)throw new R4({data:typeof t=="string"?t:Pn(t),parameters:e,size:ps(s)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const l=e[u];o.setPosition(a);const[f,d]=ws(o,l,{checksumAddress:i,staticPosition:0});a+=d,r==="Array"?c.push(f):c[l.name??u]=f}return c}function M4(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new Tv({expectedLength:e.length,givenLength:t.length});const i=y4({checksumAddress:r,parameters:e,values:t}),s=b0(i);return s.length===0?"0x":s}function zd(e,t){if(e.length!==t.length)throw new Tv({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r];n.push(zd.encode(i,s))}return yr(...n)}(function(e){function t(n,r,i=!1){if(n==="address"){const c=r;return y0(c),Mi(c.toLowerCase(),i?32:0)}if(n==="string")return a0(r);if(n==="bytes")return r;if(n==="bool")return Mi(Fw(r),i?32:1);const s=n.match(Rv);if(s){const[c,u,l="256"]=s,f=Number.parseInt(l,10)/8;return Yt(r,{size:i?32:f,signed:u==="int"})}const o=n.match(c4);if(o){const[c,u]=o;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new Ov({expectedSize:Number.parseInt(u,10),value:r});return Ri(r,i?32:0)}const a=n.match(a4);if(a&&Array.isArray(r)){const[c,u]=a,l=[];for(let f=0;f<r.length;f++)l.push(t(u,r[f],!0));return l.length===0?"0x":yr(...l)}throw new v0(n)}e.encode=t})(zd||(zd={}));function Pv(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?wg(e):e}class R4 extends Pe{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${is(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class P4 extends Pe{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class O4 extends Pe{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Ov extends Pe{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${gn(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Tv extends Pe{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class T4 extends Pe{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class v0 extends Pe{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function Dv(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new Dl({signature:e});if(typeof e.s>"u")throw new Dl({signature:e});if(n&&typeof e.yParity>"u")throw new Dl({signature:e});if(e.r<0n||e.r>Eg)throw new U4({value:e.r});if(e.s<0n||e.s>Eg)throw new z4({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new x0({value:e.yParity})}function D4(e){return $v(Pn(e))}function $v(e){if(e.length!==130&&e.length!==132)throw new F4({signature:e});const t=BigInt(dr(e,0,32)),n=BigInt(dr(e,32,64)),r=(()=>{const i=+`0x${e.slice(130)}`;if(!Number.isNaN(i))try{return E0(i)}catch{throw new x0({value:i})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function $4(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return k4(e)}function k4(e){const t=typeof e=="string"?$v(e):e instanceof Uint8Array?D4(e):typeof e.r=="string"?N4(e):e.v?L4(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return Dv(t),t}function L4(e){return{r:e.r,s:e.s,yParity:E0(e.v)}}function N4(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=E0(n)),typeof r!="number")throw new x0({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function E0(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new j4({value:e})}class F4 extends Pe{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${gn(W_(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class Dl extends Pe{constructor({signature:t}){super(`Signature \`${I_(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class U4 extends Pe{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class z4 extends Pe{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class x0 extends Pe{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class j4 extends Pe{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function W4(e,t={}){return typeof e.chainId=="string"?q4(e):{...e,...t.signature}}function q4(e){const{address:t,chainId:n,nonce:r}=e,i=$4(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...i}}const H4="0x8010801080108010801080108010801080108010801080108010801080108010",K4=Pv("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function kv(e){if(typeof e=="string"){if(dr(e,-32)!==H4)throw new Z4(e)}else Dv(e.authorization)}function V4(e){kv(e);const t=zw(dr(e,-64,-32)),n=dr(e,-t-64,-64),r=dr(e,0,-t-64),[i,s,o]=B4(K4,n);return{authorization:W4({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...o&&o!=="0x"?{data:o,to:s}:{}}}function G4(e){try{return kv(e),!0}catch{return!1}}let Z4=class extends Pe{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function Y4(e){let t=!0,n="",r=0,i="",s=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(i))i="";else if(i+=a,a===")"){s=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}i+=a,n+=a}}if(!s)throw new Pe("Unable to normalize signature.");return i}function CN(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?bg(e):e;return{...r,...n?{hash:Lv(r)}:{}}}function BN(e){return dr(Lv(e),0,4)}function J4(e){const t=typeof e=="string"?e:gA(e);return Y4(t)}function Lv(e){return typeof e!="string"&&"hash"in e&&e.hash?e.hash:Bv(a0(J4(e)))}const MN="0x0000000000000000000000000000000000000000",Nv="0x6492649264926492649264926492649264926492649264926492649264926492";function Q4(e){if(dr(e,-32)!==Nv)throw new tI(e)}function X4(e){const{data:t,signature:n,to:r}=e;return yr(M4(Pv("address, bytes, bytes"),[r,t,n]),Nv)}function eI(e){try{return Q4(e),!0}catch{return!1}}class tI extends Pe{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function nI({r:e,s:t,to:n="hex",v:r,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new yu.Signature(Kr(e),Kr(t)).toCompactHex()}${s===0?"1b":"1c"}`;return n==="hex"?o:Wn(o)}async function RN(e,t){const{address:n,hash:r,erc6492VerifierAddress:i=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:s=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,o=(()=>{const a=t.signature;return jn(a)?a:typeof a=="object"&&"r"in a&&"s"in a?nI(a):$t(a)})();try{return G4(o)?await rI(e,{...t,multicallAddress:s,signature:o}):await iI(e,{...t,verifierAddress:i,signature:o})}catch(a){try{if(d0(ui(n),await Yw({hash:r,signature:o})))return!0}catch{}if(a instanceof Ti)return!1;throw a}}async function rI(e,t){const{address:n,blockNumber:r,blockTag:i,hash:s,multicallAddress:o}=t,{authorization:a,data:c,signature:u,to:l}=V4(t.signature);if(await av(e,{address:n,blockNumber:r,blockTag:i})===Hn(["0xef0100",a.address]))return await sI(e,{address:n,blockNumber:r,blockTag:i,hash:s,signature:u});const d={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:le(a.r,{size:32}),s:le(a.s,{size:32}),yParity:a.yParity};if(!await qS({address:n,authorization:d}))throw new Ti;const b=await ba(e,l0,"readContract")({...o?{address:o}:{code:qw},authorizationList:[d],abi:bd,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:l??n,callData:c}]:[],{allowFailure:!0,target:n,callData:bu({abi:Vb,functionName:"isValidSignature",args:[s,u]})}]]});if(b[b.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Ti}async function iI(e,t){const{address:n,factory:r,factoryData:i,hash:s,signature:o,verifierAddress:a,...c}=t,u=await(async()=>!r&&!i||eI(o)?o:X4({data:i,signature:o,to:r}))(),l=a?{to:a,data:bu({abi:Jp,functionName:"isValidSig",args:[n,s,u]}),...c}:{data:c0({abi:Jp,args:[n,s,u],bytecode:J_}),...c},{data:f}=await ba(e,u0,"call")(l).catch(d=>{throw d instanceof Mw?new Ti:d});if(Ix(f??"0x0"))return!0;throw new Ti}async function sI(e,t){const{address:n,blockNumber:r,blockTag:i,hash:s,signature:o}=t;if((await ba(e,l0,"readContract")({address:n,abi:Vb,args:[s,o],blockNumber:r,blockTag:i,functionName:"isValidSignature"}).catch(c=>{throw c instanceof Rw?new Ti:c})).startsWith("0x1626ba7e"))return!0;throw new Ti}class Ti extends Error{}const $l=new Map,Sg=new Map;let oI=0;function aI(e,t,n){const r=++oI,i=()=>$l.get(e)||[],s=()=>{const l=i();$l.set(e,l.filter(f=>f.id!==r))},o=()=>{const l=i();if(!l.some(d=>d.id===r))return;const f=Sg.get(e);if(l.length===1&&f){const d=f();d instanceof Promise&&d.catch(()=>{})}s()},a=i();if($l.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const l in t)c[l]=((...f)=>{const d=i();if(d.length!==0)for(const p of d)p.fns[l]?.(...f)});const u=n(c);return typeof u=="function"&&Sg.set(e,u),o}function cI(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;a=await e({unpoll:s});const c=await n?.(a)??r;await Vc(c);const u=async()=>{i&&(await e({unpoll:s}),await Vc(r),u())};u()})(),s}const uI="0x5792579257925792579257925792579257925792579257925792579257925792",lI=le(0,{size:32});async function fI(e,t){async function n(l){if(l.endsWith(uI.slice(2))){const d=Mn(Ed(l,-64,-32)),p=Ed(l,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(p.map(w=>lI.slice(2)!==w?e.request({method:"eth_getTransactionReceipt",params:[`0x${w}`]},{dedupe:!0}):void 0)),y=b.some(w=>w===null)?100:b.every(w=>w?.status==="0x1")?200:b.every(w=>w?.status==="0x0")?500:600;return{atomic:!1,chainId:pr(d),receipts:b.filter(Boolean),status:y,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[l]})}const{atomic:r=!1,chainId:i,receipts:s,version:o="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const l=a.status;return l>=100&&l<200?["pending",l]:l>=200&&l<300?["success",l]:l>=300&&l<700?["failure",l]:l==="CONFIRMED"?["success",200]:l==="PENDING"?["pending",100]:[void 0,l]})();return{...a,atomic:r,chainId:i?pr(i):void 0,receipts:s?.map(l=>({...l,blockNumber:Kr(l.blockNumber),gasUsed:Kr(l.gasUsed),status:lv[l.status]}))??[],statusCode:u,status:c,version:o}}class dI extends ie{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}async function PN(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:i=({statusCode:y})=>y===200||y>=300,retryCount:s=4,retryDelay:o=({count:y})=>~~(1<<y)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=En(["waitForCallsStatus",e.uid,n]),{promise:l,resolve:f,reject:d}=Vw();let p;const b=aI(u,{resolve:f,reject:d},y=>{const w=cI(async()=>{const A=B=>{clearTimeout(p),w(),B(),b()};try{const B=await p0(async()=>{const _=await fI(e,{id:n});if(c&&_.status==="failure")throw new dI(_);return _},{retryCount:s,delay:o});if(!i(B))return;A(()=>y.resolve(B))}catch(B){A(()=>y.reject(B))}},{interval:r,emitOnBegin:!0});return w});return p=a?setTimeout(()=>{b(),clearTimeout(p),d(new hI({id:n}))},a):void 0,await l}class hI extends ie{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}function Fv(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const i=e[n];return typeof i=="function"?i:s=>t(e,s)}const pc="2.21.1",pI=()=>`@wagmi/core@${pc}`;var Uv=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Gc,zv;let _r=class jd extends Error{get docsBaseUrl(){return"https://wagmi.sh/core"}get version(){return pI()}constructor(t,n={}){super(),Gc.add(this),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiCoreError"});const r=n.cause instanceof jd?n.cause.details:n.cause?.message?n.cause.message:n.details,i=n.cause instanceof jd&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return Uv(this,Gc,"m",zv).call(this,this,t)}};Gc=new WeakSet,zv=function e(t,n){return n?.(t)?t:t.cause?Uv(this,Gc,"m",e).call(this,t.cause,n):t};class Zc extends _r{constructor(){super("Chain not configured."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotConfiguredError"})}}class gI extends _r{constructor(){super("Connector already connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAlreadyConnectedError"})}}class yI extends _r{constructor(){super("Connector not connected."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorNotConnectedError"})}}class mI extends _r{constructor({address:t,connector:n}){super(`Account "${t}" not found for connector "${n.name}".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorAccountNotFoundError"})}}class bI extends _r{constructor({connectionChainId:t,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${t}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorChainMismatchError"})}}class wI extends _r{constructor({connector:t}){super(`Connector "${t.name}" unavailable while reconnecting.`,{details:["During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.","All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.","This error commonly occurs for connectors that asynchronously inject after reconnection has already started."].join(" ")}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ConnectorUnavailableReconnectingError"})}}async function vI(e,t){let n;if(typeof t.connector=="function"?n=e._internal.connectors.setup(t.connector):n=t.connector,n.uid===e.state.current)throw new gI;try{e.setState(o=>({...o,status:"connecting"})),n.emitter.emit("message",{type:"connecting"});const{connector:r,...i}=t,s=await n.connect(i);return n.emitter.off("connect",e._internal.events.connect),n.emitter.on("change",e._internal.events.change),n.emitter.on("disconnect",e._internal.events.disconnect),await e.storage?.setItem("recentConnectorId",n.id),e.setState(o=>({...o,connections:new Map(o.connections).set(n.uid,{accounts:i.withCapabilities?s.accounts.map(a=>typeof a=="object"?a.address:a):s.accounts,chainId:s.chainId,connector:n}),current:n.uid,status:"connected"})),{accounts:i.withCapabilities?s.accounts.map(o=>typeof o=="object"?o:{address:o,capabilities:{}}):s.accounts,chainId:s.chainId}}catch(r){throw e.setState(i=>({...i,status:i.current?"connected":"disconnected"})),r}}const Wd=256;let za=Wd,ja;function jv(e=11){if(!ja||za+e>Wd*2){ja="",za=0;for(let t=0;t<Wd;t++)ja+=(256+Math.random()*256|0).toString(16).substring(1)}return ja.substring(za,za+++e)}function Wv(e){const{batch:t,chain:n,ccipRead:r,key:i="base",name:s="Base Client",type:o="base"}=e,a=e.experimental_blockTag??(typeof n?.experimental_preconfirmationTime=="number"?"pending":void 0),c=n?.blockTime??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),l=e.pollingInterval??u,f=e.cacheTime??l,d=e.account?ya(e.account):void 0,{config:p,request:b,value:y}=e.transport({chain:n,pollingInterval:l}),w={...p,...y},A={account:d,batch:t,cacheTime:f,ccipRead:r,chain:n,key:i,name:s,pollingInterval:l,request:b,transport:w,type:o,uid:jv(),...a?{experimental_blockTag:a}:{}};function B(_){return M=>{const I=M(_);for(const k in A)delete I[k];const C={..._,...I};return Object.assign(C,{extend:B(C)})}}return Object.assign(A,{extend:B(A)})}function _0({key:e,methods:t,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const u=jv();return{config:{key:e,methods:t,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:KS(r,{methods:t,retryCount:i,retryDelay:s,uid:u}),value:c}}function EI(e,t={}){const{key:n="custom",methods:r,name:i="Custom Provider",retryDelay:s}=t;return({retryCount:o})=>_0({key:n,methods:r,name:i,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:s,type:"custom"})}function ON(e,t={}){const{key:n="fallback",name:r="Fallback",rank:i=!1,shouldThrow:s=xI,retryCount:o,retryDelay:a}=t;return(({chain:c,pollingInterval:u=4e3,timeout:l,...f})=>{let d=e,p=()=>{};const b=_0({key:n,name:r,async request({method:y,params:w}){let A;const B=async(_=0)=>{const M=d[_]({...f,chain:c,retryCount:0,timeout:l});try{const I=await M.request({method:y,params:w});return p({method:y,params:w,response:I,transport:M,status:"success"}),I}catch(I){if(p({error:I,method:y,params:w,transport:M,status:"error"}),s(I)||_===d.length-1||(A??=d.slice(_+1).some(C=>{const{include:k,exclude:z}=C({chain:c}).config.methods||{};return k?k.includes(y):z?!z.includes(y):!0}),!A))throw I;return B(_+1)}};return B()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:y=>p=y,transports:d.map(y=>y({chain:c,retryCount:0}))});if(i){const y=typeof i=="object"?i:{};_I({chain:c,interval:y.interval??u,onTransports:w=>d=w,ping:y.ping,sampleCount:y.sampleCount,timeout:y.timeout,transports:d,weights:y.weights})}return b})}function xI(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===Cs.code||e.code===Kt.code||fi.nodeMessage.test(e.message)||e.code===5e3))}function _I({chain:e,interval:t=4e3,onTransports:n,ping:r,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:u=.3}=a,l=[],f=async()=>{const d=await Promise.all(o.map(async y=>{const w=y({chain:e,retryCount:0,timeout:s}),A=Date.now();let B,_;try{await(r?r({transport:w}):w.request({method:"net_listening"})),_=1}catch{_=0}finally{B=Date.now()}return{latency:B-A,success:_}}));l.push(d),l.length>i&&l.shift();const p=Math.max(...l.map(y=>Math.max(...y.map(({latency:w})=>w)))),b=o.map((y,w)=>{const A=l.map(C=>C[w].latency),_=1-A.reduce((C,k)=>C+k,0)/A.length/p,M=l.map(C=>C[w].success),I=M.reduce((C,k)=>C+k,0)/M.length;return I===0?[0,w]:[u*_+c*I,w]}).sort((y,w)=>w[0]-y[0]);n(b.map(([,y])=>o[y])),await Vc(t),f()};f()}class SI extends ie{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function TN(e,t={}){const{batch:n,fetchOptions:r,key:i="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:u,raw:l}=t;return({chain:f,retryCount:d,timeout:p})=>{const{batchSize:b=1e3,wait:y=0}=typeof n=="object"?n:{},w=t.retryCount??d,A=p??t.timeout??1e4,B=e||f?.rpcUrls.default.http[0];if(!B)throw new SI;const _=nA(B,{fetchOptions:r,onRequest:a,onResponse:c,timeout:A});return _0({key:i,methods:s,name:o,async request({method:M,params:I}){const C={method:M,params:I},{schedule:k}=Gw({id:B,wait:y,shouldSplitBatch(W){return W.length>b},fn:W=>_.request({body:W}),sort:(W,H)=>W.id-H.id}),z=async W=>n?k(W):[await _.request({body:W})],[{error:N,result:U}]=await z(C);if(l)return{error:N,result:U};if(N)throw new o0({body:C,error:N,url:B});return U},retryCount:w,retryDelay:u,timeout:A,type:"http"},{fetchOptions:r,url:B})}}async function DN(e,t={}){let n;if(t.connector){const{connector:u}=t;if(e.state.status==="reconnecting"&&!u.getAccounts&&!u.getChainId)throw new wI({connector:u});const[l,f]=await Promise.all([u.getAccounts().catch(d=>{if(t.account===null)return[];throw d}),u.getChainId()]);n={accounts:l,chainId:f,connector:u}}else n=e.state.connections.get(e.state.current);if(!n)throw new yI;const r=t.chainId??n.chainId,i=await n.connector.getChainId();if(i!==r)throw new bI({connectionChainId:r,connectorChainId:i});const s=n.connector;if(s.getClient)return s.getClient({chainId:r});const o=ya(t.account??n.accounts[0]);if(o&&(o.address=ui(o.address)),t.account&&!n.accounts.some(u=>u.toLowerCase()===o.address.toLowerCase()))throw new mI({address:o.address,connector:s});const a=e.chains.find(u=>u.id===r),c=await n.connector.getProvider({chainId:r});return Wv({account:o,chain:a,name:"Connector Client",transport:u=>EI(c)({...u,retryCount:0})})}async function $N(e,t={}){let n;if(t.connector)n=t.connector;else{const{connections:i,current:s}=e.state;n=i.get(s)?.connector}const r=e.state.connections;n&&(await n.disconnect(),n.emitter.off("change",e._internal.events.change),n.emitter.off("disconnect",e._internal.events.disconnect),n.emitter.on("connect",e._internal.events.connect),r.delete(n.uid)),e.setState(i=>{if(r.size===0)return{...i,connections:new Map,current:null,status:"disconnected"};const s=r.values().next().value;return{...i,connections:new Map(r),current:s.connector.uid}});{const i=e.state.current;if(!i)return;const s=e.state.connections.get(i)?.connector;if(!s)return;await e.storage?.setItem("recentConnectorId",s.id)}}function qv(e){const t=e.state.current,n=e.state.connections.get(t),r=n?.accounts,i=r?.[0],s=e.chains.find(a=>a.id===n?.chainId),o=e.state.status;switch(o){case"connected":return{address:i,addresses:r,chain:s,chainId:n?.chainId,connector:n?.connector,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:o};case"reconnecting":return{address:i,addresses:r,chain:s,chainId:n?.chainId,connector:n?.connector,isConnected:!!i,isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:o};case"connecting":return{address:i,addresses:r,chain:s,chainId:n?.chainId,connector:n?.connector,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:o};case"disconnected":return{address:void 0,addresses:void 0,chain:void 0,chainId:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:o}}}async function AI(e,t){const{chainId:n,...r}=t,i=e.getClient({chainId:n});return Fv(i,av,"getBytecode")(r)}function Ag(e){return e.state.chainId}function Yc(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;let n,r;if(Array.isArray(e)&&Array.isArray(t)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Yc(e[r],t[r]))return!1;return!0}if(typeof e.valueOf=="function"&&e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(typeof e.toString=="function"&&e.toString!==Object.prototype.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.hasOwn(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(s&&!Yc(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}let Wa=[];function Ig(e){const t=e.connectors;return Wa.length===t.length&&Wa.every((n,r)=>n===t[r])?Wa:(Wa=t,t)}async function II(e,t){const{address:n,blockNumber:r,blockTag:i,chainId:s}=t,o=e.getClient({chainId:s});return Fv(o,bS,"getTransactionCount")(r?{address:n,blockNumber:r}:{address:n,blockTag:i})}let kl=!1;async function CI(e,t={}){if(kl)return[];kl=!0,e.setState(u=>({...u,status:u.current?"reconnecting":"connecting"}));const n=[];if(t.connectors?.length)for(const u of t.connectors){let l;typeof u=="function"?l=e._internal.connectors.setup(u):l=u,n.push(l)}else n.push(...e.connectors);let r;try{r=await e.storage?.getItem("recentConnectorId")}catch{}const i={};for(const[,u]of e.state.connections)i[u.connector.id]=1;r&&(i[r]=0);const s=Object.keys(i).length>0?[...n].sort((u,l)=>(i[u.id]??10)-(i[l.id]??10)):n;let o=!1;const a=[],c=[];for(const u of s){const l=await u.getProvider().catch(()=>{});if(!l||c.some(p=>p===l)||!await u.isAuthorized())continue;const d=await u.connect({isReconnecting:!0}).catch(()=>null);d&&(u.emitter.off("connect",e._internal.events.connect),u.emitter.on("change",e._internal.events.change),u.emitter.on("disconnect",e._internal.events.disconnect),e.setState(p=>{const b=new Map(o?p.connections:new Map).set(u.uid,{accounts:d.accounts,chainId:d.chainId,connector:u});return{...p,current:o?p.current:u.uid,connections:b}}),a.push({accounts:d.accounts,chainId:d.chainId,connector:u}),c.push(l),o=!0)}return(e.state.status==="reconnecting"||e.state.status==="connecting")&&(o?e.setState(u=>({...u,status:"connected"})):e.setState(u=>({...u,connections:new Map,current:null,status:"disconnected"}))),kl=!1,a}class es extends _r{constructor(){super("Provider not found."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderNotFoundError"})}}class BI extends _r{constructor({connector:t}){super(`"${t.name}" does not support programmatic chain switching.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainNotSupportedError"})}}async function kN(e,t){const{addEthereumChainParameter:n,chainId:r}=t,i=e.state.connections.get(t.connector?.uid??e.state.current);if(i){const o=i.connector;if(!o.switchChain)throw new BI({connector:o});return await o.switchChain({addEthereumChainParameter:n,chainId:r})}const s=e.chains.find(o=>o.id===r);if(!s)throw new Zc;return e.setState(o=>({...o,chainId:r})),s}function MI(e,t){const{onChange:n}=t;return e.subscribe(()=>qv(e),n,{equalityFn(r,i){const{connector:s,...o}=r,{connector:a,...c}=i;return Yc(o,c)&&s?.id===a?.id&&s?.uid===a?.uid}})}function RI(e,t){const{onChange:n}=t;return e.subscribe(r=>r.chainId,n)}function PI(e,t){const{onChange:n}=t;return e._internal.connectors.subscribe((r,i)=>{n(Object.values(r),i)})}function LN(e){return e}S0.type="injected";function S0(e={}){const{shimDisconnect:t=!0,unstable_shimAsyncInject:n}=e;function r(){const c=e.target;if(typeof c=="function"){const u=c();if(u)return u}return typeof c=="object"?c:typeof c=="string"?{...OI[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:"injected",name:"Injected",provider(u){return u?.ethereum}}}let i,s,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:S0.type,async setup(){const u=await this.getProvider();u?.on&&e.target&&(o||(o=this.onConnect.bind(this),u.on("connect",o)),i||(i=this.onAccountsChanged.bind(this),u.on("accountsChanged",i)))},async connect({chainId:u,isReconnecting:l,withCapabilities:f}={}){const d=await this.getProvider();if(!d)throw new es;let p=[];if(l)p=await this.getAccounts().catch(()=>[]);else if(t)try{p=(await d.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}))[0]?.caveats?.[0]?.value?.map(y=>ui(y)),p.length>0&&(p=await this.getAccounts())}catch(b){const y=b;if(y.code===Kt.code)throw new Kt(y);if(y.code===Wr.code)throw y}try{!p?.length&&!l&&(p=(await d.request({method:"eth_requestAccounts"})).map(w=>ui(w))),o&&(d.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),d.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a));let b=await this.getChainId();return u&&b!==u&&(b=(await this.switchChain({chainId:u}).catch(w=>{if(w.code===Kt.code)throw w;return{id:b}}))?.id??b),t&&await c.storage?.removeItem(`${this.id}.disconnected`),e.target||await c.storage?.setItem("injected.connected",!0),{accounts:f?p.map(y=>({address:y,capabilities:{}})):p,chainId:b}}catch(b){const y=b;throw y.code===Kt.code?new Kt(y):y.code===Wr.code?new Wr(y):y}},async disconnect(){const u=await this.getProvider();if(!u)throw new es;s&&(u.removeListener("chainChanged",s),s=void 0),a&&(u.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),u.on("connect",o));try{await fv(()=>u.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}t&&await c.storage?.setItem(`${this.id}.disconnected`,!0),e.target||await c.storage?.removeItem("injected.connected")},async getAccounts(){const u=await this.getProvider();if(!u)throw new es;return(await u.request({method:"eth_accounts"})).map(f=>ui(f))},async getChainId(){const u=await this.getProvider();if(!u)throw new es;const l=await u.request({method:"eth_chainId"});return Number(l)},async getProvider(){if(typeof window>"u")return;let u;const l=r();return typeof l.provider=="function"?u=l.provider(window):typeof l.provider=="string"?u=gc(window,l.provider):u=l.provider,u&&!u.removeListener&&("off"in u&&typeof u.off=="function"?u.removeListener=u.off:u.removeListener=()=>{}),u},async isAuthorized(){try{if(t&&await c.storage?.getItem(`${this.id}.disconnected`)||!e.target&&!await c.storage?.getItem("injected.connected"))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const d=async()=>(typeof window<"u"&&window.removeEventListener("ethereum#initialized",d),!!await this.getProvider()),p=typeof n=="number"?n:1e3;if(await Promise.race([...typeof window<"u"?[new Promise(y=>window.addEventListener("ethereum#initialized",()=>y(d()),{once:!0}))]:[],new Promise(y=>setTimeout(()=>y(d()),p))]))return!0}throw new es}return!!(await p0(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:u,chainId:l}){const f=await this.getProvider();if(!f)throw new es;const d=c.chains.find(b=>b.id===l);if(!d)throw new Bi(new Zc);const p=new Promise(b=>{const y=(w=>{"chainId"in w&&w.chainId===l&&(c.emitter.off("change",y),b())});c.emitter.on("change",y)});try{return await Promise.all([f.request({method:"wallet_switchEthereumChain",params:[{chainId:le(l)}]}).then(async()=>{await this.getChainId()===l&&c.emitter.emit("change",{chainId:l})}),p]),d}catch(b){const y=b;if(y.code===4902||y?.data?.originalError?.code===4902)try{const{default:w,...A}=d.blockExplorers??{};let B;u?.blockExplorerUrls?B=u.blockExplorerUrls:w&&(B=[w.url,...Object.values(A).map(I=>I.url)]);let _;u?.rpcUrls?.length?_=u.rpcUrls:_=[d.rpcUrls.default?.http[0]??""];const M={blockExplorerUrls:B,chainId:le(l),chainName:u?.chainName??d.name,iconUrls:u?.iconUrls,nativeCurrency:u?.nativeCurrency??d.nativeCurrency,rpcUrls:_};return await Promise.all([f.request({method:"wallet_addEthereumChain",params:[M]}).then(async()=>{if(await this.getChainId()===l)c.emitter.emit("change",{chainId:l});else throw new Kt(new Error("User rejected switch after adding network."))}),p]),d}catch(w){throw new Kt(w)}throw y.code===Kt.code?new Kt(y):new Bi(y)}},async onAccountsChanged(u){if(u.length===0)this.onDisconnect();else if(c.emitter.listenerCount("connect")){const l=(await this.getChainId()).toString();this.onConnect({chainId:l}),t&&await c.storage?.removeItem(`${this.id}.disconnected`)}else c.emitter.emit("change",{accounts:u.map(l=>ui(l))})},onChainChanged(u){const l=Number(u);c.emitter.emit("change",{chainId:l})},async onConnect(u){const l=await this.getAccounts();if(l.length===0)return;const f=Number(u.chainId);c.emitter.emit("connect",{accounts:l,chainId:f});const d=await this.getProvider();d&&(o&&(d.removeListener("connect",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),d.on("accountsChanged",i)),s||(s=this.onChainChanged.bind(this),d.on("chainChanged",s)),a||(a=this.onDisconnect.bind(this),d.on("disconnect",a)))},async onDisconnect(u){const l=await this.getProvider();u&&u.code===1013&&l&&(await this.getAccounts()).length||(c.emitter.emit("disconnect"),l&&(s&&(l.removeListener("chainChanged",s),s=void 0),a&&(l.removeListener("disconnect",a),a=void 0),o||(o=this.onConnect.bind(this),l.on("connect",o))))}})}const OI={coinbaseWallet:{id:"coinbaseWallet",name:"Coinbase Wallet",provider(e){return e?.coinbaseWalletExtension?e.coinbaseWalletExtension:gc(e,"isCoinbaseWallet")}},metaMask:{id:"metaMask",name:"MetaMask",provider(e){return gc(e,t=>{if(!t.isMetaMask||t.isBraveWallet&&!t._events&&!t._state)return!1;const n=["isApexWallet","isAvalanche","isBitKeep","isBlockWallet","isKuCoinWallet","isMathWallet","isOkxWallet","isOKExWallet","isOneInchIOSWallet","isOneInchAndroidWallet","isOpera","isPhantom","isPortal","isRabby","isTokenPocket","isTokenary","isUniswapWallet","isZerion"];for(const r of n)if(t[r])return!1;return!0})}},phantom:{id:"phantom",name:"Phantom",provider(e){return e?.phantom?.ethereum?e.phantom?.ethereum:gc(e,"isPhantom")}}};function gc(e,t){function n(i){return typeof t=="function"?t(i):typeof t=="string"?i[t]:!0}const r=e.ethereum;if(r?.providers)return r.providers.find(i=>n(i));if(r&&n(r))return r}function NN(e){const t=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(e)});window.dispatchEvent(t);const n=()=>window.dispatchEvent(t);return window.addEventListener("eip6963:requestProvider",n),()=>window.removeEventListener("eip6963:requestProvider",n)}function TI(e){if(typeof window>"u")return;const t=n=>e(n.detail);return window.addEventListener("eip6963:announceProvider",t),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",t)}function DI(){const e=new Set;let t=[];const n=()=>TI(i=>{t.some(({info:s})=>s.uuid===i.info.uuid)||(t=[...t,i],e.forEach(s=>s(t,{added:[i]})))});let r=n();return{_listeners(){return e},clear(){e.forEach(i=>i([],{removed:[...t]})),t=[]},destroy(){this.clear(),e.clear(),r?.()},findProvider({rdns:i}){return t.find(s=>s.info.rdns===i)},getProviders(){return t},reset(){this.clear(),r?.(),r=n()},subscribe(i,{emitImmediately:s}={}){return e.add(i),s&&i(t,{added:t}),()=>e.delete(i)}}}const $I=e=>(t,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,c)=>{let u=o;if(a){const l=c?.equalityFn||Object.is;let f=o(r.getState());u=d=>{const p=o(d);if(!l(f,p)){const b=f;a(f=p,b)}},c?.fireImmediately&&a(f,f)}return i(u)},e(t,n,r)},kI=$I;function LI(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const qd=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return qd(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return qd(r)(n)}}}},NI=(e,t)=>(n,r,i)=>{let s={storage:LI(()=>localStorage),partialize:y=>y,version:0,merge:(y,w)=>({...w,...y}),...t},o=!1;const a=new Set,c=new Set;let u=s.storage;if(!u)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...y)},r,i);const l=()=>{const y=s.partialize({...r()});return u.setItem(s.name,{state:y,version:s.version})},f=i.setState;i.setState=(y,w)=>{f(y,w),l()};const d=e((...y)=>{n(...y),l()},r,i);i.getInitialState=()=>d;let p;const b=()=>{var y,w;if(!u)return;o=!1,a.forEach(B=>{var _;return B((_=r())!=null?_:d)});const A=((w=s.onRehydrateStorage)==null?void 0:w.call(s,(y=r())!=null?y:d))||void 0;return qd(u.getItem.bind(u))(s.name).then(B=>{if(B)if(typeof B.version=="number"&&B.version!==s.version){if(s.migrate)return[!0,s.migrate(B.state,B.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,B.state];return[!1,void 0]}).then(B=>{var _;const[M,I]=B;if(p=s.merge(I,(_=r())!=null?_:d),n(p,!0),M)return l()}).then(()=>{A?.(p,void 0),p=r(),o=!0,c.forEach(B=>B(p))}).catch(B=>{A?.(void 0,B)})};return i.persist={setOptions:y=>{s={...s,...y},y.storage&&(u=y.storage)},clearStorage:()=>{u?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},s.skipHydration||b(),p||d},FI=NI,Cg=e=>{let t;const n=new Set,r=(u,l)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const d=t;t=l??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,d))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u))},c=t=e(r,i,a);return a},Ll=e=>e?Cg(e):Cg;var Nl={exports:{}},Bg;function UI(){return Bg||(Bg=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,f,d){if(typeof l!="function")throw new TypeError("The listener must be a function");var p=new i(l,f||c,d),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],p]:c._events[b].push(p):(c._events[b]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,f;if(this._eventsCount===0)return u;for(f in l=this._events)t.call(l,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=n?n+u:u,f=this._events[l];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,b=new Array(p);d<p;d++)b[d]=f[d].fn;return b},a.prototype.listenerCount=function(u){var l=n?n+u:u,f=this._events[l];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,l,f,d,p,b){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],A=arguments.length,B,_;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,l),!0;case 3:return w.fn.call(w.context,l,f),!0;case 4:return w.fn.call(w.context,l,f,d),!0;case 5:return w.fn.call(w.context,l,f,d,p),!0;case 6:return w.fn.call(w.context,l,f,d,p,b),!0}for(_=1,B=new Array(A-1);_<A;_++)B[_-1]=arguments[_];w.fn.apply(w.context,B)}else{var M=w.length,I;for(_=0;_<M;_++)switch(w[_].once&&this.removeListener(u,w[_].fn,void 0,!0),A){case 1:w[_].fn.call(w[_].context);break;case 2:w[_].fn.call(w[_].context,l);break;case 3:w[_].fn.call(w[_].context,l,f);break;case 4:w[_].fn.call(w[_].context,l,f,d);break;default:if(!B)for(I=1,B=new Array(A-1);I<A;I++)B[I-1]=arguments[I];w[_].fn.apply(w[_].context,B)}}return!0},a.prototype.on=function(u,l,f){return s(this,u,l,f,!1)},a.prototype.once=function(u,l,f){return s(this,u,l,f,!0)},a.prototype.removeListener=function(u,l,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!l)return o(this,p),this;var b=this._events[p];if(b.fn)b.fn===l&&(!d||b.once)&&(!f||b.context===f)&&o(this,p);else{for(var y=0,w=[],A=b.length;y<A;y++)(b[y].fn!==l||d&&!b[y].once||f&&b[y].context!==f)&&w.push(b[y]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=n?n+u:u,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Nl)),Nl.exports}var zI=UI();const jI=xn(zI);class WI{constructor(t){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"_emitter",{enumerable:!0,configurable:!0,writable:!0,value:new jI})}on(t,n){this._emitter.on(t,n)}once(t,n){this._emitter.once(t,n)}off(t,n){this._emitter.off(t,n)}emit(t,...n){const r=n[0];this._emitter.emit(t,{uid:this.uid,...r})}listenerCount(t){return this._emitter.listenerCount(t)}}function qI(e){return new WI(e)}function HI(e,t){return JSON.parse(e,(n,r)=>{let i=r;return i?.__type==="bigint"&&(i=BigInt(i.value)),i?.__type==="Map"&&(i=new Map(i.value)),t?.(n,i)??i})}function Mg(e,t){return e.slice(0,t).join(".")||"."}function Rg(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function KI(e,t){const n=typeof e=="function",r=typeof t=="function",i=[],s=[];return function(a,c){if(typeof c=="object")if(i.length){const u=Rg(i,this);u===0?i[i.length]=this:(i.splice(u),s.splice(u)),s[s.length]=a;const l=Rg(i,c);if(l!==0)return r?t.call(this,a,c,Mg(s,l)):`[ref=${Mg(s,l)}]`}else i[0]=c,s[0]=a;return n?e.call(this,a,c):c}}function VI(e,t,n,r){return JSON.stringify(e,KI((i,s)=>{let o=s;return typeof o=="bigint"&&(o={__type:"bigint",value:s.toString()}),o instanceof Map&&(o={__type:"Map",value:Array.from(s.entries())}),t?.(i,o)??o},r),n??void 0)}function GI(e){const{deserialize:t=HI,key:n="wagmi",serialize:r=VI,storage:i=Hv}=e;function s(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...i,key:n,async getItem(o,a){const c=i.getItem(`${n}.${o}`),u=await s(c);return u?t(u)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await s(i.removeItem(c)):await s(i.setItem(c,r(a)))},async removeItem(o){await s(i.removeItem(`${n}.${o}`))}}}const Hv={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function ZI(){const e=typeof window<"u"&&window.localStorage?window.localStorage:Hv;return{getItem(t){return e.getItem(t)},removeItem(t){e.removeItem(t)},setItem(t,n){try{e.setItem(t,n)}catch{}}}}const Hd=256;let qa=Hd,Ha;function YI(e=11){if(!Ha||qa+e>Hd*2){Ha="",qa=0;for(let t=0;t<Hd;t++)Ha+=(256+Math.random()*256|0).toString(16).substring(1)}return Ha.substring(qa,qa+++e)}function FN(e){const{multiInjectedProviderDiscovery:t=!0,storage:n=GI({storage:ZI()}),syncConnectedChain:r=!0,ssr:i=!1,...s}=e,o=typeof window<"u"&&t?DI():void 0,a=Ll(()=>s.chains),c=Ll(()=>{const I=[],C=new Set;for(const k of s.connectors??[]){const z=u(k);if(I.push(z),!i&&z.rdns){const N=typeof z.rdns=="string"?[z.rdns]:z.rdns;for(const U of N)C.add(U)}}if(!i&&o){const k=o.getProviders();for(const z of k)C.has(z.info.rdns)||I.push(u(l(z)))}return I});function u(I){const C=qI(YI()),k={...I({emitter:C,chains:a.getState(),storage:n,transports:s.transports}),emitter:C,uid:C.uid};return C.on("connect",_),k.setup?.(),k}function l(I){const{info:C}=I,k=I.provider;return S0({target:{...C,id:C.rdns,provider:k}})}const f=new Map;function d(I={}){const C=I.chainId??w.getState().chainId,k=a.getState().find(N=>N.id===C);if(I.chainId&&!k)throw new Zc;{const N=f.get(w.getState().chainId);if(N&&!k)return N;if(!k)throw new Zc}{const N=f.get(C);if(N)return N}let z;if(s.client)z=s.client({chain:k});else{const N=k.id,U=a.getState().map(P=>P.id),W={},H=Object.entries(s);for(const[P,h]of H)if(!(P==="chains"||P==="client"||P==="connectors"||P==="transports"))if(typeof h=="object")if(N in h)W[P]=h[N];else{if(U.some(E=>E in h))continue;W[P]=h}else W[P]=h;z=Wv({...W,chain:k,batch:W.batch??{multicall:!0},transport:P=>s.transports[N]({...P,connectors:c})})}return f.set(C,z),z}function p(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:"disconnected"}}let b;const y="0.0.0-canary-";pc.startsWith(y)?b=Number.parseInt(pc.replace(y,"")):b=Number.parseInt(pc.split(".")[0]??"0");const w=Ll(kI(n?FI(p,{migrate(I,C){if(C===b)return I;const k=p(),z=A(I,k.chainId);return{...k,chainId:z}},name:"store",partialize(I){return{connections:{__type:"Map",value:Array.from(I.connections.entries()).map(([C,k])=>{const{id:z,name:N,type:U,uid:W}=k.connector;return[C,{...k,connector:{id:z,name:N,type:U,uid:W}}]})},chainId:I.chainId,current:I.current}},merge(I,C){typeof I=="object"&&I&&"status"in I&&delete I.status;const k=A(I,C.chainId);return{...C,...I,chainId:k}},skipHydration:i,storage:n,version:b}):p));w.setState(p());function A(I,C){return I&&typeof I=="object"&&"chainId"in I&&typeof I.chainId=="number"&&a.getState().some(k=>k.id===I.chainId)?I.chainId:C}r&&w.subscribe(({connections:I,current:C})=>C?I.get(C)?.chainId:void 0,I=>{if(a.getState().some(k=>k.id===I))return w.setState(k=>({...k,chainId:I??k.chainId}))}),o?.subscribe(I=>{const C=new Set,k=new Set;for(const N of c.getState())if(C.add(N.id),N.rdns){const U=typeof N.rdns=="string"?[N.rdns]:N.rdns;for(const W of U)k.add(W)}const z=[];for(const N of I){if(k.has(N.info.rdns))continue;const U=u(l(N));C.has(U.id)||z.push(U)}n&&!w.persist.hasHydrated()||c.setState(N=>[...N,...z],!0)});function B(I){w.setState(C=>{const k=C.connections.get(I.uid);return k?{...C,connections:new Map(C.connections).set(I.uid,{accounts:I.accounts??k.accounts,chainId:I.chainId??k.chainId,connector:k.connector})}:C})}function _(I){w.getState().status==="connecting"||w.getState().status==="reconnecting"||w.setState(C=>{const k=c.getState().find(z=>z.uid===I.uid);return k?(k.emitter.listenerCount("connect")&&k.emitter.off("connect",B),k.emitter.listenerCount("change")||k.emitter.on("change",B),k.emitter.listenerCount("disconnect")||k.emitter.on("disconnect",M),{...C,connections:new Map(C.connections).set(I.uid,{accounts:I.accounts,chainId:I.chainId,connector:k}),current:I.uid,status:"connected"}):C})}function M(I){w.setState(C=>{const k=C.connections.get(I.uid);if(k){const N=k.connector;N.emitter.listenerCount("change")&&k.connector.emitter.off("change",B),N.emitter.listenerCount("disconnect")&&k.connector.emitter.off("disconnect",M),N.emitter.listenerCount("connect")||k.connector.emitter.on("connect",_)}if(C.connections.delete(I.uid),C.connections.size===0)return{...C,connections:new Map,current:null,status:"disconnected"};const z=C.connections.values().next().value;return{...C,connections:new Map(C.connections),current:z.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:d,get state(){return w.getState()},setState(I){let C;typeof I=="function"?C=I(w.getState()):C=I;const k=p();typeof C!="object"&&(C=k),Object.keys(k).some(N=>!(N in C))&&(C=k),w.setState(C,!0)},subscribe(I,C,k){return w.subscribe(I,C,k?{...k,fireImmediately:k.emitImmediately}:void 0)},_internal:{mipd:o,async revalidate(){const I=w.getState(),C=I.connections;let k=I.current;for(const[,z]of C){const N=z.connector;N.isAuthorized&&await N.isAuthorized()||(C.delete(N.uid),k===N.uid&&(k=null))}w.setState(z=>({...z,connections:C,current:k}))},store:w,ssr:!!i,syncConnectedChain:r,transports:s.transports,chains:{setState(I){const C=typeof I=="function"?I(a.getState()):I;if(C.length!==0)return a.setState(C,!0)},subscribe(I){return a.subscribe(I)}},connectors:{providerDetailToConnector:l,setup:u,setState(I){return c.setState(typeof I=="function"?I(c.getState()):I,!0)},subscribe(I){return c.subscribe(I)}},events:{change:B,connect:_,disconnect:M}}}}function JI(e,t){const{initialState:n,reconnectOnMount:r}=t;return n&&!e._internal.store.persist.hasHydrated()&&e.setState({...n,chainId:e.chains.some(i=>i.id===n.chainId)?n.chainId:e.chains[0].id,connections:r?n.connections:new Map,status:r?"reconnecting":"disconnected"}),{async onMount(){e._internal.ssr&&(await e._internal.store.persist.rehydrate(),e._internal.mipd&&e._internal.connectors.setState(i=>{const s=new Set;for(const c of i??[])if(c.rdns){const u=Array.isArray(c.rdns)?c.rdns:[c.rdns];for(const l of u)s.add(l)}const o=[],a=e._internal.mipd?.getProviders()??[];for(const c of a){if(s.has(c.info.rdns))continue;const u=e._internal.connectors.providerDetailToConnector(c),l=e._internal.connectors.setup(u);o.push(l)}return[...i,...o]})),r?CI(e):e.storage&&e.setState(i=>({...i,connections:new Map}))}}}function UN(e){const{chain:t}=e,n=t.rpcUrls.default.http[0];if(!e.transports)return[n];const r=e.transports?.[t.id]?.({chain:t});return(r?.value?.transports||[r]).map(({value:s})=>s?.url||n)}function Fi(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Kv(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Fi(n);return(i,s)=>r.then(o=>s(o.transaction(t,i).objectStore(t)))}let Fl;function Ea(){return Fl||(Fl=Kv("keyval-store","keyval")),Fl}function Pg(e,t=Ea()){return t("readonly",n=>Fi(n.get(e)))}function QI(e,t,n=Ea()){return n("readwrite",r=>(r.put(t,e),Fi(r.transaction)))}function XI(e,t=Ea()){return t("readwrite",n=>(n.delete(e),Fi(n.transaction)))}function eC(e=Ea()){return e("readwrite",t=>(t.clear(),Fi(t.transaction)))}function tC(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Fi(e.transaction)}function nC(e=Ea()){return e("readonly",t=>{if(t.getAllKeys)return Fi(t.getAllKeys());const n=[];return tC(t,r=>n.push(r.key)).then(()=>n)})}function rC(e){const{children:t,config:n,initialState:r,reconnectOnMount:i=!0}=e,{onMount:s}=JI(n,{initialState:r,reconnectOnMount:i});n._internal.ssr||s();const o=oe.useRef(!0);return oe.useEffect(()=>{if(o.current&&n._internal.ssr)return s(),()=>{o.current=!1}},[]),t}const Vv=oe.createContext(void 0);function zN(e){const{children:t,config:n}=e,r={value:n};return oe.createElement(rC,e,oe.createElement(Vv.Provider,r,t))}const iC="2.17.4",sC=()=>`wagmi@${iC}`;class oC extends _r{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiError"})}get docsBaseUrl(){return"https://wagmi.sh/react"}get version(){return sC()}}class aC extends oC{constructor(){super("`useConfig` must be used within `WagmiProvider`.",{docsPath:"/api/WagmiProvider"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WagmiProviderNotFoundError"})}}function Ls(e={}){const t=e.config??oe.useContext(Vv);if(!t)throw new aC;return t}var Ul={exports:{}},zl={},jl={exports:{}},Wl={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function cC(){if(Og)return Wl;Og=1;var e=Tm();function t(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function a(f,d){var p=d(),b=r({inst:{value:p,getSnapshot:d}}),y=b[0].inst,w=b[1];return s(function(){y.value=p,y.getSnapshot=d,c(y)&&w({inst:y})},[f,p,d]),i(function(){return c(y)&&w({inst:y}),f(function(){c(y)&&w({inst:y})})},[f]),o(p),p}function c(f){var d=f.getSnapshot;f=f.value;try{var p=d();return!n(f,p)}catch{return!0}}function u(f,d){return d()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return Wl.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:l,Wl}var Tg;function uC(){return Tg||(Tg=1,jl.exports=cC()),jl.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function lC(){if(Dg)return zl;Dg=1;var e=Tm(),t=uC();function n(u,l){return u===l&&(u!==0||1/u===1/l)||u!==u&&l!==l}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,a=e.useMemo,c=e.useDebugValue;return zl.useSyncExternalStoreWithSelector=function(u,l,f,d,p){var b=s(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=a(function(){function A(C){if(!B){if(B=!0,_=C,C=d(C),p!==void 0&&y.hasValue){var k=y.value;if(p(k,C))return M=k}return M=C}if(k=M,r(_,C))return k;var z=d(C);return p!==void 0&&p(k,z)?(_=C,k):(_=C,M=z)}var B=!1,_,M,I=f===void 0?null:f;return[function(){return A(l())},I===null?void 0:function(){return A(I())}]},[l,f,d,p]);var w=i(u,b[0],b[1]);return o(function(){y.hasValue=!0,y.value=w},[w]),c(w),w},zl}var $g;function fC(){return $g||($g=1,Ul.exports=lC()),Ul.exports}var dC=fC();const ql=e=>typeof e=="object"&&!Array.isArray(e);function hC(e,t,n=t,r=Yc){const i=oe.useRef([]),s=dC.useSyncExternalStoreWithSelector(e,t,n,o=>o,(o,a)=>{if(ql(o)&&ql(a)&&i.current.length){for(const c of i.current)if(!r(o[c],a[c]))return!1;return!0}return r(o,a)});return oe.useMemo(()=>{if(ql(s)){const o={...s};let a={};for(const[c,u]of Object.entries(o))a={...a,[c]:{configurable:!1,enumerable:!0,get:()=>(i.current.includes(c)||i.current.push(c),u)}};return Object.defineProperties(o,a),o}return s},[s])}function jN(e={}){const t=Ls(e);return hC(n=>MI(t,{onChange:n}),()=>qv(t))}function pC(e){return JSON.stringify(e,(t,n)=>gC(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):typeof n=="bigint"?n.toString():n)}function gC(e){if(!kg(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!kg(n)||!n.hasOwnProperty("isPrototypeOf"))}function kg(e){return Object.prototype.toString.call(e)==="[object Object]"}function Gv(e){const{_defaulted:t,behavior:n,gcTime:r,initialData:i,initialDataUpdatedAt:s,maxPages:o,meta:a,networkMode:c,queryFn:u,queryHash:l,queryKey:f,queryKeyHashFn:d,retry:p,retryDelay:b,structuralSharing:y,getPreviousPageParam:w,getNextPageParam:A,initialPageParam:B,_optimisticResults:_,enabled:M,notifyOnChangeProps:I,placeholderData:C,refetchInterval:k,refetchIntervalInBackground:z,refetchOnMount:N,refetchOnReconnect:U,refetchOnWindowFocus:W,retryOnMount:H,select:P,staleTime:h,suspense:g,throwOnError:E,config:R,connector:O,query:$,...F}=e;return F}function yC(e){return{mutationFn(t){return vI(e,t)},mutationKey:["connect"]}}function mC(e,t={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:i,...s}=n[1];if(!r)throw new Error("address is required");return await AI(e,{...s,address:r})??null},queryKey:bC(t)}}function bC(e){return["getBytecode",Gv(e)]}function wC(e,t={}){return{async queryFn({queryKey:n}){const{address:r,scopeKey:i,...s}=n[1];if(!r)throw new Error("address is required");return await II(e,{...s,address:r})??null},queryKey:vC(t)}}function vC(e={}){return["transactionCount",Gv(e)]}function Zv(e){const t=ax({...e,queryKeyHashFn:pC});return t.queryKey=e.queryKey,t}function Yv(e={}){const t=Ls(e);return oe.useSyncExternalStore(n=>RI(t,{onChange:n}),()=>Ag(t),()=>Ag(t))}function WN(e={}){const{address:t,query:n={}}=e,r=Ls(e),i=Yv({config:r}),s=mC(r,{...e,chainId:e.chainId??i}),o=!!(t&&(n.enabled??!0));return Zv({...n,...s,enabled:o})}function EC(e={}){const t=Ls(e);return oe.useSyncExternalStore(n=>PI(t,{onChange:n}),()=>Ig(t),()=>Ig(t))}function qN(e={}){const{mutation:t}=e,n=Ls(e),r=yC(n),{mutate:i,mutateAsync:s,...o}=cx({...t,...r});return oe.useEffect(()=>n.subscribe(({status:a})=>a,(a,c)=>{c==="connected"&&a==="disconnected"&&o.reset()}),[n,o.reset]),{...o,connect:i,connectAsync:s,connectors:EC({config:n})}}function HN(e={}){const{address:t,query:n={}}=e,r=Ls(e),i=Yv({config:r}),s=wC(r,{...e,chainId:e.chainId??i}),o=!!(t&&(n.enabled??!0));return Zv({...n,...s,enabled:o})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dn=BigInt(0),Zt=BigInt(1),Lg=BigInt(2),xC=BigInt(8),_C={zip215:!0};function SC(e){const t=jh(e);return da(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function AC(e){const t=SC(e),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=t,u=Lg<<BigInt(a*8)-Zt,l=n.create,f=ha(t.n,t.nBitLength);function d(O,$){const F=n.sqr(O),T=n.sqr($),m=n.add(n.mul(t.a,F),T),v=n.add(n.ONE,n.mul(t.d,n.mul(F,T)));return n.eql(m,v)}if(!d(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const p=t.uvRatio||((O,$)=>{try{return{isValid:!0,value:n.sqrt(O*n.inv($))}}catch{return{isValid:!1,value:Dn}}}),b=t.adjustScalarBytes||(O=>O),y=t.domain||((O,$,F)=>{if(Ur("phflag",F),$.length||F)throw new Error("Contexts/pre-hash are not supported");return O});function w(O,$,F=!1){const T=F?Zt:Dn;In("coordinate "+O,$,T,u)}function A(O){if(!(O instanceof M))throw new Error("ExtendedPoint expected")}const B=qc((O,$)=>{const{ex:F,ey:T,ez:m}=O,v=O.is0();$==null&&($=v?xC:n.inv(m));const D=l(F*$),j=l(T*$),V=l(m*$);if(v)return{x:Dn,y:Zt};if(V!==Zt)throw new Error("invZ was invalid");return{x:D,y:j}}),_=qc(O=>{const{a:$,d:F}=t;if(O.is0())throw new Error("bad point: ZERO");const{ex:T,ey:m,ez:v,et:D}=O,j=l(T*T),V=l(m*m),Y=l(v*v),ee=l(Y*Y),re=l(j*$),ve=l(Y*l(re+V)),me=l(ee+l(F*l(j*V)));if(ve!==me)throw new Error("bad point: equation left != right (1)");const we=l(T*m),Oe=l(v*D);if(we!==Oe)throw new Error("bad point: equation left != right (2)");return!0});class M{constructor($,F,T,m){w("x",$),w("y",F),w("z",T,!0),w("t",m),this.ex=$,this.ey=F,this.ez=T,this.et=m,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine($){if($ instanceof M)throw new Error("extended point not allowed");const{x:F,y:T}=$||{};return w("x",F),w("y",T),new M(F,T,Zt,l(F*T))}static normalizeZ($){const F=zh(n,$.map(T=>T.ez));return $.map((T,m)=>T.toAffine(F[m])).map(M.fromAffine)}static msm($,F){return Bb(M,f,$,F)}_setWindowSize($){k.setWindowSize(this,$)}assertValidity(){_(this)}equals($){A($);const{ex:F,ey:T,ez:m}=this,{ex:v,ey:D,ez:j}=$,V=l(F*j),Y=l(v*m),ee=l(T*j),re=l(D*m);return V===Y&&ee===re}is0(){return this.equals(M.ZERO)}negate(){return new M(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:$}=t,{ex:F,ey:T,ez:m}=this,v=l(F*F),D=l(T*T),j=l(Lg*l(m*m)),V=l($*v),Y=F+T,ee=l(l(Y*Y)-v-D),re=V+D,ve=re-j,me=V-D,we=l(ee*ve),Oe=l(re*me),xe=l(ee*me),Be=l(ve*re);return new M(we,Oe,Be,xe)}add($){A($);const{a:F,d:T}=t,{ex:m,ey:v,ez:D,et:j}=this,{ex:V,ey:Y,ez:ee,et:re}=$,ve=l(m*V),me=l(v*Y),we=l(j*T*re),Oe=l(D*ee),xe=l((m+v)*(V+Y)-ve-me),Be=Oe-we,mn=Oe+we,Te=l(me-F*ve),Fe=l(xe*Be),Vn=l(mn*Te),ke=l(xe*Te),Re=l(Be*mn);return new M(Fe,Vn,Re,ke)}subtract($){return this.add($.negate())}wNAF($){return k.wNAFCached(this,$,M.normalizeZ)}multiply($){const F=$;In("scalar",F,Zt,r);const{p:T,f:m}=this.wNAF(F);return M.normalizeZ([T,m])[0]}multiplyUnsafe($,F=M.ZERO){const T=$;return In("scalar",T,Dn,r),T===Dn?C:this.is0()||T===Zt?this:k.wNAFCachedUnsafe(this,T,M.normalizeZ,F)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return k.unsafeLadder(this,r).is0()}toAffine($){return B(this,$)}clearCofactor(){const{h:$}=t;return $===Zt?this:this.multiplyUnsafe($)}static fromHex($,F=!1){const{d:T,a:m}=t,v=n.BYTES;$=nt("pointHex",$,v),Ur("zip215",F);const D=$.slice(),j=$[v-1];D[v-1]=j&-129;const V=bo(D),Y=F?u:n.ORDER;In("pointHex.y",V,Dn,Y);const ee=l(V*V),re=l(ee-Zt),ve=l(T*ee-m);let{isValid:me,value:we}=p(re,ve);if(!me)throw new Error("Point.fromHex: invalid y coordinate");const Oe=(we&Zt)===Zt,xe=(j&128)!==0;if(!F&&we===Dn&&xe)throw new Error("Point.fromHex: x=0 and x_0=1");return xe!==Oe&&(we=l(-we)),M.fromAffine({x:we,y:V})}static fromPrivateKey($){const{scalar:F}=U($);return I.multiply(F)}toRawBytes(){const{x:$,y:F}=this.toAffine(),T=Wc(F,n.BYTES);return T[T.length-1]|=$&Zt?128:0,T}toHex(){return Ss(this.toRawBytes())}}M.BASE=new M(t.Gx,t.Gy,Zt,l(t.Gx*t.Gy)),M.ZERO=new M(Dn,Zt,Zt,Dn);const{BASE:I,ZERO:C}=M,k=Cb(M,a*8);function z(O){return Ve(O,r)}function N(O){return z(bo(O))}function U(O){const $=n.BYTES;O=nt("private key",O,$);const F=nt("hashed private key",s(O),2*$),T=b(F.slice(0,$)),m=F.slice($,2*$),v=N(T);return{head:T,prefix:m,scalar:v}}function W(O){const{head:$,prefix:F,scalar:T}=U(O),m=I.multiply(T),v=m.toRawBytes();return{head:$,prefix:F,scalar:T,point:m,pointBytes:v}}function H(O){return W(O).pointBytes}function P(O=Uint8Array.of(),...$){const F=As(...$);return N(s(y(F,nt("context",O),!!i)))}function h(O,$,F={}){O=nt("message",O),i&&(O=i(O));const{prefix:T,scalar:m,pointBytes:v}=W($),D=P(F.context,T,O),j=I.multiply(D).toRawBytes(),V=P(F.context,j,v,O),Y=z(D+V*m);In("signature.s",Y,Dn,r);const ee=As(j,Wc(Y,n.BYTES));return nt("result",ee,n.BYTES*2)}const g=_C;function E(O,$,F,T=g){const{context:m,zip215:v}=T,D=n.BYTES;O=nt("signature",O,2*D),$=nt("message",$),F=nt("publicKey",F,D),v!==void 0&&Ur("zip215",v),i&&($=i($));const j=bo(O.slice(D,2*D));let V,Y,ee;try{V=M.fromHex(F,v),Y=M.fromHex(O.slice(0,D),v),ee=I.multiplyUnsafe(j)}catch{return!1}if(!v&&V.isSmallOrder())return!1;const re=P(m,Y.toRawBytes(),V.toRawBytes(),$);return Y.add(V.multiplyUnsafe(re)).subtract(ee).clearCofactor().equals(M.ZERO)}return I._setWindowSize(8),{CURVE:t,getPublicKey:H,sign:h,verify:E,ExtendedPoint:M,utils:{getExtendedPublicKey:W,randomPrivateKey:()=>o(n.BYTES),precompute(O=8,$=M.BASE){return $._setWindowSize(O),$.multiply(BigInt(3)),$}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const A0=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ng=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const IC=BigInt(1),Fg=BigInt(2);BigInt(3);const CC=BigInt(5),BC=BigInt(8);function MC(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=A0,a=e*e%s*e%s,c=Qe(a,Fg,s)*a%s,u=Qe(c,IC,s)*e%s,l=Qe(u,CC,s)*u%s,f=Qe(l,t,s)*l%s,d=Qe(f,n,s)*f%s,p=Qe(d,r,s)*d%s,b=Qe(p,i,s)*p%s,y=Qe(b,i,s)*p%s,w=Qe(y,t,s)*l%s;return{pow_p_5_8:Qe(w,Fg,s)*e%s,b2:a}}function RC(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function PC(e,t){const n=A0,r=Ve(t*t*t,n),i=Ve(r*r*t,n),s=MC(e*i).pow_p_5_8;let o=Ve(e*r*s,n);const a=Ve(t*o*o,n),c=o,u=Ve(o*Ng,n),l=a===e,f=a===Ve(-e,n),d=a===Ve(-e*Ng,n);return l&&(o=c),(f||d)&&(o=u),y8(o,n)&&(o=Ve(-o,n)),{isValid:l||f,value:o}}const Ug=ha(A0,void 0,!0),OC={a:Ug.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ug,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BC,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:I5,randomBytes:zm,adjustScalarBytes:RC,uvRatio:PC},I0=AC(OC);var Hl,zg;function TC(){if(zg)return Hl;zg=1;var e=ib().Buffer;function t(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var s=0;s<n.length;s++){var o=n.charAt(s),a=o.charCodeAt(0);if(r[a]!==255)throw new TypeError(o+" is ambiguous");r[a]=s}var c=n.length,u=n.charAt(0),l=Math.log(c)/Math.log(256),f=Math.log(256)/Math.log(c);function d(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=e.from(y)),!e.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var w=0,A=0,B=0,_=y.length;B!==_&&y[B]===0;)B++,w++;for(var M=(_-B)*f+1>>>0,I=new Uint8Array(M);B!==_;){for(var C=y[B],k=0,z=M-1;(C!==0||k<A)&&z!==-1;z--,k++)C+=256*I[z]>>>0,I[z]=C%c>>>0,C=C/c>>>0;if(C!==0)throw new Error("Non-zero carry");A=k,B++}for(var N=M-A;N!==M&&I[N]===0;)N++;for(var U=u.repeat(w);N<M;++N)U+=n.charAt(I[N]);return U}function p(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return e.alloc(0);for(var w=0,A=0,B=0;y[w]===u;)A++,w++;for(var _=(y.length-w)*l+1>>>0,M=new Uint8Array(_);w<y.length;){var I=y.charCodeAt(w);if(I>255)return;var C=r[I];if(C===255)return;for(var k=0,z=_-1;(C!==0||k<B)&&z!==-1;z--,k++)C+=c*M[z]>>>0,M[z]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");B=k,w++}for(var N=_-B;N!==_&&M[N]===0;)N++;var U=e.allocUnsafe(A+(_-N));U.fill(0,0,A);for(var W=A;N!==_;)U[W++]=M[N++];return U}function b(y){var w=p(y);if(w)return w;throw new Error("Non-base"+c+" character")}return{encode:d,decodeUnsafe:p,decode:b}}return Hl=t,Hl}var Kl,jg;function DC(){if(jg)return Kl;jg=1;var e=TC(),t="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";return Kl=e(t),Kl}var $C=DC();const Tt=xn($C);function Wg(e){try{return I0.ExtendedPoint.fromHex(e),!0}catch{return!1}}const Jv=(e,t)=>I0.sign(e,t.slice(0,32)),kC=I0.verify,Ms=e=>he.Buffer.isBuffer(e)?e:e instanceof Uint8Array?he.Buffer.from(e.buffer,e.byteOffset,e.byteLength):he.Buffer.from(e);class LC{constructor(t){Object.assign(this,t)}encode(){return he.Buffer.from(ol.serialize(yc,this))}static decode(t){return ol.deserialize(yc,this,t)}static decodeUnchecked(t){return ol.deserializeUnchecked(yc,this,t)}}const yc=new Map;var Qv;const NC=32,qr=32;function FC(e){return e._bn!==void 0}let qg=1;class ye extends LC{constructor(t){if(super({}),this._bn=void 0,FC(t))this._bn=t._bn;else{if(typeof t=="string"){const n=Tt.decode(t);if(n.length!=qr)throw new Error("Invalid public key input");this._bn=new Ep(n)}else this._bn=new Ep(t);if(this._bn.byteLength()>qr)throw new Error("Invalid public key input")}}static unique(){const t=new ye(qg);return qg+=1,new ye(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Tt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(he.Buffer);if(t.length===qr)return t;const n=he.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const i=he.Buffer.concat([t.toBuffer(),he.Buffer.from(n),r.toBuffer()]),s=rd(i);return new ye(s)}static createProgramAddressSync(t,n){let r=he.Buffer.alloc(0);t.forEach(function(s){if(s.length>NC)throw new TypeError("Max seed length exceeded");r=he.Buffer.concat([r,Ms(s)])}),r=he.Buffer.concat([r,n.toBuffer(),he.Buffer.from("ProgramDerivedAddress")]);const i=rd(r);if(Wg(i))throw new Error("Invalid seeds, address must fall off the curve");return new ye(i)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,i;for(;r!=0;){try{const s=t.concat(he.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new ye(t);return Wg(n.toBytes())}}Qv=ye;ye.default=new Qv("11111111111111111111111111111111");yc.set(ye,{kind:"struct",fields:[["_bn","u256"]]});new ye("BPFLoader1111111111111111111111111111111111");const vs=1232,C0=127,Jc=64;class Xv extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Xv.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class e6 extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(e6.prototype,"name",{value:"TransactionExpiredTimeoutError"});class ro extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(ro.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Qc{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return t.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Ce=(e="publicKey")=>K.blob(32,e),UC=(e="signature")=>K.blob(64,e),gs=(e="string")=>{const t=K.struct([K.u32("length"),K.u32("lengthPadding"),K.blob(K.offset(K.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:he.Buffer.from(s,"utf8")};return r(c,o,a)},i.alloc=s=>K.u32().span+K.u32().span+he.Buffer.from(s,"utf8").length,i},zC=(e="authorized")=>K.struct([Ce("staker"),Ce("withdrawer")],e),jC=(e="lockup")=>K.struct([K.ns64("unixTimestamp"),K.ns64("epoch"),Ce("custodian")],e),WC=(e="voteInit")=>K.struct([Ce("nodePubkey"),Ce("authorizedVoter"),Ce("authorizedWithdrawer"),K.u8("commission")],e),qC=(e="voteAuthorizeWithSeedArgs")=>K.struct([K.u32("voteAuthorizationType"),Ce("currentAuthorityDerivedKeyOwnerPubkey"),gs("currentAuthorityDerivedKeySeed"),Ce("newAuthorized")],e);function ln(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,(r&128)===0)break}return t}function fn(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function Ke(e,t){if(!e)throw new Error(t||"Assertion failed")}class Su{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,i=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of t){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new Su(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Ke(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,c])=>c.isSigner&&c.isWritable),r=t.filter(([,c])=>c.isSigner&&!c.isWritable),i=t.filter(([,c])=>!c.isSigner&&c.isWritable),s=t.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{Ke(n.length>0,"Expected at least one writable signer key");const[c]=n[0];Ke(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([c])=>new ye(c)),...r.map(([c])=>new ye(c)),...i.map(([c])=>new ye(c)),...s.map(([c])=>new ye(c))];return[o,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(t,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new ye(s),c=t.findIndex(u=>u.equals(a));c>=0&&(Ke(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}const t6="Reached end of buffer unexpectedly";function cr(e){if(e.length===0)throw new Error(t6);return e.shift()}function dn(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(t6);return e.splice(...t)}class br{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new ye(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Tt.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Qc(this.staticAccountKeys)}static compile(t){const n=Su.compile(t.instructions,t.payerKey),[r,i]=n.getMessageComponents(),o=new Qc(i).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Tt.encode(a.data)}));return new br({header:r,accountKeys:i,recentBlockhash:t.recentBlockhash,instructions:o})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];fn(n,t);const r=this.instructions.map(f=>{const{accounts:d,programIdIndex:p}=f,b=Array.from(Tt.decode(f.data));let y=[];fn(y,d.length);let w=[];return fn(w,b.length),{programIdIndex:p,keyIndicesCount:he.Buffer.from(y),keyIndices:d,dataLength:he.Buffer.from(w),data:b}});let i=[];fn(i,r.length);let s=he.Buffer.alloc(vs);he.Buffer.from(i).copy(s);let o=i.length;r.forEach(f=>{const p=K.struct([K.u8("programIdIndex"),K.blob(f.keyIndicesCount.length,"keyIndicesCount"),K.seq(K.u8("keyIndex"),f.keyIndices.length,"keyIndices"),K.blob(f.dataLength.length,"dataLength"),K.seq(K.u8("userdatum"),f.data.length,"data")]).encode(f,s,o);o+=p}),s=s.slice(0,o);const a=K.struct([K.blob(1,"numRequiredSignatures"),K.blob(1,"numReadonlySignedAccounts"),K.blob(1,"numReadonlyUnsignedAccounts"),K.blob(n.length,"keyCount"),K.seq(Ce("key"),t,"keys"),Ce("recentBlockhash")]),c={numRequiredSignatures:he.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:he.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:he.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:he.Buffer.from(n),keys:this.accountKeys.map(f=>Ms(f.toBytes())),recentBlockhash:Tt.decode(this.recentBlockhash)};let u=he.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(t){let n=[...t];const r=cr(n);if(r!==(r&C0))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=cr(n),s=cr(n),o=ln(n);let a=[];for(let d=0;d<o;d++){const p=dn(n,0,qr);a.push(new ye(he.Buffer.from(p)))}const c=dn(n,0,qr),u=ln(n);let l=[];for(let d=0;d<u;d++){const p=cr(n),b=ln(n),y=dn(n,0,b),w=ln(n),A=dn(n,0,w),B=Tt.encode(he.Buffer.from(A));l.push({programIdIndex:p,accounts:y,data:B})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Tt.encode(he.Buffer.from(c)),accountKeys:a,instructions:l};return new br(f)}}class Go{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Qc(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const i=t-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(t>=this.header.numRequiredSignatures){const i=t-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return t<i}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=t.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=Su.compile(t.instructions,t.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=t.addressLookupTableAccounts||[];for(const l of s){const f=n.extractTableLookup(l);if(f!==void 0){const[d,{writable:p,readonly:b}]=f;r.push(d),i.writable.push(...p),i.readonly.push(...b)}}const[o,a]=n.getMessageComponents(),u=new Qc(a,i).compileInstructions(t.instructions);return new Go({header:o,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const t=Array();fn(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();fn(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();fn(s,this.addressTableLookups.length);const o=K.struct([K.u8("prefix"),K.struct([K.u8("numRequiredSignatures"),K.u8("numReadonlySignedAccounts"),K.u8("numReadonlyUnsignedAccounts")],"header"),K.blob(t.length,"staticAccountKeysLength"),K.seq(Ce(),this.staticAccountKeys.length,"staticAccountKeys"),Ce("recentBlockhash"),K.blob(r.length,"instructionsLength"),K.blob(n.length,"serializedInstructions"),K.blob(s.length,"addressTableLookupsLength"),K.blob(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(vs),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Tt.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let t=0;const n=new Uint8Array(vs);for(const r of this.compiledInstructions){const i=Array();fn(i,r.accountKeyIndexes.length);const s=Array();fn(s,r.data.length);const o=K.struct([K.u8("programIdIndex"),K.blob(i.length,"encodedAccountKeyIndexesLength"),K.seq(K.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),K.blob(s.length,"encodedDataLength"),K.blob(r.data.length,"data")]);t+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(vs);for(const r of this.addressTableLookups){const i=Array();fn(i,r.writableIndexes.length);const s=Array();fn(s,r.readonlyIndexes.length);const o=K.struct([Ce("accountKey"),K.blob(i.length,"encodedWritableIndexesLength"),K.seq(K.u8(),r.writableIndexes.length,"writableIndexes"),K.blob(s.length,"encodedReadonlyIndexesLength"),K.seq(K.u8(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=cr(n),i=r&C0;Ke(r!==i,"Expected versioned message but received legacy message");const s=i;Ke(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:cr(n),numReadonlySignedAccounts:cr(n),numReadonlyUnsignedAccounts:cr(n)},a=[],c=ln(n);for(let b=0;b<c;b++)a.push(new ye(dn(n,0,qr)));const u=Tt.encode(dn(n,0,qr)),l=ln(n),f=[];for(let b=0;b<l;b++){const y=cr(n),w=ln(n),A=dn(n,0,w),B=ln(n),_=new Uint8Array(dn(n,0,B));f.push({programIdIndex:y,accountKeyIndexes:A,data:_})}const d=ln(n),p=[];for(let b=0;b<d;b++){const y=new ye(dn(n,0,qr)),w=ln(n),A=dn(n,0,w),B=ln(n),_=dn(n,0,B);p.push({accountKey:y,writableIndexes:A,readonlyIndexes:_})}return new Go({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:f,addressTableLookups:p})}}const B0={deserializeMessageVersion(e){const t=e[0],n=t&C0;return n===t?"legacy":n},deserialize:e=>{const t=B0.deserializeMessageVersion(e);if(t==="legacy")return br.from(e);if(t===0)return Go.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let Br=(function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e})({});const HC=he.Buffer.alloc(Jc).fill(0);class Hg{constructor(t){this.keys=void 0,this.programId=void 0,this.data=he.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Bn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Hg(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<n.length;y++)if(n[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],s=[];n.forEach(y=>{y.keys.forEach(A=>{s.push({...A})});const w=y.programId.toString();i.includes(w)||i.push(w)}),i.forEach(y=>{s.push({pubkey:new ye(y),isSigner:!1,isWritable:!1})});const o=[];s.forEach(y=>{const w=y.pubkey.toString(),A=o.findIndex(B=>B.pubkey.toString()===w);A>-1?(o[A].isWritable=o[A].isWritable||y.isWritable,o[A].isSigner=o[A].isSigner||y.isSigner):o.push(y)}),o.sort(function(y,w){if(y.isSigner!==w.isSigner)return y.isSigner?-1:1;if(y.isWritable!==w.isWritable)return y.isWritable?-1:1;const A={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(w.pubkey.toBase58(),"en",A)});const a=o.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=o.splice(a,1);y.isSigner=!0,y.isWritable=!0,o.unshift(y)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const w=o.findIndex(A=>A.pubkey.equals(y.publicKey));if(w>-1)o[w].isSigner||(o[w].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,u=0,l=0;const f=[],d=[];o.forEach(({pubkey:y,isSigner:w,isWritable:A})=>{w?(f.push(y.toString()),c+=1,A||(u+=1)):(d.push(y.toString()),A||(l+=1))});const p=f.concat(d),b=n.map(y=>{const{data:w,programId:A}=y;return{programIdIndex:p.indexOf(A.toString()),accounts:y.keys.map(B=>p.indexOf(B.pubkey.toString())),data:Tt.encode(w)}});return b.forEach(y=>{Ke(y.programIdIndex>=0),y.accounts.forEach(w=>Ke(w>=0))}),new br({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:p,recentBlockhash:t,instructions:b})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of t){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of t){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(i=>{const s=Jv(r,i.secretKey);this._addSignature(i.publicKey,Ms(s))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){Ke(n.length===64);const r=this.signatures.findIndex(i=>t.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=he.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?n&&(r.missing||=[]).push(s):kC(i,t,s.toBytes())||(r.invalid||=[]).push(s);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,n);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(t){const{signatures:n}=this,r=[];fn(r,n.length);const i=r.length+n.length*64+t.length,s=he.Buffer.alloc(i);return Ke(n.length<256),he.Buffer.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&(Ke(o.length===64,"signature has invalid length"),he.Buffer.from(o).copy(s,r.length+a*64))}),t.copy(s,r.length+n.length*64),Ke(s.length<=vs,`Transaction too large: ${s.length} > ${vs}`),s}get keys(){return Ke(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Ke(this.instructions.length===1),this.instructions[0].programId}get data(){return Ke(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=ln(n);let i=[];for(let s=0;s<r;s++){const o=dn(n,0,Jc);i.push(Tt.encode(he.Buffer.from(o)))}return Bn.populate(br.from(n),i)}static populate(t,n=[]){const r=new Bn;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==Tt.encode(HC)?null:Tt.decode(i),publicKey:t.accountKeys[s]};r.signatures.push(o)}),t.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=t.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||t.isAccountSigner(o),isWritable:t.isAccountWritable(o)}});r.instructions.push(new Hg({keys:s,programId:t.accountKeys[i.programIdIndex],data:Tt.decode(i.data)}))}),r._message=t,r._json=r.toJSON(),r}}class Zo{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)Ke(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<t.header.numRequiredSignatures;i++)r.push(new Uint8Array(Jc));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),n=Array();fn(n,this.signatures.length);const r=K.struct([K.blob(n.length,"encodedSignaturesLength"),K.seq(UC(),this.signatures.length,"signatures"),K.blob(t.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},i);return i.slice(0,s)}static deserialize(t){let n=[...t];const r=[],i=ln(n);for(let o=0;o<i;o++)r.push(new Uint8Array(dn(n,0,Jc)));const s=B0.deserialize(new Uint8Array(n));return new Zo(s,r)}sign(t){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of t){const s=r.findIndex(o=>o.equals(i.publicKey));Ke(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=Jv(n,i.secretKey)}}addSignature(t,n){Ke(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(t));Ke(i>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}const KC=160,VC=64,GC=KC/VC,ZC=1e3/GC;new ye("SysvarC1ock11111111111111111111111111111111");new ye("SysvarEpochSchedu1e111111111111111111111111");new ye("Sysvar1nstructions1111111111111111111111111");new ye("SysvarRecentB1ockHashes11111111111111111111");new ye("SysvarRent111111111111111111111111111111111");new ye("SysvarRewards111111111111111111111111111111");new ye("SysvarS1otHashes111111111111111111111111111");new ye("SysvarS1otHistory11111111111111111111111111");new ye("SysvarStakeHistory1111111111111111111111111");class Kg extends Error{constructor({action:t,signature:n,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(c=>c)(t)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{t.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,n(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class de extends Error{constructor({code:t,message:n,data:r},i){super(i!=null?`${i}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}function ss(e){return new Promise(t=>setTimeout(t,e))}const YC=K.nu64("lamportsPerSignature"),n6=K.struct([K.u32("version"),K.u32("state"),Ce("authorizedPubkey"),Ce("nonce"),K.struct([YC],"feeCalculator")]);n6.span;class M0{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=n6.decode(Ms(t),0);return new M0({authorizedPubkey:new ye(n.authorizedPubkey),nonce:new ye(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Rs(e){const t=K.blob(8,e),n=t.decode.bind(t),r=t.encode.bind(t),i=t,s=pE();return i.decode=(o,a)=>{const c=n(o,a);return s.decode(c)},i.encode=(o,a,c)=>{const u=s.encode(o);return r(u,a,c)},i}Object.freeze({Create:{index:0,layout:K.struct([K.u32("instruction"),K.ns64("lamports"),K.ns64("space"),Ce("programId")])},Assign:{index:1,layout:K.struct([K.u32("instruction"),Ce("programId")])},Transfer:{index:2,layout:K.struct([K.u32("instruction"),Rs("lamports")])},CreateWithSeed:{index:3,layout:K.struct([K.u32("instruction"),Ce("base"),gs("seed"),K.ns64("lamports"),K.ns64("space"),Ce("programId")])},AdvanceNonceAccount:{index:4,layout:K.struct([K.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:K.struct([K.u32("instruction"),K.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:K.struct([K.u32("instruction"),Ce("authorized")])},AuthorizeNonceAccount:{index:7,layout:K.struct([K.u32("instruction"),Ce("authorized")])},Allocate:{index:8,layout:K.struct([K.u32("instruction"),K.ns64("space")])},AllocateWithSeed:{index:9,layout:K.struct([K.u32("instruction"),Ce("base"),gs("seed"),K.ns64("space"),Ce("programId")])},AssignWithSeed:{index:10,layout:K.struct([K.u32("instruction"),Ce("base"),gs("seed"),Ce("programId")])},TransferWithSeed:{index:11,layout:K.struct([K.u32("instruction"),Rs("lamports"),gs("seed"),Ce("programId")])},UpgradeNonceAccount:{index:12,layout:K.struct([K.u32("instruction")])}});new ye("11111111111111111111111111111111");new ye("BPFLoader2111111111111111111111111111111111");function JC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vl,Vg;function QC(){if(Vg)return Vl;Vg=1;var e=Object.prototype.toString,t=Object.keys||function(r){var i=[];for(var s in r)i.push(s);return i};function n(r,i){var s,o,a,c,u,l,f;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),i);if(f=e.call(r),f==="[object Array]"){for(a="[",o=r.length-1,s=0;s<o;s++)a+=n(r[s],!0)+",";return o>-1&&(a+=n(r[s],!0)),a+"]"}else if(f==="[object Object]"){for(c=t(r).sort(),o=c.length,a="",s=0;s<o;)u=c[s],l=n(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),s++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Vl=function(r){var i=n(r,!1);if(i!==void 0)return""+i},Vl}var XC=QC(),Gg=JC(XC);const Ws=32;function Gl(e){let t=0;for(;e>1;)e/=2,t++;return t}function eB(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}class tB{constructor(t,n,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=Gl(eB(t+Ws+1))-Gl(Ws)-1,r=this.getSlotsInEpoch(n),i=t-(r-Ws);return[n,i]}else{const n=t-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=n%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*Ws:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Gl(Ws)):this.slotsPerEpoch}}var nB=globalThis.fetch;class rB extends JE{constructor(t,n,r){const i=s=>{const o=ZE(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,t,n,r),this.underlyingSocket=void 0}call(...t){const n=this.underlyingSocket?.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){const n=this.underlyingSocket?.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function iB(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}const Zg=56;class Yg{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=iB(sB,t),r=t.length-Zg;Ke(r>=0,"lookup table is invalid"),Ke(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=K.struct([K.seq(Ce(),i,"addresses")]).decode(t.slice(Zg));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new ye(n.authority[0]):void 0,addresses:s.map(o=>new ye(o))}}}const sB={index:1,layout:K.struct([K.u32("typeIndex"),Rs("deactivationSlot"),K.nu64("lastExtendedSlot"),K.u8("lastExtendedStartIndex"),K.u8(),K.seq(Ce(),K.offset(K.u8(),-1),"authority")])},oB=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function aB(e){const t=e.match(oB);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,s]=t,o=e.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${s}`}const Je=ua(Dh(ye),se(),e=>new ye(e)),r6=$h([se(),Ye("base64")]),R0=ua(Dh(he.Buffer),r6,e=>he.Buffer.from(e[0],"base64")),cB=30*1e3;function uB(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function Ue(e){let t,n;if(typeof e=="string")t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function Jg(e){return e.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function i6(e){return Jt([ne({jsonrpc:Ye("2.0"),id:se(),result:e}),ne({jsonrpc:Ye("2.0"),id:se(),error:ne({code:Ts(),message:se(),data:ge(EE())})})])}const lB=i6(Ts());function Ie(e){return ua(i6(e),lB,t=>"error"in t?t:{...t,result:ae(t.result,e)})}function tt(e){return Ie(ne({context:ne({slot:J()}),value:e}))}function Au(e){return ne({context:ne({slot:J()}),value:e})}function Zl(e,t){return e===0?new Go({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new ye(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Tt.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new br(t)}const fB=ne({foundation:J(),foundationTerm:J(),initial:J(),taper:J(),terminal:J()}),dB=Ie(ce(ue(ne({epoch:J(),effectiveSlot:J(),amount:J(),postBalance:J(),commission:ge(ue(J()))})))),hB=ce(ne({slot:J(),prioritizationFee:J()})),pB=ne({total:J(),validator:J(),foundation:J(),epoch:J()}),gB=ne({epoch:J(),slotIndex:J(),slotsInEpoch:J(),absoluteSlot:J(),blockHeight:ge(J()),transactionCount:ge(J())}),yB=ne({slotsPerEpoch:J(),leaderScheduleSlotOffset:J(),warmup:zn(),firstNormalEpoch:J(),firstNormalSlot:J()}),mB=cb(se(),ce(J())),Ui=ue(Jt([ne({}),se()])),bB=ne({err:Ui}),wB=Ye("receivedSignature"),vB=ne({"solana-core":se(),"feature-set":ge(J())}),EB=ne({program:se(),programId:Je,parsed:Ts()}),xB=ne({programId:Je,accounts:ce(Je),data:se()}),Qg=tt(ne({err:ue(Jt([ne({}),se()])),logs:ue(ce(se())),accounts:ge(ue(ce(ue(ne({executable:zn(),owner:se(),lamports:J(),data:ce(se()),rentEpoch:ge(J())}))))),unitsConsumed:ge(J()),returnData:ge(ue(ne({programId:se(),data:$h([se(),Ye("base64")])}))),innerInstructions:ge(ue(ce(ne({index:J(),instructions:ce(Jt([EB,xB]))}))))})),_B=tt(ne({byIdentity:cb(se(),ce(J())),range:ne({firstSlot:J(),lastSlot:J()})}));function SB(e,t,n,r,i,s){const o=n||nB;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,f)=>{const d=await new Promise((p,b)=>{try{r(l,f,(y,w)=>p([y,w]))}catch(y){b(y)}});return await o(...d)}),new HE(async(l,f)=>{const d={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},SM)};try{let p=5,b,y=500;for(;c?b=await c(e,d):b=await o(e,d),!(b.status!==429||i===!0||(p-=1,p===0));)console.error(`Server responded with ${b.status} ${b.statusText}.  Retrying after ${y}ms delay...`),await ss(y),y*=2;const w=await b.text();b.ok?f(null,w):f(new Error(`${b.status} ${b.statusText}: ${w}`))}catch(p){p instanceof Error&&f(p)}},{})}function AB(e){return(t,n)=>new Promise((r,i)=>{e.request(t,n,(s,o)=>{if(s){i(s);return}r(o)})})}function IB(e){return t=>new Promise((n,r)=>{t.length===0&&n([]);const i=t.map(s=>e.request(s.methodName,s.args));e.request(i,(s,o)=>{if(s){r(s);return}n(o)})})}const CB=Ie(fB),BB=Ie(pB),MB=Ie(hB),RB=Ie(gB),PB=Ie(yB),OB=Ie(mB),TB=Ie(J()),DB=tt(ne({total:J(),circulating:J(),nonCirculating:J(),nonCirculatingAccounts:ce(Je)})),Kd=ne({amount:se(),uiAmount:ue(J()),decimals:J(),uiAmountString:ge(se())}),$B=tt(ce(ne({address:Je,amount:se(),uiAmount:ue(J()),decimals:J(),uiAmountString:ge(se())}))),kB=tt(ce(ne({pubkey:Je,account:ne({executable:zn(),owner:Je,lamports:J(),data:R0,rentEpoch:J()})}))),Vd=ne({program:se(),parsed:Ts(),space:J()}),LB=tt(ce(ne({pubkey:Je,account:ne({executable:zn(),owner:Je,lamports:J(),data:Vd,rentEpoch:J()})}))),NB=tt(ce(ne({lamports:J(),address:Je}))),Yo=ne({executable:zn(),owner:Je,lamports:J(),data:R0,rentEpoch:J()}),FB=ne({pubkey:Je,account:Yo}),UB=ua(Jt([Dh(he.Buffer),Vd]),Jt([r6,Vd]),e=>Array.isArray(e)?ae(e,R0):e),Gd=ne({executable:zn(),owner:Je,lamports:J(),data:UB,rentEpoch:J()}),zB=ne({pubkey:Je,account:Gd}),jB=ne({state:Jt([Ye("active"),Ye("inactive"),Ye("activating"),Ye("deactivating")]),active:J(),inactive:J()}),WB=Ie(ce(ne({signature:se(),slot:J(),err:Ui,memo:ue(se()),blockTime:ge(ue(J()))}))),qB=Ie(ce(ne({signature:se(),slot:J(),err:Ui,memo:ue(se()),blockTime:ge(ue(J()))}))),HB=ne({subscription:J(),result:Au(Yo)}),KB=ne({pubkey:Je,account:Yo}),VB=ne({subscription:J(),result:Au(KB)}),GB=ne({parent:J(),slot:J(),root:J()}),ZB=ne({subscription:J(),result:GB}),YB=Jt([ne({type:Jt([Ye("firstShredReceived"),Ye("completed"),Ye("optimisticConfirmation"),Ye("root")]),slot:J(),timestamp:J()}),ne({type:Ye("createdBank"),parent:J(),slot:J(),timestamp:J()}),ne({type:Ye("frozen"),slot:J(),timestamp:J(),stats:ne({numTransactionEntries:J(),numSuccessfulTransactions:J(),numFailedTransactions:J(),maxTransactionsPerEntry:J()})}),ne({type:Ye("dead"),slot:J(),timestamp:J(),err:se()})]),JB=ne({subscription:J(),result:YB}),QB=ne({subscription:J(),result:Au(Jt([bB,wB]))}),XB=ne({subscription:J(),result:J()}),eM=ne({pubkey:se(),gossip:ue(se()),tpu:ue(se()),rpc:ue(se()),version:ue(se())}),Xg=ne({votePubkey:se(),nodePubkey:se(),activatedStake:J(),epochVoteAccount:zn(),epochCredits:ce($h([J(),J(),J()])),commission:J(),lastVote:J(),rootSlot:ue(J())}),tM=Ie(ne({current:ce(Xg),delinquent:ce(Xg)})),nM=Jt([Ye("processed"),Ye("confirmed"),Ye("finalized")]),rM=ne({slot:J(),confirmations:ue(J()),err:Ui,confirmationStatus:ge(nM)}),iM=tt(ce(ue(rM))),sM=Ie(J()),s6=ne({accountKey:Je,writableIndexes:ce(J()),readonlyIndexes:ce(J())}),P0=ne({signatures:ce(se()),message:ne({accountKeys:ce(se()),header:ne({numRequiredSignatures:J(),numReadonlySignedAccounts:J(),numReadonlyUnsignedAccounts:J()}),instructions:ce(ne({accounts:ce(J()),data:se(),programIdIndex:J()})),recentBlockhash:se(),addressTableLookups:ge(ce(s6))})}),o6=ne({pubkey:Je,signer:zn(),writable:zn(),source:ge(Jt([Ye("transaction"),Ye("lookupTable")]))}),a6=ne({accountKeys:ce(o6),signatures:ce(se())}),c6=ne({parsed:Ts(),program:se(),programId:Je}),u6=ne({accounts:ce(Je),data:se(),programId:Je}),oM=Jt([u6,c6]),aM=Jt([ne({parsed:Ts(),program:se(),programId:se()}),ne({accounts:ce(se()),data:se(),programId:se()})]),l6=ua(oM,aM,e=>"accounts"in e?ae(e,u6):ae(e,c6)),f6=ne({signatures:ce(se()),message:ne({accountKeys:ce(o6),instructions:ce(l6),recentBlockhash:se(),addressTableLookups:ge(ue(ce(s6)))})}),Xc=ne({accountIndex:J(),mint:se(),owner:ge(se()),programId:ge(se()),uiTokenAmount:Kd}),d6=ne({writable:ce(Je),readonly:ce(Je)}),Iu=ne({err:Ui,fee:J(),innerInstructions:ge(ue(ce(ne({index:J(),instructions:ce(ne({accounts:ce(J()),data:se(),programIdIndex:J()}))})))),preBalances:ce(J()),postBalances:ce(J()),logMessages:ge(ue(ce(se()))),preTokenBalances:ge(ue(ce(Xc))),postTokenBalances:ge(ue(ce(Xc))),loadedAddresses:ge(d6),computeUnitsConsumed:ge(J())}),O0=ne({err:Ui,fee:J(),innerInstructions:ge(ue(ce(ne({index:J(),instructions:ce(l6)})))),preBalances:ce(J()),postBalances:ce(J()),logMessages:ge(ue(ce(se()))),preTokenBalances:ge(ue(ce(Xc))),postTokenBalances:ge(ue(ce(Xc))),loadedAddresses:ge(d6),computeUnitsConsumed:ge(J())}),Ns=Jt([Ye(0),Ye("legacy")]),zi=ne({pubkey:se(),lamports:J(),postBalance:ue(J()),rewardType:ue(se()),commission:ge(ue(J()))}),cM=Ie(ue(ne({blockhash:se(),previousBlockhash:se(),parentSlot:J(),transactions:ce(ne({transaction:P0,meta:ue(Iu),version:ge(Ns)})),rewards:ge(ce(zi)),blockTime:ue(J()),blockHeight:ue(J())}))),uM=Ie(ue(ne({blockhash:se(),previousBlockhash:se(),parentSlot:J(),rewards:ge(ce(zi)),blockTime:ue(J()),blockHeight:ue(J())}))),lM=Ie(ue(ne({blockhash:se(),previousBlockhash:se(),parentSlot:J(),transactions:ce(ne({transaction:a6,meta:ue(Iu),version:ge(Ns)})),rewards:ge(ce(zi)),blockTime:ue(J()),blockHeight:ue(J())}))),fM=Ie(ue(ne({blockhash:se(),previousBlockhash:se(),parentSlot:J(),transactions:ce(ne({transaction:f6,meta:ue(O0),version:ge(Ns)})),rewards:ge(ce(zi)),blockTime:ue(J()),blockHeight:ue(J())}))),dM=Ie(ue(ne({blockhash:se(),previousBlockhash:se(),parentSlot:J(),transactions:ce(ne({transaction:a6,meta:ue(O0),version:ge(Ns)})),rewards:ge(ce(zi)),blockTime:ue(J()),blockHeight:ue(J())}))),hM=Ie(ue(ne({blockhash:se(),previousBlockhash:se(),parentSlot:J(),rewards:ge(ce(zi)),blockTime:ue(J()),blockHeight:ue(J())}))),pM=Ie(ue(ne({blockhash:se(),previousBlockhash:se(),parentSlot:J(),transactions:ce(ne({transaction:P0,meta:ue(Iu)})),rewards:ge(ce(zi)),blockTime:ue(J())}))),e1=Ie(ue(ne({blockhash:se(),previousBlockhash:se(),parentSlot:J(),signatures:ce(se()),blockTime:ue(J())}))),Yl=Ie(ue(ne({slot:J(),meta:ue(Iu),blockTime:ge(ue(J())),transaction:P0,version:ge(Ns)}))),Ka=Ie(ue(ne({slot:J(),transaction:f6,meta:ue(O0),blockTime:ge(ue(J())),version:ge(Ns)}))),gM=tt(ne({blockhash:se(),lastValidBlockHeight:J()})),yM=tt(zn()),mM=ne({slot:J(),numTransactions:J(),numSlots:J(),samplePeriodSecs:J()}),bM=Ie(ce(mM)),wM=tt(ue(ne({feeCalculator:ne({lamportsPerSignature:J()})}))),vM=Ie(se()),EM=Ie(se()),xM=ne({err:Ui,logs:ce(se()),signature:se()}),_M=ne({result:Au(xM),subscription:J()}),SM={"solana-client":"js/1.0.0-maintenance"};class AM{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:f,config:d}=Ue(l),p=this._buildArgs([],f,void 0,d),b=Gg(p);return u[b]=u[b]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",p),w=ae(y,Ie(J()));if("error"in w)throw new de(w.error,"failed to get block height information");return w.result}finally{delete u[b]}})(),await u[b]}})();let r,i,s,o,a,c;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,i=n.httpHeaders,s=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,c=n.httpAgent),this._rpcEndpoint=uB(t),this._rpcWsEndpoint=r||aB(t),this._rpcClient=SB(t,i,s,o,a,c),this._rpcRequest=AB(this._rpcClient),this._rpcBatchRequest=IB(this._rpcClient),this._rpcWebSocket=new rB(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:r,config:i}=Ue(n),s=this._buildArgs([t.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=ae(o,tt(J()));if("error"in a)throw new de(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),r=ae(n,Ie(ue(J())));if("error"in r)throw new de(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=ae(t,Ie(J()));if("error"in n)throw new de(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=ae(t,TB);if("error"in n)throw new de(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),i=ae(r,DB);if("error"in i)throw new de(i.error,"failed to get supply");return i.result}async getTokenSupply(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenSupply",r),s=ae(i,tt(Kd));if("error"in s)throw new de(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenAccountBalance",r),s=ae(i,tt(Kd));if("error"in s)throw new de(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(t,n,r){const{commitment:i,config:s}=Ue(r);let o=[t.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=ae(c,kB);if("error"in u)throw new de(u.error,`failed to get token accounts owned by account ${t.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(t,n,r){let i=[t.toBase58()];"mint"in n?i.push({mint:n.mint.toBase58()}):i.push({programId:n.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=ae(o,LB);if("error"in a)throw new de(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],i=await this._rpcRequest("getLargestAccounts",r),s=ae(i,NB);if("error"in s)throw new de(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(t,n){const r=this._buildArgs([t.toBase58()],n),i=await this._rpcRequest("getTokenLargestAccounts",r),s=ae(i,$B);if("error"in s)throw new de(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(t,n){const{commitment:r,config:i}=Ue(n),s=this._buildArgs([t.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=ae(o,tt(ue(Yo)));if("error"in a)throw new de(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,n){const{commitment:r,config:i}=Ue(n),s=this._buildArgs([t.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=ae(o,tt(ue(Gd)));if("error"in a)throw new de(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,n){const{commitment:r,config:i}=Ue(n),s=t.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=ae(a,tt(ce(ue(Gd))));if("error"in c)throw new de(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:r,config:i}=Ue(n),s=t.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=ae(a,tt(ce(ue(Yo))));if("error"in c)throw new de(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,r){const{commitment:i,config:s}=Ue(n),o=this._buildArgs([t.toBase58()],i,void 0,{...s,epoch:r??s?.epoch}),a=await this._rpcRequest("getStakeActivation",o),c=ae(a,Ie(jB));if("error"in c)throw new de(c.error,`failed to get Stake Activation ${t.toBase58()}`);return c.result}async getProgramAccounts(t,n){const{commitment:r,config:i}=Ue(n),{encoding:s,...o}=i||{},a=this._buildArgs([t.toBase58()],r,s||"base64",{...o,...o.filters?{filters:Jg(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=ce(FB),l=o.withContext===!0?ae(c,tt(u)):ae(c,Ie(u));if("error"in l)throw new de(l.error,`failed to get accounts owned by program ${t.toBase58()}`);return l.result}async getParsedProgramAccounts(t,n){const{commitment:r,config:i}=Ue(n),s=this._buildArgs([t.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=ae(o,Ie(ce(zB)));if("error"in a)throw new de(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,n){let r;if(typeof t=="string")r=t;else{const s=t;if(s.abortSignal?.aborted)return Promise.reject(s.abortSignal.reason);r=s.signature}let i;try{i=Tt.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Ke(i.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let r,i,s=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(n,(f,d)=>{r=void 0;const p={context:d,value:f};c({__type:Br.PROCESSED,response:p})},t);const l=new Promise(f=>{r==null?f():i=this._onSubscriptionStateChange(r,d=>{d==="subscribed"&&f()})});(async()=>{if(await l,s)return;const f=await this.getSignatureStatus(n);if(s||f==null)return;const{context:d,value:p}=f;if(p!=null)if(p?.err)u(p.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:Br.PROCESSED,response:{context:d,value:p}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(f=>{const d=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let p=await d();if(!s){for(;p<=r;)if(await ss(1e3),s||(p=await d(),s))return;f({__type:Br.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),u=this.getCancellationPromise(n);let l;try{const f=await Promise.race([u,c,o]);if(f.__type===Br.PROCESSED)l=f.response;else throw new Xv(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(p=>{let b=s,y=null;const w=async()=>{try{const{context:A,value:B}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:r});return y=A.slot,B?.nonce}catch{return b}};(async()=>{if(b=await w(),!a)for(;;){if(s!==b){p({__type:Br.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await ss(2e3),a||(b=await w(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),f=this.getCancellationPromise(n);let d;try{const p=await Promise.race([f,l,c]);if(p.__type===Br.PROCESSED)d=p.response;else{let b;for(;;){const y=await this.getSignatureStatus(o);if(y==null)break;if(y.context.slot<(p.slotInWhichNonceDidAdvance??r)){await ss(400);continue}b=y;break}if(b?.value){const y=t||"finalized",{confirmationStatus:w}=b.value;switch(y){case"processed":case"recent":if(w!=="processed"&&w!=="confirmed"&&w!=="finalized")throw new ro(o);break;case"confirmed":case"single":case"singleGossip":if(w!=="confirmed"&&w!=="finalized")throw new ro(o);break;case"finalized":case"max":case"root":if(w!=="finalized")throw new ro(o);break;default:}d={context:b.context,value:{err:b.value.err}}}else throw new ro(o)}}finally{a=!0,u()}return d}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let r;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:Br.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let a;try{const c=await Promise.race([o,i]);if(c.__type===Br.PROCESSED)a=c.response;else throw new e6(n,c.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=ae(t,Ie(ce(eM)));if("error"in n)throw new de(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",n),i=ae(r,tM);if("error"in i)throw new de(i.error,"failed to get vote accounts");return i.result}async getSlot(t){const{commitment:n,config:r}=Ue(t),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlot",i),o=ae(s,Ie(J()));if("error"in o)throw new de(o.error,"failed to get slot");return o.result}async getSlotLeader(t){const{commitment:n,config:r}=Ue(t),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=ae(s,Ie(se()));if("error"in o)throw new de(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(t,n){const r=[t,n],i=await this._rpcRequest("getSlotLeaders",r),s=ae(i,Ie(ce(Je)));if("error"in s)throw new de(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(t,n){const{context:r,value:i}=await this.getSignatureStatuses([t],n);Ke(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(t,n){const r=[t];n&&r.push(n);const i=await this._rpcRequest("getSignatureStatuses",r),s=ae(i,iM);if("error"in s)throw new de(s.error,"failed to get signature status");return s.result}async getTransactionCount(t){const{commitment:n,config:r}=Ue(t),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=ae(s,Ie(J()));if("error"in o)throw new de(o.error,"failed to get transaction count");return o.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",n),i=ae(r,CB);if("error"in i)throw new de(i.error,"failed to get inflation");return i.result}async getInflationReward(t,n,r){const{commitment:i,config:s}=Ue(r),o=this._buildArgs([t.map(u=>u.toBase58())],i,void 0,{...s,epoch:n??s?.epoch}),a=await this._rpcRequest("getInflationReward",o),c=ae(a,dB);if("error"in c)throw new de(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=ae(t,BB);if("error"in n)throw new de(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:r}=Ue(t),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=ae(s,RB);if("error"in o)throw new de(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=ae(t,PB);if("error"in n)throw new de(n.error,"failed to get epoch schedule");const r=n.result;return new tB(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=ae(t,OB);if("error"in n)throw new de(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=ae(i,sM);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(t){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=ae(n,bM);if("error"in r)throw new de(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,n){const r=this._buildArgs([t],n),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=ae(i,wM);if("error"in s)throw new de(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,n){const r=Ms(t.serialize()).toString("base64"),i=this._buildArgs([r],n),s=await this._rpcRequest("getFeeForMessage",i),o=ae(s,tt(ue(J())));if("error"in o)throw new de(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(t){const n=t?.lockedWritableAccounts?.map(o=>o.toBase58()),r=n?.length?[n]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=ae(i,MB);if("error"in s)throw new de(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:r}=Ue(t),i=this._buildArgs([],n,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=ae(s,gM);if("error"in o)throw new de(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(t,n){const{commitment:r,config:i}=Ue(n),s=this._buildArgs([t],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=ae(o,yM);if("error"in a)throw new de(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=ae(t,Ie(vB));if("error"in n)throw new de(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=ae(t,Ie(se()));if("error"in n)throw new de(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:r,config:i}=Ue(n),s=this._buildArgsAtLeastConfirmed([t],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const a=ae(o,lM);if("error"in a)throw a.error;return a.result}case"none":{const a=ae(o,uM);if("error"in a)throw a.error;return a.result}default:{const a=ae(o,cM);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:f})=>({meta:l,transaction:{...u,message:Zl(f,u.message)},version:f}))}:null}}}catch(a){throw new de(a,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:r,config:i}=Ue(n),s=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i?.transactionDetails){case"accounts":{const a=ae(o,dM);if("error"in a)throw a.error;return a.result}case"none":{const a=ae(o,hM);if("error"in a)throw a.error;return a.result}default:{const a=ae(o,fM);if("error"in a)throw a.error;return a.result}}}catch(a){throw new de(a,"failed to get block")}}async getBlockProduction(t){let n,r;if(typeof t=="string")r=t;else if(t){const{commitment:a,...c}=t;r=a,n=c}const i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getBlockProduction",i),o=ae(s,_B);if("error"in o)throw new de(o.error,"failed to get block production information");return o.result}async getTransaction(t,n){const{commitment:r,config:i}=Ue(n),s=this._buildArgsAtLeastConfirmed([t],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=ae(o,Yl);if("error"in a)throw new de(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:Zl(c.version,c.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:r,config:i}=Ue(n),s=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=ae(o,Ka);if("error"in a)throw new de(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,n){const{commitment:r,config:i}=Ue(n),s=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=ae(c,Ka);if("error"in u)throw new de(u.error,"failed to get transactions");return u.result})}async getTransactions(t,n){const{commitment:r,config:i}=Ue(n),s=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=ae(c,Yl);if("error"in u)throw new de(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:Zl(l.version,l.transaction.message)}}})}async getConfirmedBlock(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getBlock",r),s=ae(i,pM);if("error"in s)throw new de(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+t+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new br(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Bn.populate(c.message,c.signatures)}))}}async getBlocks(t,n,r){const i=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],r),s=await this._rpcRequest("getBlocks",i),o=ae(s,Ie(ce(J())));if("error"in o)throw new de(o.error,"failed to get blocks");return o.result}async getBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=ae(i,e1);if("error"in s)throw new de(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+t+" not found");return o}async getConfirmedBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=ae(i,e1);if("error"in s)throw new de(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+t+" not found");return o}async getConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),i=await this._rpcRequest("getTransaction",r),s=ae(i,Yl);if("error"in s)throw new de(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new br(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Bn.populate(a,c)}}async getParsedConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),i=await this._rpcRequest("getTransaction",r),s=ae(i,Ka);if("error"in s)throw new de(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(t,n){const r=t.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=ae(o,Ka);if("error"in a)throw new de(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,n,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(n--,!(n<=0||n<s));)try{const c=await this.getConfirmedBlockSignatures(n,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(t,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=ae(s,WB);if("error"in o)throw new de(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(t,n,r){const i=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),s=await this._rpcRequest("getSignaturesForAddress",i),o=ae(s,qB);if("error"in o)throw new de(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let s=null;return i!==null&&(s=new Yg({key:t,state:Yg.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(t,n){const{context:r,value:i}=await this.getAccountInfoAndContext(t,n);let s=null;return i!==null&&(s=M0.fromAccountData(i.data)),{context:r,value:s}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,n){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),i=ae(r,vM);if("error"in i)throw new de(i.error,`airdrop to ${t.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await ss(100);const r=Date.now()-this._blockhashInfo.lastFetch>=cB;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await ss(ZC/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:r}=Ue(t),i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=ae(s,tt(J()));if("error"in o)throw new de(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(t,n,r){if("message"in t){const y=t.serialize(),w=he.Buffer.from(y).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const A=n||{};A.encoding="base64","commitment"in A||(A.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(A.innerInstructions=n.innerInstructions);const B=[w,A],_=await this._rpcRequest("simulateTransaction",B),M=ae(_,Qg);if("error"in M)throw new Error("failed to simulate transaction: "+M.error.message);return M.result}let i;if(t instanceof Bn){let b=t;i=new Bn,i.feePayer=b.feePayer,i.instructions=t.instructions,i.nonceInfo=b.nonceInfo,i.signatures=b.signatures}else i=Bn.populate(t),i._message=i._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(i.nonceInfo&&s)i.sign(...s);else{let b=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(b);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const w=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(w)&&!this._blockhashInfo.transactionSignatures.includes(w)){this._blockhashInfo.simulatedSignatures.push(w);break}else b=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const b=(Array.isArray(r)?r:o.nonProgramIds()).map(y=>y.toBase58());l.accounts={encoding:"base64",addresses:b}}s&&(l.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(l.innerInstructions=n.innerInstructions);const f=[u,l],d=await this._rpcRequest("simulateTransaction",f),p=ae(d,Qg);if("error"in p){let b;if("data"in p.error&&(b=p.error.data.logs,b&&Array.isArray(b))){const y=`
    `,w=y+b.join(y);console.error(p.error.message,w)}throw new Kg({action:"simulate",signature:"",transactionMessage:p.error.message,logs:b})}return p.result}async sendTransaction(t,n,r){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=t.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(t.nonceInfo)t.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...i),!t.signature)throw new Error("!signature");const c=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=t.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(t,n){const r=Ms(t).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(t,n){const r={encoding:"base64"},i=n&&n.skipPreflight,s=i===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[t,r],a=await this._rpcRequest("sendTransaction",o),c=ae(a,EM);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new Kg({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(t,n){const r=this._subscriptionsByHash[t]?.state;if(this._subscriptionsByHash[t]=n,r!==n.state){const i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(s=>{try{s(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const i=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return i.add(n),()=>{i.delete(n),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:a}),!n())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(i=>{try{i(...n)}catch(s){console.error(s)}})}_wsOnAccountNotification(t){const{result:n,subscription:r}=ae(t,HB);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(t,n){const r=this._nextClientSubscriptionId++,i=Gg([t.method,n]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:s.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];Ke(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,n,r){const{commitment:i,config:s}=Ue(r),o=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:r}=ae(t,VB);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,r,i){const{commitment:s,config:o}=Ue(r),a=this._buildArgs([t.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:Jg(i)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,r){const i=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:r}=ae(t,_M);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:r}=ae(t,ZB);this._handleServerNotification(r,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:r}=ae(t,JB);this._handleServerNotification(r,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,r,i){const s=n||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),t.push(o)}return t}_buildArgsAtLeastConfirmed(t,n,r,i){const s=n||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,r,i)}_wsOnSignatureNotification(t){const{result:n,subscription:r}=ae(t,QB);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,r){const i=this._buildArgs([t],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(t,n,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([t],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{n(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:r}=ae(t,XB);this._handleServerNotification(r,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:K.struct([K.u32("instruction"),Rs("recentSlot"),K.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:K.struct([K.u32("instruction")])},ExtendLookupTable:{index:2,layout:K.struct([K.u32("instruction"),Rs(),K.seq(Ce(),K.offset(K.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:K.struct([K.u32("instruction")])},CloseLookupTable:{index:4,layout:K.struct([K.u32("instruction")])}});new ye("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:K.struct([K.u8("instruction"),K.u32("units"),K.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:K.struct([K.u8("instruction"),K.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:K.struct([K.u8("instruction"),K.u32("units")])},SetComputeUnitPrice:{index:3,layout:K.struct([K.u8("instruction"),Rs("microLamports")])}});new ye("ComputeBudget111111111111111111111111111111");K.struct([K.u8("numSignatures"),K.u8("padding"),K.u16("signatureOffset"),K.u16("signatureInstructionIndex"),K.u16("publicKeyOffset"),K.u16("publicKeyInstructionIndex"),K.u16("messageDataOffset"),K.u16("messageDataSize"),K.u16("messageInstructionIndex")]);new ye("Ed25519SigVerify111111111111111111111111111");yu.utils.isValidPrivateKey;yu.getPublicKey;K.struct([K.u8("numSignatures"),K.u16("signatureOffset"),K.u8("signatureInstructionIndex"),K.u16("ethAddressOffset"),K.u8("ethAddressInstructionIndex"),K.u16("messageDataOffset"),K.u16("messageDataSize"),K.u8("messageInstructionIndex"),K.blob(20,"ethAddress"),K.blob(64,"signature"),K.u8("recoveryId")]);new ye("KeccakSecp256k11111111111111111111111111111");var h6;new ye("StakeConfig11111111111111111111111111111111");class p6{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}}h6=p6;p6.default=new h6(0,0,ye.default);Object.freeze({Initialize:{index:0,layout:K.struct([K.u32("instruction"),zC(),jC()])},Authorize:{index:1,layout:K.struct([K.u32("instruction"),Ce("newAuthorized"),K.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:K.struct([K.u32("instruction")])},Split:{index:3,layout:K.struct([K.u32("instruction"),K.ns64("lamports")])},Withdraw:{index:4,layout:K.struct([K.u32("instruction"),K.ns64("lamports")])},Deactivate:{index:5,layout:K.struct([K.u32("instruction")])},Merge:{index:7,layout:K.struct([K.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:K.struct([K.u32("instruction"),Ce("newAuthorized"),K.u32("stakeAuthorizationType"),gs("authoritySeed"),Ce("authorityOwner")])}});new ye("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:K.struct([K.u32("instruction"),WC()])},Authorize:{index:1,layout:K.struct([K.u32("instruction"),Ce("newAuthorized"),K.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:K.struct([K.u32("instruction"),K.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:K.struct([K.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:K.struct([K.u32("instruction"),qC()])}});new ye("Vote111111111111111111111111111111111111111");new ye("Va1idator1nfo111111111111111111111111111111");ne({name:se(),website:ge(se()),details:ge(se()),iconUrl:ge(se()),keybaseUsername:ge(se())});new ye("Vote111111111111111111111111111111111111111");K.struct([Ce("nodePubkey"),Ce("authorizedWithdrawer"),K.u8("commission"),K.nu64(),K.seq(K.struct([K.nu64("slot"),K.u32("confirmationCount")]),K.offset(K.u32(),-8),"votes"),K.u8("rootSlotValid"),K.nu64("rootSlot"),K.nu64(),K.seq(K.struct([K.nu64("epoch"),Ce("authorizedVoter")]),K.offset(K.u32(),-8),"authorizedVoters"),K.struct([K.seq(K.struct([Ce("authorizedPubkey"),K.nu64("epochOfLastAuthorizedSwitch"),K.nu64("targetEpoch")]),32,"buf"),K.nu64("idx"),K.u8("isEmpty")],"priorVoters"),K.nu64(),K.seq(K.struct([K.nu64("epoch"),K.nu64("credits"),K.nu64("prevCredits")]),K.offset(K.u32(),-8),"epochCredits"),K.struct([K.nu64("slot"),K.nu64("timestamp")],"lastTimestamp")]);const g6=oe.createContext({});function IM(){return oe.useContext(g6)}const KN=({children:e,endpoint:t,config:n={commitment:"confirmed"}})=>{const r=oe.useMemo(()=>new AM(t,n),[t,n]);return Bh.createElement(g6.Provider,{value:{connection:r}},e)};var Jl={exports:{}},t1;function CM(){return t1||(t1=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,f,d){if(typeof l!="function")throw new TypeError("The listener must be a function");var p=new i(l,f||c,d),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],p]:c._events[b].push(p):(c._events[b]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,f;if(this._eventsCount===0)return u;for(f in l=this._events)t.call(l,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=n?n+u:u,f=this._events[l];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,b=new Array(p);d<p;d++)b[d]=f[d].fn;return b},a.prototype.listenerCount=function(u){var l=n?n+u:u,f=this._events[l];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,l,f,d,p,b){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],A=arguments.length,B,_;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,l),!0;case 3:return w.fn.call(w.context,l,f),!0;case 4:return w.fn.call(w.context,l,f,d),!0;case 5:return w.fn.call(w.context,l,f,d,p),!0;case 6:return w.fn.call(w.context,l,f,d,p,b),!0}for(_=1,B=new Array(A-1);_<A;_++)B[_-1]=arguments[_];w.fn.apply(w.context,B)}else{var M=w.length,I;for(_=0;_<M;_++)switch(w[_].once&&this.removeListener(u,w[_].fn,void 0,!0),A){case 1:w[_].fn.call(w[_].context);break;case 2:w[_].fn.call(w[_].context,l);break;case 3:w[_].fn.call(w[_].context,l,f);break;case 4:w[_].fn.call(w[_].context,l,f,d);break;default:if(!B)for(I=1,B=new Array(A-1);I<A;I++)B[I-1]=arguments[I];w[_].fn.apply(w[_].context,B)}}return!0},a.prototype.on=function(u,l,f){return s(this,u,l,f,!1)},a.prototype.once=function(u,l,f){return s(this,u,l,f,!0)},a.prototype.removeListener=function(u,l,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!l)return o(this,p),this;var b=this._events[p];if(b.fn)b.fn===l&&(!d||b.once)&&(!f||b.context===f)&&o(this,p);else{for(var y=0,w=[],A=b.length;y<A;y++)(b[y].fn!==l||d&&!b[y].once||f&&b[y].context!==f)&&w.push(b[y]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=n?n+u:u,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Jl)),Jl.exports}CM();let T0=class extends Error{constructor(t,n){super(t),this.error=n}},n1=class extends T0{constructor(){super(...arguments),this.name="WalletNotReadyError"}},Va=class extends T0{constructor(){super(...arguments),this.name="WalletNotConnectedError"}};var Ln;(function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"})(Ln||(Ln={}));class r1 extends T0{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const BM=[],Cu={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){An("call","select")},connect(){return Promise.reject(An("call","connect"))},disconnect(){return Promise.reject(An("call","disconnect"))},sendTransaction(){return Promise.reject(An("call","sendTransaction"))},signTransaction(){return Promise.reject(An("call","signTransaction"))},signAllTransactions(){return Promise.reject(An("call","signAllTransactions"))},signMessage(){return Promise.reject(An("call","signMessage"))},signIn(){return Promise.reject(An("call","signIn"))}};Object.defineProperty(Cu,"wallets",{get(){return An("read","wallets"),BM}});Object.defineProperty(Cu,"wallet",{get(){return An("read","wallet"),null}});Object.defineProperty(Cu,"publicKey",{get(){return An("read","publicKey"),null}});function An(e,t){const n=new Error(`You have tried to ${e} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const y6=oe.createContext(Cu);function YN(){return oe.useContext(y6)}function MM(e,t){const n=oe.useState(()=>{try{const s=localStorage.getItem(e);if(s)return JSON.parse(s)}catch(s){typeof window<"u"&&console.error(s)}return t}),r=n[0],i=oe.useRef(!0);return oe.useEffect(()=>{if(i.current){i.current=!1;return}try{r===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(r))}catch(s){typeof window<"u"&&console.error(s)}},[r,e]),n}var Ql={exports:{}},i1;function RM(){return i1||(i1=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,f,d){if(typeof l!="function")throw new TypeError("The listener must be a function");var p=new i(l,f||c,d),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],p]:c._events[b].push(p):(c._events[b]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,f;if(this._eventsCount===0)return u;for(f in l=this._events)t.call(l,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=n?n+u:u,f=this._events[l];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,b=new Array(p);d<p;d++)b[d]=f[d].fn;return b},a.prototype.listenerCount=function(u){var l=n?n+u:u,f=this._events[l];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,l,f,d,p,b){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],A=arguments.length,B,_;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,l),!0;case 3:return w.fn.call(w.context,l,f),!0;case 4:return w.fn.call(w.context,l,f,d),!0;case 5:return w.fn.call(w.context,l,f,d,p),!0;case 6:return w.fn.call(w.context,l,f,d,p,b),!0}for(_=1,B=new Array(A-1);_<A;_++)B[_-1]=arguments[_];w.fn.apply(w.context,B)}else{var M=w.length,I;for(_=0;_<M;_++)switch(w[_].once&&this.removeListener(u,w[_].fn,void 0,!0),A){case 1:w[_].fn.call(w[_].context);break;case 2:w[_].fn.call(w[_].context,l);break;case 3:w[_].fn.call(w[_].context,l,f);break;case 4:w[_].fn.call(w[_].context,l,f,d);break;default:if(!B)for(I=1,B=new Array(A-1);I<A;I++)B[I-1]=arguments[I];w[_].fn.apply(w[_].context,B)}}return!0},a.prototype.on=function(u,l,f){return s(this,u,l,f,!1)},a.prototype.once=function(u,l,f){return s(this,u,l,f,!0)},a.prototype.removeListener=function(u,l,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!l)return o(this,p),this;var b=this._events[p];if(b.fn)b.fn===l&&(!d||b.once)&&(!f||b.context===f)&&o(this,p);else{for(var y=0,w=[],A=b.length;y<A;y++)(b[y].fn!==l||d&&!b[y].once||f&&b[y].context!==f)&&w.push(b[y]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=n?n+u:u,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Ql)),Ql.exports}var PM=RM();const OM=xn(PM);let ji=class extends Error{constructor(t,n){super(t),this.error=n}},m6=class extends ji{constructor(){super(...arguments),this.name="WalletNotReadyError"}},Zd=class extends ji{constructor(){super(...arguments),this.name="WalletConnectionError"}},TM=class extends ji{constructor(){super(...arguments),this.name="WalletPublicKeyError"}},b6=class extends ji{constructor(){super(...arguments),this.name="WalletNotConnectedError"}},io=class extends ji{constructor(){super(...arguments),this.name="WalletSendTransactionError"}},so=class extends ji{constructor(){super(...arguments),this.name="WalletSignTransactionError"}},DM=class extends ji{constructor(){super(...arguments),this.name="WalletSignMessageError"}};var Nn;(function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"})(Nn||(Nn={}));let $M=class extends OM{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,n,r={}){const i=this.publicKey;if(!i)throw new b6;return t.feePayer=t.feePayer||i,t.recentBlockhash=t.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,t}};function s1(e){return"version"in e}let kM=class extends $M{async sendTransaction(t,n,r={}){let i=!0;try{if(s1(t)){if(!this.supportedTransactionVersions)throw new io("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new io(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const s=t.serialize();return await n.sendRawTransaction(s,r)}catch(s){throw s instanceof so?(i=!1,s):new io(s?.message,s)}}else try{const{signers:s,...o}=r;t=await this.prepareTransaction(t,n,o),s?.length&&t.partialSign(...s),t=await this.signTransaction(t);const a=t.serialize();return await n.sendRawTransaction(a,o)}catch(s){throw s instanceof so?(i=!1,s):new io(s?.message,s)}}catch(s){throw i&&this.emit("error",s),s}}async signAllTransactions(t){for(const r of t)if(s1(r)){if(!this.supportedTransactionVersions)throw new so("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new so(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of t)n.push(await this.signTransaction(r));return n}},LM=class extends kM{};class NM extends LM{}var ts={},Xl,o1;function FM(){return o1||(o1=1,Xl=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Xl}var ef={},Mr={},a1;function Wi(){if(a1)return Mr;a1=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Mr.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Mr.getSymbolTotalCodewords=function(r){return t[r]},Mr.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Mr.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},Mr.isKanjiModeEnabled=function(){return typeof e<"u"},Mr.toSJIS=function(r){return e(r)},Mr}var tf={},c1;function D0(){return c1||(c1=1,(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}})(tf)),tf}var nf,u1;function UM(){if(u1)return nf;u1=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},nf=e,nf}var rf,l1;function zM(){if(l1)return rf;l1=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,i){const s=t*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},rf=e,rf}var sf={},f1;function jM(){return f1||(f1=1,(function(e){const t=Wi().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=t(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},e.getPositions=function(r){const i=[],s=e.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(sf)),sf}var of={},d1;function WM(){if(d1)return of;d1=1;const e=Wi().getSymbolSize,t=7;return of.getPositions=function(r){const i=e(r);return[[0,0],[i-t,0],[0,i-t]]},of}var af={},h1;function qM(){return h1||(h1=1,(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,u=null,l=null;for(let f=0;f<s;f++){a=c=0,u=l=null;for(let d=0;d<s;d++){let p=i.get(f,d);p===u?a++:(a>=5&&(o+=t.N1+(a-5)),u=p,a=1),p=i.get(d,f),p===l?c++:(c>=5&&(o+=t.N1+(c-5)),l=p,c=1)}a>=5&&(o+=t.N1+(a-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const u=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(u===4||u===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let u=0;u<s;u++){a=c=0;for(let l=0;l<s;l++)a=a<<1&2047|i.get(u,l),l>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(l,u),l>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*t.N4};function n(r,i,s){switch(r){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,n(i,c,a))},e.getBestMask=function(i,s){const o=Object.keys(e.Patterns).length;let a=0,c=1/0;for(let u=0;u<o;u++){s(u),e.applyMask(u,i);const l=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(u,i),l<c&&(c=l,a=u)}return a}})(af)),af}var Ga={},p1;function w6(){if(p1)return Ga;p1=1;const e=D0(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Ga.getBlocksCount=function(i,s){switch(s){case e.L:return t[(i-1)*4+0];case e.M:return t[(i-1)*4+1];case e.Q:return t[(i-1)*4+2];case e.H:return t[(i-1)*4+3];default:return}},Ga.getTotalCodewordsCount=function(i,s){switch(s){case e.L:return n[(i-1)*4+0];case e.M:return n[(i-1)*4+1];case e.Q:return n[(i-1)*4+2];case e.H:return n[(i-1)*4+3];default:return}},Ga}var cf={},qs={},g1;function HM(){if(g1)return qs;g1=1;const e=new Uint8Array(512),t=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)e[i]=r,t[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)e[i]=e[i-255]})(),qs.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},qs.exp=function(r){return e[r]},qs.mul=function(r,i){return r===0||i===0?0:e[t[r]+t[i]]},qs}var y1;function KM(){return y1||(y1=1,(function(e){const t=HM();e.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=t.mul(r[o],i[a]);return s},e.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=t.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}})(cf)),cf}var uf,m1;function VM(){if(m1)return uf;m1=1;const e=KM();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=e.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},uf=t,uf}var lf={},ff={},df={},b1;function v6(){return b1||(b1=1,df.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),df}var $n={},w1;function E6(){if(w1)return $n;w1=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;$n.KANJI=new RegExp(n,"g"),$n.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),$n.BYTE=new RegExp(r,"g"),$n.NUMERIC=new RegExp(e,"g"),$n.ALPHANUMERIC=new RegExp(t,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+e+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return $n.testKanji=function(c){return i.test(c)},$n.testNumeric=function(c){return s.test(c)},$n.testAlphanumeric=function(c){return o.test(c)},$n}var v1;function qi(){return v1||(v1=1,(function(e){const t=v6(),n=E6();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,o){if(e.isValid(s))return s;try{return r(s)}catch{return o}}})(ff)),ff}var E1;function GM(){return E1||(E1=1,(function(e){const t=Wi(),n=w6(),r=D0(),i=qi(),s=v6(),o=7973,a=t.getBCHDigit(o);function c(d,p,b){for(let y=1;y<=40;y++)if(p<=e.getCapacity(y,b,d))return y}function u(d,p){return i.getCharCountIndicator(d,p)+4}function l(d,p){let b=0;return d.forEach(function(y){const w=u(y.mode,p);b+=w+y.getBitsLength()}),b}function f(d,p){for(let b=1;b<=40;b++)if(l(d,b)<=e.getCapacity(b,p,i.MIXED))return b}e.from=function(p,b){return s.isValid(p)?parseInt(p,10):b},e.getCapacity=function(p,b,y){if(!s.isValid(p))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=i.BYTE);const w=t.getSymbolTotalCodewords(p),A=n.getTotalCodewordsCount(p,b),B=(w-A)*8;if(y===i.MIXED)return B;const _=B-u(y,p);switch(y){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},e.getBestVersionForData=function(p,b){let y;const w=r.from(b,r.M);if(Array.isArray(p)){if(p.length>1)return f(p,w);if(p.length===0)return 1;y=p[0]}else y=p;return c(y.mode,y.getLength(),w)},e.getEncodedBits=function(p){if(!s.isValid(p)||p<7)throw new Error("Invalid QR Code version");let b=p<<12;for(;t.getBCHDigit(b)-a>=0;)b^=o<<t.getBCHDigit(b)-a;return p<<12|b}})(lf)),lf}var hf={},x1;function ZM(){if(x1)return hf;x1=1;const e=Wi(),t=1335,n=21522,r=e.getBCHDigit(t);return hf.getEncodedBits=function(s,o){const a=s.bit<<3|o;let c=a<<10;for(;e.getBCHDigit(c)-r>=0;)c^=t<<e.getBCHDigit(c)-r;return(a<<10|c)^n},hf}var pf={},gf,_1;function YM(){if(_1)return gf;_1=1;const e=qi();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),r.put(o,10);const a=this.data.length-i;a>0&&(s=this.data.substr(i),o=parseInt(s,10),r.put(o,a*3+1))},gf=t,gf}var yf,S1;function JM(){if(S1)return yf;S1=1;const e=qi(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=t.indexOf(this.data[s])*45;o+=t.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(t.indexOf(this.data[s]),6)},yf=n,yf}var mf,A1;function QM(){if(A1)return mf;A1=1;const e=qi();function t(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},mf=t,mf}var bf,I1;function XM(){if(I1)return bf;I1=1;const e=qi(),t=Wi();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=t.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},bf=n,bf}var wf={exports:{}},C1;function eR(){return C1||(C1=1,(function(e){var t={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=t.PriorityQueue.make();a.push(r,0);for(var c,u,l,f,d,p,b,y,w;!a.empty();){c=a.pop(),u=c.value,f=c.cost,d=n[u]||{};for(l in d)d.hasOwnProperty(l)&&(p=d[l],b=f+p,y=o[l],w=typeof o[l]>"u",(w||y>b)&&(o[l]=b,a.push(l,b),s[l]=u))}if(typeof i<"u"&&typeof o[i]>"u"){var A=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(A)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(wf)),wf.exports}var B1;function tR(){return B1||(B1=1,(function(e){const t=qi(),n=YM(),r=JM(),i=QM(),s=XM(),o=E6(),a=Wi(),c=eR();function u(A){return unescape(encodeURIComponent(A)).length}function l(A,B,_){const M=[];let I;for(;(I=A.exec(_))!==null;)M.push({data:I[0],index:I.index,mode:B,length:I[0].length});return M}function f(A){const B=l(o.NUMERIC,t.NUMERIC,A),_=l(o.ALPHANUMERIC,t.ALPHANUMERIC,A);let M,I;return a.isKanjiModeEnabled()?(M=l(o.BYTE,t.BYTE,A),I=l(o.KANJI,t.KANJI,A)):(M=l(o.BYTE_KANJI,t.BYTE,A),I=[]),B.concat(_,M,I).sort(function(k,z){return k.index-z.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function d(A,B){switch(B){case t.NUMERIC:return n.getBitsLength(A);case t.ALPHANUMERIC:return r.getBitsLength(A);case t.KANJI:return s.getBitsLength(A);case t.BYTE:return i.getBitsLength(A)}}function p(A){return A.reduce(function(B,_){const M=B.length-1>=0?B[B.length-1]:null;return M&&M.mode===_.mode?(B[B.length-1].data+=_.data,B):(B.push(_),B)},[])}function b(A){const B=[];for(let _=0;_<A.length;_++){const M=A[_];switch(M.mode){case t.NUMERIC:B.push([M,{data:M.data,mode:t.ALPHANUMERIC,length:M.length},{data:M.data,mode:t.BYTE,length:M.length}]);break;case t.ALPHANUMERIC:B.push([M,{data:M.data,mode:t.BYTE,length:M.length}]);break;case t.KANJI:B.push([M,{data:M.data,mode:t.BYTE,length:u(M.data)}]);break;case t.BYTE:B.push([{data:M.data,mode:t.BYTE,length:u(M.data)}])}}return B}function y(A,B){const _={},M={start:{}};let I=["start"];for(let C=0;C<A.length;C++){const k=A[C],z=[];for(let N=0;N<k.length;N++){const U=k[N],W=""+C+N;z.push(W),_[W]={node:U,lastCount:0},M[W]={};for(let H=0;H<I.length;H++){const P=I[H];_[P]&&_[P].node.mode===U.mode?(M[P][W]=d(_[P].lastCount+U.length,U.mode)-d(_[P].lastCount,U.mode),_[P].lastCount+=U.length):(_[P]&&(_[P].lastCount=U.length),M[P][W]=d(U.length,U.mode)+4+t.getCharCountIndicator(U.mode,B))}}I=z}for(let C=0;C<I.length;C++)M[I[C]].end=0;return{map:M,table:_}}function w(A,B){let _;const M=t.getBestModeForData(A);if(_=t.from(B,M),_!==t.BYTE&&_.bit<M.bit)throw new Error('"'+A+'" cannot be encoded with mode '+t.toString(_)+`.
 Suggested mode is: `+t.toString(M));switch(_===t.KANJI&&!a.isKanjiModeEnabled()&&(_=t.BYTE),_){case t.NUMERIC:return new n(A);case t.ALPHANUMERIC:return new r(A);case t.KANJI:return new s(A);case t.BYTE:return new i(A)}}e.fromArray=function(B){return B.reduce(function(_,M){return typeof M=="string"?_.push(w(M,null)):M.data&&_.push(w(M.data,M.mode)),_},[])},e.fromString=function(B,_){const M=f(B,a.isKanjiModeEnabled()),I=b(M),C=y(I,_),k=c.find_path(C.map,"start","end"),z=[];for(let N=1;N<k.length-1;N++)z.push(C.table[k[N]].node);return e.fromArray(p(z))},e.rawSplit=function(B){return e.fromArray(f(B,a.isKanjiModeEnabled()))}})(pf)),pf}var M1;function nR(){if(M1)return ef;M1=1;const e=Wi(),t=D0(),n=UM(),r=zM(),i=jM(),s=WM(),o=qM(),a=w6(),c=VM(),u=GM(),l=ZM(),f=qi(),d=tR();function p(C,k){const z=C.size,N=s.getPositions(k);for(let U=0;U<N.length;U++){const W=N[U][0],H=N[U][1];for(let P=-1;P<=7;P++)if(!(W+P<=-1||z<=W+P))for(let h=-1;h<=7;h++)H+h<=-1||z<=H+h||(P>=0&&P<=6&&(h===0||h===6)||h>=0&&h<=6&&(P===0||P===6)||P>=2&&P<=4&&h>=2&&h<=4?C.set(W+P,H+h,!0,!0):C.set(W+P,H+h,!1,!0))}}function b(C){const k=C.size;for(let z=8;z<k-8;z++){const N=z%2===0;C.set(z,6,N,!0),C.set(6,z,N,!0)}}function y(C,k){const z=i.getPositions(k);for(let N=0;N<z.length;N++){const U=z[N][0],W=z[N][1];for(let H=-2;H<=2;H++)for(let P=-2;P<=2;P++)H===-2||H===2||P===-2||P===2||H===0&&P===0?C.set(U+H,W+P,!0,!0):C.set(U+H,W+P,!1,!0)}}function w(C,k){const z=C.size,N=u.getEncodedBits(k);let U,W,H;for(let P=0;P<18;P++)U=Math.floor(P/3),W=P%3+z-8-3,H=(N>>P&1)===1,C.set(U,W,H,!0),C.set(W,U,H,!0)}function A(C,k,z){const N=C.size,U=l.getEncodedBits(k,z);let W,H;for(W=0;W<15;W++)H=(U>>W&1)===1,W<6?C.set(W,8,H,!0):W<8?C.set(W+1,8,H,!0):C.set(N-15+W,8,H,!0),W<8?C.set(8,N-W-1,H,!0):W<9?C.set(8,15-W-1+1,H,!0):C.set(8,15-W-1,H,!0);C.set(N-8,8,1,!0)}function B(C,k){const z=C.size;let N=-1,U=z-1,W=7,H=0;for(let P=z-1;P>0;P-=2)for(P===6&&P--;;){for(let h=0;h<2;h++)if(!C.isReserved(U,P-h)){let g=!1;H<k.length&&(g=(k[H]>>>W&1)===1),C.set(U,P-h,g),W--,W===-1&&(H++,W=7)}if(U+=N,U<0||z<=U){U-=N,N=-N;break}}}function _(C,k,z){const N=new n;z.forEach(function(h){N.put(h.mode.bit,4),N.put(h.getLength(),f.getCharCountIndicator(h.mode,C)),h.write(N)});const U=e.getSymbolTotalCodewords(C),W=a.getTotalCodewordsCount(C,k),H=(U-W)*8;for(N.getLengthInBits()+4<=H&&N.put(0,4);N.getLengthInBits()%8!==0;)N.putBit(0);const P=(H-N.getLengthInBits())/8;for(let h=0;h<P;h++)N.put(h%2?17:236,8);return M(N,C,k)}function M(C,k,z){const N=e.getSymbolTotalCodewords(k),U=a.getTotalCodewordsCount(k,z),W=N-U,H=a.getBlocksCount(k,z),P=N%H,h=H-P,g=Math.floor(N/H),E=Math.floor(W/H),R=E+1,O=g-E,$=new c(O);let F=0;const T=new Array(H),m=new Array(H);let v=0;const D=new Uint8Array(C.buffer);for(let re=0;re<H;re++){const ve=re<h?E:R;T[re]=D.slice(F,F+ve),m[re]=$.encode(T[re]),F+=ve,v=Math.max(v,ve)}const j=new Uint8Array(N);let V=0,Y,ee;for(Y=0;Y<v;Y++)for(ee=0;ee<H;ee++)Y<T[ee].length&&(j[V++]=T[ee][Y]);for(Y=0;Y<O;Y++)for(ee=0;ee<H;ee++)j[V++]=m[ee][Y];return j}function I(C,k,z,N){let U;if(Array.isArray(C))U=d.fromArray(C);else if(typeof C=="string"){let g=k;if(!g){const E=d.rawSplit(C);g=u.getBestVersionForData(E,z)}U=d.fromString(C,g||40)}else throw new Error("Invalid data");const W=u.getBestVersionForData(U,z);if(!W)throw new Error("The amount of data is too big to be stored in a QR Code");if(!k)k=W;else if(k<W)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+W+`.
`);const H=_(k,z,U),P=e.getSymbolSize(k),h=new r(P);return p(h,k),b(h),y(h,k),A(h,z,0),k>=7&&w(h,k),B(h,H),isNaN(N)&&(N=o.getBestMask(h,A.bind(null,h,z))),o.applyMask(N,h),A(h,z,N),{modules:h,version:k,errorCorrectionLevel:z,maskPattern:N,segments:U}}return ef.create=function(k,z){if(typeof k>"u"||k==="")throw new Error("No input text");let N=t.M,U,W;return typeof z<"u"&&(N=t.from(z.errorCorrectionLevel,t.M),U=u.from(z.version),W=o.from(z.maskPattern),z.toSJISFunc&&e.setToSJISFunction(z.toSJISFunc)),I(k,U,N,W)},ef}var vf={},Ef={},R1;function x6(){return R1||(R1=1,(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const s=e.getScale(r,i);return Math.floor((r+i.margin*2)*s)},e.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,c=e.getScale(o,s),u=Math.floor((o+s.margin*2)*c),l=s.margin*c,f=[s.color.light,s.color.dark];for(let d=0;d<u;d++)for(let p=0;p<u;p++){let b=(d*u+p)*4,y=s.color.light;if(d>=l&&p>=l&&d<u-l&&p<u-l){const w=Math.floor((d-l)/c),A=Math.floor((p-l)/c);y=f[a[w*o+A]?1:0]}r[b++]=y.r,r[b++]=y.g,r[b++]=y.b,r[b]=y.a}}})(Ef)),Ef}var P1;function rR(){return P1||(P1=1,(function(e){const t=x6();function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,o,a){let c=a,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=r()),c=t.getOptions(c);const l=t.getImageWidth(s.modules.size,c),f=u.getContext("2d"),d=f.createImageData(l,l);return t.qrToImageData(d.data,s,c),n(f,u,l),f.putImageData(d,0,0),u},e.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=e.render(s,o,c),l=c.type||"image/png",f=c.rendererOpts||{};return u.toDataURL(l,f.quality)}})(vf)),vf}var xf={},O1;function iR(){if(O1)return xf;O1=1;const e=x6();function t(i,s){const o=i.a/255,a=s+'="'+i.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function n(i,s,o){let a=i+s;return typeof o<"u"&&(a+=" "+o),a}function r(i,s,o){let a="",c=0,u=!1,l=0;for(let f=0;f<i.length;f++){const d=Math.floor(f%s),p=Math.floor(f/s);!d&&!u&&(u=!0),i[f]?(l++,f>0&&d>0&&i[f-1]||(a+=u?n("M",d+o,.5+p+o):n("m",c,0),c=0,u=!1),d+1<s&&i[f+1]||(a+=n("h",l),l=0)):c++}return a}return xf.render=function(s,o,a){const c=e.getOptions(o),u=s.modules.size,l=s.modules.data,f=u+c.margin*2,d=c.color.light.a?"<path "+t(c.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",p="<path "+t(c.color.dark,"stroke")+' d="'+r(l,u,c.margin)+'"/>',b='viewBox="0 0 '+f+" "+f+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+b+' shape-rendering="crispEdges">'+d+p+`</svg>
`;return typeof a=="function"&&a(null,w),w},xf}var T1;function sR(){if(T1)return ts;T1=1;const e=FM(),t=nR(),n=rR(),r=iR();function i(s,o,a,c,u){const l=[].slice.call(arguments,1),f=l.length,d=typeof l[f-1]=="function";if(!d&&!e())throw new Error("Callback required as last argument");if(d){if(f<2)throw new Error("Too few arguments provided");f===2?(u=a,a=o,o=c=void 0):f===3&&(o.getContext&&typeof u>"u"?(u=c,c=void 0):(u=c,c=a,a=o,o=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(a=o,o=c=void 0):f===2&&!o.getContext&&(c=a,a=o,o=void 0),new Promise(function(p,b){try{const y=t.create(a,c);p(s(y,o,c))}catch(y){b(y)}})}try{const p=t.create(a,c);u(null,s(p,o,c))}catch(p){u(p)}}return ts.create=t.create,ts.toCanvas=i.bind(null,n.render),ts.toDataURL=i.bind(null,n.renderToDataURL),ts.toString=i.bind(null,function(s,o,a){return r.render(s,a)}),ts}sR();function _f(e){switch(e){case"processed":case"confirmed":case"finalized":case void 0:return e;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const eu="solana:mainnet",oR="solana:devnet",aR="solana:testnet",cR="solana:localnet",uR="https://api.mainnet-beta.solana.com";function lR(e){return e.includes(uR)?eu:/\bdevnet\b/i.test(e)?oR:/\btestnet\b/i.test(e)?aR:/\blocalhost\b/i.test(e)||/\b127\.0\.0\.1\b/.test(e)?cR:eu}function fR(e){let t=`${e.domain} wants you to sign in with your Solana account:
`;t+=`${e.address}`,e.statement&&(t+=`

${e.statement}`);const n=[];if(e.uri&&n.push(`URI: ${e.uri}`),e.version&&n.push(`Version: ${e.version}`),e.chainId&&n.push(`Chain ID: ${e.chainId}`),e.nonce&&n.push(`Nonce: ${e.nonce}`),e.issuedAt&&n.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&n.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&n.push(`Not Before: ${e.notBefore}`),e.requestId&&n.push(`Request ID: ${e.requestId}`),e.resources){n.push("Resources:");for(const r of e.resources)n.push(`- ${r}`)}return n.length&&(t+=`

${n.join(`
`)}`),t}function dR(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}var hR=e=>dR({read(t,n){const r=n===0?t:t.slice(n);if(r.length===0)return["",0];let i=r.findIndex(c=>c!==0);i=i===-1?r.length:i;const s=e[0].repeat(i);if(i===r.length)return[s,t.length];const o=r.slice(i).reduce((c,u)=>c*256n+BigInt(u),0n),a=pR(o,e);return[s+a,t.length]}});function pR(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}var gR="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",yR=()=>hR(gR);const wr={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class vr extends Error{constructor(...t){const[n,r,i]=t;super(r),this.code=n,this.data=i,this.name="SolanaMobileWalletAdapterError"}}class _6 extends Error{constructor(...t){const[n,r,i,s]=t;super(i),this.code=r,this.data=s,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function _t(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(e,[])).next())})}function mR(e){return window.btoa(e)}function D1(e,t){return window.btoa(String.fromCharCode.call(null,...e))}function S6(e){return new Uint8Array(window.atob(e).split("").map(t=>t.charCodeAt(0)))}function Sf(e,t){return _t(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",e),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i})}function bR(e){return fR(e)}function wR(e){return mR(bR(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const vR="solana:signTransactions",$1="solana:cloneAuthorization";function ER(e){return yR().decode(e)}function xR(e){return ER(S6(e))}function _R(e,t){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(i){return _t(this,void 0,void 0,function*(){const{method:s,params:o}=SR(r,i,e),a=yield t(s,o);return s==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield IR(o.sign_in_payload,a,t)),AR(r,a,e)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function SR(e,t,n){let r=t,i=e.toString().replace(/[A-Z]/g,s=>`_${s.toLowerCase()}`).toLowerCase();switch(e){case"authorize":{let{chain:s}=r;if(n==="legacy"){switch(s){case"solana:testnet":{s="testnet";break}case"solana:devnet":{s="devnet";break}case"solana:mainnet":{s="mainnet-beta";break}default:s=r.cluster}r.cluster=s}else{switch(s){case"testnet":case"devnet":{s=`solana:${s}`;break}case"mainnet-beta":{s="solana:mainnet";break}}r.chain=s}}case"reauthorize":{const{auth_token:s,identity:o}=r;if(s)switch(n){case"legacy":{i="reauthorize",r={auth_token:s,identity:o};break}default:{i="authorize";break}}break}}return{method:i,params:r}}function AR(e,t,n){switch(e){case"getCapabilities":{const r=t;switch(n){case"legacy":{const i=[vR];return r.supports_clone_authorization===!0&&i.push($1),Object.assign(Object.assign({},r),{features:i})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes($1)})}}}return t}function IR(e,t,n){var r;return _t(this,void 0,void 0,function*(){const i=(r=e.domain)!==null&&r!==void 0?r:window.location.host,s=t.accounts[0].address,o=wR(Object.assign(Object.assign({},e),{domain:i,address:xR(s)})),a=yield n("sign_messages",{addresses:[s],payloads:[o]}),c=S6(a.signed_payloads[0]),u=D1(c.slice(0,c.length-64)),l=D1(c.slice(c.length-64));return{address:s,signed_message:u.length==0?o:u,signature:l}})}const di=4;function CR(e){if(e>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(di);return new DataView(t).setUint32(0,e,!1),new Uint8Array(t)}const Yd=12,A6=65;function BR(e,t,n){return _t(this,void 0,void 0,function*(){const r=CR(t),i=new Uint8Array(Yd);crypto.getRandomValues(i);const s=yield crypto.subtle.encrypt(C6(r,i),n,new TextEncoder().encode(e)),o=new Uint8Array(r.byteLength+i.byteLength+s.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(i),r.byteLength),o.set(new Uint8Array(s),r.byteLength+i.byteLength),o})}function I6(e,t){return _t(this,void 0,void 0,function*(){const n=e.slice(0,di),r=e.slice(di,di+Yd),i=e.slice(di+Yd),s=yield crypto.subtle.decrypt(C6(n,r),t,i);return MR().decode(s)})}function C6(e,t){return{additionalData:e,iv:t,name:"AES-GCM",tagLength:128}}let Af;function MR(){return Af===void 0&&(Af=new TextDecoder("utf-8")),Af}function RR(){return _t(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function If(){return _t(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function PR(e){let t="";const n=new Uint8Array(e),r=n.byteLength;for(let i=0;i<r;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}function OR(){return B6(49152+Math.floor(Math.random()*16384))}function B6(e){if(e<49152||e>65535)throw new vr(wr.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${e} given.`,{port:e});return e}function TR(e){return e.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])}const DR="solana-wallet";function k1(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function $R(e,t){let n=null;if(t){try{n=new URL(t)}catch{}if(n?.protocol!=="https:")throw new vr(wr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${DR}:/`));const r=e.startsWith("/")?e:[...k1(n.pathname),...k1(e)].join("/");return new URL(r,n)}function kR(e,t,n,r=["v1"]){return _t(this,void 0,void 0,function*(){const i=B6(t),s=yield crypto.subtle.exportKey("raw",e),o=PR(s),a=$R("v1/associate/local",n);return a.searchParams.set("association",TR(o)),a.searchParams.set("port",`${i}`),r.forEach(c=>{a.searchParams.set("v",c)}),a})}function LR(e,t){return _t(this,void 0,void 0,function*(){const n=JSON.stringify(e),r=e.id;return BR(n,r,t)})}function NR(e,t){return _t(this,void 0,void 0,function*(){const n=yield I6(e,t),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new _6(r.id,r.error.code,r.error.message);return r})}function FR(e,t,n){return _t(this,void 0,void 0,function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",e.slice(0,A6),{name:"ECDH",namedCurve:"P-256"},!1,[])]),s=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),o=yield crypto.subtle.importKey("raw",s,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function UR(e,t){return _t(this,void 0,void 0,function*(){const n=yield I6(e,t),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new vr(wr.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}})}const tu={Firefox:0,Other:1};function zR(){return navigator.userAgent.indexOf("Firefox/")!==-1?tu.Firefox:tu.Other}function jR(){return new Promise((e,t)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),e()}window.addEventListener("blur",r);const i=setTimeout(()=>{n(),t()},3e3)})}let Hs=null;function WR(e){Hs==null&&(Hs=document.createElement("iframe"),Hs.style.display="none",document.body.appendChild(Hs)),Hs.contentWindow.location.href=e.toString()}function qR(e){return _t(this,void 0,void 0,function*(){if(e.protocol==="https:")window.location.assign(e);else try{const t=zR();switch(t){case tu.Firefox:WR(e);break;case tu.Other:{const n=jR();window.location.assign(e),yield n;break}default:}}catch{throw new vr(wr.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function HR(e,t){return _t(this,void 0,void 0,function*(){const n=OR(),r=yield kR(e,n,t);return yield qR(r),n})}const L1={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},KR="com.solana.mobilewalletadapter.v1";function VR(){if(typeof window>"u"||window.isSecureContext!==!0)throw new vr(wr.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function GR(e){let t;try{t=new URL(e)}catch{throw new vr(wr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(t.protocol!=="https:")throw new vr(wr.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function N1(e){return new DataView(e).getUint32(0,!1)}function ZR(e,t){return _t(this,void 0,void 0,function*(){VR();const n=yield RR(),i=`ws://localhost:${yield HR(n.publicKey,t?.baseUri)}/solana-wallet`;let s;const o=(()=>{const l=[...L1.retryDelayScheduleMs];return()=>l.length>1?l.shift():l[0]})();let a=1,c=0,u={__type:"disconnected"};return new Promise((l,f)=>{let d;const p={},b=()=>_t(this,void 0,void 0,function*(){if(u.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${u.__type}\`.`);return}d.removeEventListener("open",b);const{associationKeypair:I}=u,C=yield If();d.send(yield Sf(C.publicKey,I.privateKey)),u={__type:"hello_req_sent",associationPublicKey:I.publicKey,ecdhPrivateKey:C.privateKey}}),y=I=>{I.wasClean?u={__type:"disconnected"}:f(new vr(wr.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${I.code}: ${I.reason}).`,{closeEvent:I})),B()},w=I=>_t(this,void 0,void 0,function*(){B(),Date.now()-s>=L1.timeoutMs?f(new vr(wr.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${i}.`)):(yield new Promise(C=>{const k=o();_=window.setTimeout(C,k)}),M())}),A=I=>_t(this,void 0,void 0,function*(){const C=yield I.data.arrayBuffer();switch(u.__type){case"connecting":if(C.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const k=yield If();d.send(yield Sf(k.publicKey,n.privateKey)),u={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:k.privateKey};break;case"connected":try{const z=C.slice(0,di),N=N1(z);if(N!==c+1)throw new Error("Encrypted message has invalid sequence number");c=N;const U=yield NR(C,u.sharedSecret),W=p[U.id];delete p[U.id],W.resolve(U.result)}catch(z){if(z instanceof _6){const N=p[z.jsonRpcMessageId];delete p[z.jsonRpcMessageId],N.reject(z)}else throw z}break;case"hello_req_sent":{if(C.byteLength===0){const H=yield If();d.send(yield Sf(H.publicKey,n.privateKey)),u={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:H.privateKey};break}const z=yield FR(C,u.associationPublicKey,u.ecdhPrivateKey),N=C.slice(A6),U=N.byteLength!==0?yield _t(this,void 0,void 0,function*(){const H=N.slice(0,di),P=N1(H);if(P!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=P,UR(N,z)}):{protocol_version:"legacy"};u={__type:"connected",sharedSecret:z,sessionProperties:U};const W=_R(U.protocol_version,(H,P)=>_t(this,void 0,void 0,function*(){const h=a++;return d.send(yield LR({id:h,jsonrpc:"2.0",method:H,params:P??{}},z)),new Promise((g,E)=>{p[h]={resolve(R){switch(H){case"authorize":case"reauthorize":{const{wallet_uri_base:O}=R;if(O!=null)try{GR(O)}catch($){E($);return}break}}g(R)},reject:E}})}));try{l(yield e(W))}catch(H){f(H)}finally{B(),d.close()}break}}});let B,_;const M=()=>{B&&B(),u={__type:"connecting",associationKeypair:n},s===void 0&&(s=Date.now()),d=new WebSocket(i,[KR]),d.addEventListener("open",b),d.addEventListener("close",y),d.addEventListener("error",w),d.addEventListener("message",A),B=()=>{window.clearTimeout(_),d.removeEventListener("open",b),d.removeEventListener("close",y),d.removeEventListener("error",w),d.removeEventListener("message",A)}};M()})})}var Cf,F1;function YR(){if(F1)return Cf;F1=1;function e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var y=0,w=0,A=0,B=b.length;A!==B&&b[A]===0;)A++,y++;for(var _=(B-A)*l+1>>>0,M=new Uint8Array(_);A!==B;){for(var I=b[A],C=0,k=_-1;(I!==0||C<w)&&k!==-1;k--,C++)I+=256*M[k]>>>0,M[k]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");w=C,A++}for(var z=_-w;z!==_&&M[z]===0;)z++;for(var N=c.repeat(y);z<_;++z)N+=t.charAt(M[z]);return N}function d(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;for(var y=0,w=0,A=0;b[y]===c;)w++,y++;for(var B=(b.length-y)*u+1>>>0,_=new Uint8Array(B);b[y];){var M=b.charCodeAt(y);if(M>255)return;var I=n[M];if(I===255)return;for(var C=0,k=B-1;(I!==0||C<A)&&k!==-1;k--,C++)I+=a*_[k]>>>0,_[k]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");A=C,y++}for(var z=B-A;z!==B&&_[z]===0;)z++;for(var N=new Uint8Array(w+(B-z)),U=w;z!==B;)N[U++]=_[z++];return N}function p(b){var y=d(b);if(y)return y;throw new Error("Non-base"+a+" character")}return{encode:f,decodeUnsafe:d,decode:p}}return Cf=e,Cf}var Bf,U1;function JR(){return U1||(U1=1,Bf=YR()("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")),Bf}var QR=JR();const Jd=xn(QR);function He(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(e,[])).next())})}function te(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function Et(e,t,n,r,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var oo,St,ti,os,M6,R6,P6,mc;const XR=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,e9=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,t9=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class n9{constructor(){oo.add(this),St.set(this,null),ti.set(this,{}),os.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),te(this,oo,"m",R6).call(this),te(this,St,"f")&&(te(this,St,"f").style.display="flex")},this.close=(t=void 0)=>{var n;console.debug("Modal close"),te(this,oo,"m",P6).call(this),te(this,St,"f")&&(te(this,St,"f").style.display="none"),(n=te(this,ti,"f").close)===null||n===void 0||n.forEach(r=>r(t))},mc.set(this,t=>{t.key==="Escape"&&this.close(t)}),this.init=this.init.bind(this),Et(this,St,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return He(this,void 0,void 0,function*(){console.log("Injecting modal"),te(this,oo,"m",M6).call(this)})}addEventListener(t,n){var r;return!((r=te(this,ti,"f")[t])===null||r===void 0)&&r.push(n)||(te(this,ti,"f")[t]=[n]),()=>this.removeEventListener(t,n)}removeEventListener(t,n){var r;te(this,ti,"f")[t]=(r=te(this,ti,"f")[t])===null||r===void 0?void 0:r.filter(i=>n!==i)}}St=new WeakMap,ti=new WeakMap,os=new WeakMap,mc=new WeakMap,oo=new WeakSet,M6=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){te(this,St,"f")||Et(this,St,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}Et(this,St,document.createElement("div")),te(this,St,"f").id="mobile-wallet-adapter-embedded-root-ui",te(this,St,"f").innerHTML=XR,te(this,St,"f").style.display="none";const t=te(this,St,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");t&&(t.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=e9+this.contentStyles;const r=document.createElement("div");r.innerHTML=t9,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(te(this,St,"f")),document.body.appendChild(r)},R6=function(){if(!te(this,St,"f")||te(this,os,"f"))return;[...te(this,St,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n?.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",te(this,mc,"f")),Et(this,os,!0)},P6=function(){if(!te(this,os,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",te(this,mc,"f")),!te(this,St,"f")))return;[...te(this,St,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n?.removeEventListener("click",this.close)),Et(this,os,!1)};const r9="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function Za(e){return window.btoa(String.fromCharCode.call(null,...e))}function Rr(e){return new Uint8Array(window.atob(e).split("").map(t=>t.charCodeAt(0)))}var as,hi,Qd,Xd,eh,th,ao,Ht,rr,Tr,cs,ni,bc,co,wc,nh,vc,O6,rh,Ec,us,xc,uo,_c,ls,lo,Sc,ih,sh,Ac,Ic,oh,ah,Cc;const T6="Mobile Wallet Adapter",i9=64,s9=[nn,Ze,kr,bi];class o9{constructor(t){as.add(this),hi.set(this,{}),Qd.set(this,"1.0.0"),Xd.set(this,T6),eh.set(this,"https://solanamobile.com/wallets"),th.set(this,r9),ao.set(this,void 0),Ht.set(this,void 0),rr.set(this,void 0),Tr.set(this,!1),cs.set(this,0),ni.set(this,[]),bc.set(this,void 0),co.set(this,void 0),wc.set(this,void 0),nh.set(this,(n,r)=>{var i;return!((i=te(this,hi,"f")[n])===null||i===void 0)&&i.push(r)||(te(this,hi,"f")[n]=[r]),()=>te(this,as,"m",O6).call(this,n,r)}),rh.set(this,({silent:n}={})=>He(this,void 0,void 0,function*(){if(te(this,Tr,"f")||this.connected)return{accounts:this.accounts};Et(this,Tr,!0);try{if(n){const r=yield te(this,rr,"f").get();if(r)yield te(this,xc,"f").call(this,r.capabilities),yield te(this,us,"f").call(this,r);else return{accounts:this.accounts}}else yield te(this,Ec,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{Et(this,Tr,!1)}return{accounts:this.accounts}})),Ec.set(this,n=>He(this,void 0,void 0,function*(){try{const r=yield te(this,rr,"f").get();if(r)return te(this,us,"f").call(this,r),r;const i=yield te(this,bc,"f").select(te(this,ni,"f"));return yield te(this,ls,"f").call(this,s=>He(this,void 0,void 0,function*(){const[o,a]=yield Promise.all([s.getCapabilities(),s.authorize({chain:i,identity:te(this,ao,"f"),sign_in_payload:n})]),c=te(this,Sc,"f").call(this,a.accounts),u=Object.assign(Object.assign({},a),{accounts:c,chain:i,capabilities:o});return Promise.all([te(this,xc,"f").call(this,o),te(this,rr,"f").set(u),te(this,us,"f").call(this,u)]),u}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),us.set(this,n=>He(this,void 0,void 0,function*(){var r;const i=te(this,Ht,"f")==null||((r=te(this,Ht,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||te(this,Ht,"f").accounts.some((s,o)=>s.address!==n.accounts[o].address);Et(this,Ht,n),i&&te(this,as,"m",vc).call(this,"change",{accounts:this.accounts})})),xc.set(this,n=>He(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),i=n.supports_sign_and_send_transactions,s=nn in this.features!==i||Ze in this.features!==r;Et(this,co,Object.assign(Object.assign({},(i||!i&&!r)&&{[nn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:te(this,Ac,"f")}}),r&&{[Ze]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:te(this,Ic,"f")}})),s&&te(this,as,"m",vc).call(this,"change",{features:this.features})})),uo.set(this,(n,r,i)=>He(this,void 0,void 0,function*(){var s,o;try{const[a,c]=yield Promise.all([(o=(s=te(this,Ht,"f"))===null||s===void 0?void 0:s.capabilities)!==null&&o!==void 0?o:yield n.getCapabilities(),n.authorize({auth_token:r,identity:te(this,ao,"f"),chain:i})]),u=te(this,Sc,"f").call(this,c.accounts),l=Object.assign(Object.assign({},c),{accounts:u,chain:i,capabilities:a});Promise.all([te(this,rr,"f").set(l),te(this,us,"f").call(this,l)])}catch(a){throw te(this,_c,"f").call(this),new Error(a instanceof Error&&a.message||"Unknown error")}})),_c.set(this,()=>He(this,void 0,void 0,function*(){var n;te(this,rr,"f").clear(),Et(this,Tr,!1),Et(this,cs,(n=te(this,cs,"f"),n++,n)),Et(this,Ht,void 0),te(this,as,"m",vc).call(this,"change",{accounts:this.accounts})})),ls.set(this,n=>He(this,void 0,void 0,function*(){var r;const i=(r=te(this,Ht,"f"))===null||r===void 0?void 0:r.wallet_uri_base,s=i?{baseUri:i}:void 0,o=te(this,cs,"f");try{return yield ZR(n,s)}catch(a){throw te(this,cs,"f")!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield te(this,wc,"f").call(this,this)),a}})),lo.set(this,()=>{if(!te(this,Ht,"f"))throw new Error("Wallet not connected");return{authToken:te(this,Ht,"f").auth_token,chain:te(this,Ht,"f").chain}}),Sc.set(this,n=>n.map(r=>{var i,s;const o=Rr(r.address);return{address:Jd.encode(o),publicKey:o,label:r.label,icon:r.icon,chains:(i=r.chains)!==null&&i!==void 0?i:te(this,ni,"f"),features:(s=r.features)!==null&&s!==void 0?s:s9}})),ih.set(this,n=>He(this,void 0,void 0,function*(){const{authToken:r,chain:i}=te(this,lo,"f").call(this);try{const s=n.map(o=>Za(o));return yield te(this,ls,"f").call(this,o=>He(this,void 0,void 0,function*(){return yield te(this,uo,"f").call(this,o,r,i),(yield o.signTransactions({payloads:s})).signed_payloads.map(Rr)}))}catch(s){throw new Error(s instanceof Error&&s.message||"Unknown error")}})),sh.set(this,(n,r)=>He(this,void 0,void 0,function*(){const{authToken:i,chain:s}=te(this,lo,"f").call(this);try{return yield te(this,ls,"f").call(this,o=>He(this,void 0,void 0,function*(){const[a,c]=yield Promise.all([o.getCapabilities(),te(this,uo,"f").call(this,o,i,s)]);if(a.supports_sign_and_send_transactions){const u=Za(n);return(yield o.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[u]}))).signatures.map(Rr)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),Ac.set(this,(...n)=>He(this,void 0,void 0,function*(){const r=[];for(const i of n){const s=yield te(this,sh,"f").call(this,i.transaction,i.options);r.push({signature:s})}return r})),Ic.set(this,(...n)=>He(this,void 0,void 0,function*(){return(yield te(this,ih,"f").call(this,n.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),oh.set(this,(...n)=>He(this,void 0,void 0,function*(){const{authToken:r,chain:i}=te(this,lo,"f").call(this),s=n.map(({account:a})=>Za(a.publicKey)),o=n.map(({message:a})=>Za(a));try{return yield te(this,ls,"f").call(this,a=>He(this,void 0,void 0,function*(){return yield te(this,uo,"f").call(this,a,r,i),(yield a.signMessages({addresses:s,payloads:o})).signed_payloads.map(Rr).map(u=>({signedMessage:u,signature:u.slice(-i9)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),ah.set(this,(...n)=>He(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const i of n)r.push(yield te(this,Cc,"f").call(this,i));else return[yield te(this,Cc,"f").call(this,n[0])];return r})),Cc.set(this,n=>He(this,void 0,void 0,function*(){var r,i,s;Et(this,Tr,!0);try{const o=yield te(this,Ec,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n?.domain)!==null&&r!==void 0?r:window.location.host}));if(!o.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const a=o.sign_in_result.address,c=o.accounts.find(u=>u.address==a);return{account:Object.assign(Object.assign({},c??{address:Jd.encode(Rr(a))}),{publicKey:Rr(a),chains:(i=c?.chains)!==null&&i!==void 0?i:te(this,ni,"f"),features:(s=c?.features)!==null&&s!==void 0?s:o.capabilities.features}),signedMessage:Rr(o.sign_in_result.signed_message),signature:Rr(o.sign_in_result.signature)}}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}finally{Et(this,Tr,!1)}})),Et(this,rr,t.authorizationCache),Et(this,ao,t.appIdentity),Et(this,ni,t.chains),Et(this,bc,t.chainSelector),Et(this,wc,t.onWalletNotFound),Et(this,co,{[nn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:te(this,Ac,"f")},[Ze]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:te(this,Ic,"f")}})}get version(){return te(this,Qd,"f")}get name(){return te(this,Xd,"f")}get url(){return te(this,eh,"f")}get icon(){return te(this,th,"f")}get chains(){return te(this,ni,"f")}get features(){return Object.assign({[kh]:{version:"1.0.0",connect:te(this,rh,"f")},[id]:{version:"1.0.0",disconnect:te(this,_c,"f")},[Lh]:{version:"1.0.0",on:te(this,nh,"f")},[kr]:{version:"1.0.0",signMessage:te(this,oh,"f")},[bi]:{version:"1.0.0",signIn:te(this,ah,"f")}},te(this,co,"f"))}get accounts(){var t,n;return(n=(t=te(this,Ht,"f"))===null||t===void 0?void 0:t.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!te(this,Ht,"f")}get isAuthorized(){return!!te(this,Ht,"f")}get currentAuthorization(){return te(this,Ht,"f")}get cachedAuthorizationResult(){return te(this,rr,"f").get()}}hi=new WeakMap,Qd=new WeakMap,Xd=new WeakMap,eh=new WeakMap,th=new WeakMap,ao=new WeakMap,Ht=new WeakMap,rr=new WeakMap,Tr=new WeakMap,cs=new WeakMap,ni=new WeakMap,bc=new WeakMap,co=new WeakMap,wc=new WeakMap,nh=new WeakMap,rh=new WeakMap,Ec=new WeakMap,us=new WeakMap,xc=new WeakMap,uo=new WeakMap,_c=new WeakMap,ls=new WeakMap,lo=new WeakMap,Sc=new WeakMap,ih=new WeakMap,sh=new WeakMap,Ac=new WeakMap,Ic=new WeakMap,oh=new WeakMap,ah=new WeakMap,Cc=new WeakMap,as=new WeakSet,vc=function(t,...n){var r;(r=te(this,hi,"f")[t])===null||r===void 0||r.forEach(i=>i.apply(null,n))},O6=function(t,n){var r;te(this,hi,"f")[t]=(r=te(this,hi,"f")[t])===null||r===void 0?void 0:r.filter(i=>n!==i)};const a9="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",c9="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class u9 extends n9{constructor(){super(...arguments),this.contentStyles=f9,this.contentHtml=l9}initWithError(t){super.init(),this.populateError(t)}populateError(t){var n,r;const i=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),s=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(i){if(t.name==="SolanaMobileWalletAdapterError")switch(t.code){case"ERROR_WALLET_NOT_FOUND":i.innerHTML=a9,s&&s.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":i.innerHTML=c9,s&&(s.style.display="none");return}i.innerHTML=`An unexpected error occurred: ${t.message}`}else console.log("Failed to locate error dialog element")}}const l9=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,f9=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function d9(){return He(this,void 0,void 0,function*(){if(typeof window<"u"){const e=window.navigator.userAgent.toLowerCase(),t=new u9;e.includes("wv")?t.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):t.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),t.open()}})}const Mf="SolanaMobileWalletAdapterDefaultAuthorizationCache";function h9(){let e;try{e=window.localStorage}catch{}return{clear(){return He(this,void 0,void 0,function*(){if(e)try{e.removeItem(Mf)}catch{}})},get(){return He(this,void 0,void 0,function*(){if(e)try{const t=JSON.parse(e.getItem(Mf));if(t&&t.accounts){const n=t.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):Jd.decode(r.address)}));return Object.assign(Object.assign({},t),{accounts:n})}else return t||void 0}catch{}})},set(t){return He(this,void 0,void 0,function*(){if(e)try{e.setItem(Mf,JSON.stringify(t))}catch{}})}}}function p9(){return{select(e){return He(this,void 0,void 0,function*(){return e.length===1?e[0]:e.includes(eu)?eu:e[0]})}}}function ze(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(e,[])).next())})}function pe(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function cn(e,t,n,r,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}const ch="standard:connect",g9="standard:disconnect",y9="standard:events";function Rf(e){return window.btoa(String.fromCharCode.call(null,...e))}function m9(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var Ct,Ge,Lr,ur,Bc,sr,ri,uh,lh,D6,nu,Mc,$r;const Rc=T6,b9=64;function w9(e){return"version"in e}function $6(e){switch(e){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return e}}class v9 extends NM{constructor(t,n){super(),Ct.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Ge.set(this,void 0),Lr.set(this,!1),ur.set(this,m9()?Nn.Loadable:Nn.Unsupported),Bc.set(this,void 0),sr.set(this,void 0),ri.set(this,void 0),uh.set(this,r=>ze(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){pe(this,Ct,"m",D6).call(this);const i=yield pe(this,Bc,"f").call(this,r.accounts);i!==pe(this,sr,"f")&&(cn(this,sr,i),cn(this,ri,void 0),this.emit("connect",this.publicKey))}})),cn(this,Bc,r=>ze(this,void 0,void 0,function*(){var i;const s=yield n.addressSelector.select(r.map(({publicKey:o})=>Rf(o)));return(i=r.find(({publicKey:o})=>Rf(o)===s))!==null&&i!==void 0?i:r[0]})),cn(this,Ge,t),pe(this,Ge,"f").features[y9].on("change",pe(this,uh,"f")),this.name=pe(this,Ge,"f").name,this.icon=pe(this,Ge,"f").icon,this.url=pe(this,Ge,"f").url}get publicKey(){var t;if(!pe(this,ri,"f")&&pe(this,sr,"f"))try{cn(this,ri,new ye(pe(this,sr,"f").publicKey),"f")}catch(n){throw new TM(n instanceof Error&&n?.message||"Unknown error",n)}return(t=pe(this,ri,"f"))!==null&&t!==void 0?t:null}get connected(){return pe(this,Ge,"f").connected}get connecting(){return pe(this,Lr,"f")}get readyState(){return pe(this,ur,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return ze(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return ze(this,void 0,void 0,function*(){pe(this,Ct,"m",lh).call(this,!0)})}connect(){return ze(this,void 0,void 0,function*(){pe(this,Ct,"m",lh).call(this)})}performAuthorization(t){return ze(this,void 0,void 0,function*(){try{const n=yield pe(this,Ge,"f").cachedAuthorizationResult;return n?(yield pe(this,Ge,"f").features[ch].connect({silent:!0}),n):(t?yield pe(this,Ge,"f").features[bi].signIn(t):yield pe(this,Ge,"f").features[ch].connect(),yield yield pe(this,Ge,"f").cachedAuthorizationResult)}catch(n){throw new Zd(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return ze(this,void 0,void 0,function*(){return yield pe(this,Ct,"m",$r).call(this,()=>ze(this,void 0,void 0,function*(){cn(this,Lr,!1),cn(this,ri,void 0),cn(this,sr,void 0),yield pe(this,Ge,"f").features[g9].disconnect(),this.emit("disconnect")}))})}signIn(t){return ze(this,void 0,void 0,function*(){return pe(this,Ct,"m",$r).call(this,()=>ze(this,void 0,void 0,function*(){var n;if(pe(this,ur,"f")!==Nn.Installed&&pe(this,ur,"f")!==Nn.Loadable)throw new m6;cn(this,Lr,!0);try{const r=yield pe(this,Ge,"f").features[bi].signIn(Object.assign(Object.assign({},t),{domain:(n=t?.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new Zd(r instanceof Error&&r.message||"Unknown error",r)}finally{cn(this,Lr,!1)}}))})}signMessage(t){return ze(this,void 0,void 0,function*(){return yield pe(this,Ct,"m",$r).call(this,()=>ze(this,void 0,void 0,function*(){const n=pe(this,Ct,"m",nu).call(this);try{return(yield pe(this,Ge,"f").features[kr].signMessage({account:n,message:t}))[0].signature}catch(r){throw new DM(r?.message,r)}}))})}sendTransaction(t,n,r){return ze(this,void 0,void 0,function*(){return yield pe(this,Ct,"m",$r).call(this,()=>ze(this,void 0,void 0,function*(){const i=pe(this,Ct,"m",nu).call(this);try{let s=function(){let o;switch(n.commitment){case"confirmed":case"finalized":case"processed":o=n.commitment;break;default:o="finalized"}let a;switch(r?.preflightCommitment){case"confirmed":case"finalized":case"processed":a=r.preflightCommitment;break;case void 0:a=o;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(o==="finalized"?2:o==="confirmed"?1:0)?a:o};if(nn in pe(this,Ge,"f").features){const o=$6(pe(this,Ge,"f").currentAuthorization.chain),[a]=(yield pe(this,Ge,"f").features[nn].signAndSendTransaction({account:i,transaction:t.serialize(),chain:o,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map((c=>Rf(c.signature)));return a}else{const[o]=yield pe(this,Ct,"m",Mc).call(this,[t]);if(w9(o))return yield n.sendTransaction(o);{const a=o.serialize();return yield n.sendRawTransaction(a,Object.assign(Object.assign({},r),{preflightCommitment:s()}))}}}catch(s){throw new io(s?.message,s)}}))})}signTransaction(t){return ze(this,void 0,void 0,function*(){return yield pe(this,Ct,"m",$r).call(this,()=>ze(this,void 0,void 0,function*(){const[n]=yield pe(this,Ct,"m",Mc).call(this,[t]);return n}))})}signAllTransactions(t){return ze(this,void 0,void 0,function*(){return yield pe(this,Ct,"m",$r).call(this,()=>ze(this,void 0,void 0,function*(){return yield pe(this,Ct,"m",Mc).call(this,t)}))})}}Ge=new WeakMap,Lr=new WeakMap,ur=new WeakMap,Bc=new WeakMap,sr=new WeakMap,ri=new WeakMap,uh=new WeakMap,Ct=new WeakSet,lh=function(t=!1){return ze(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield pe(this,Ct,"m",$r).call(this,()=>ze(this,void 0,void 0,function*(){if(pe(this,ur,"f")!==Nn.Installed&&pe(this,ur,"f")!==Nn.Loadable)throw new m6;cn(this,Lr,!0);try{yield pe(this,Ge,"f").features[ch].connect({silent:t})}catch(n){throw new Zd(n instanceof Error&&n.message||"Unknown error",n)}finally{cn(this,Lr,!1)}}))})},D6=function(){pe(this,ur,"f")!==Nn.Installed&&this.emit("readyStateChange",cn(this,ur,Nn.Installed))},nu=function(){if(!pe(this,Ge,"f").isAuthorized||!pe(this,sr,"f"))throw new b6;return pe(this,sr,"f")},Mc=function(t){return ze(this,void 0,void 0,function*(){const n=pe(this,Ct,"m",nu).call(this);try{if(Ze in pe(this,Ge,"f").features)return pe(this,Ge,"f").features[Ze].signTransaction(...t.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(i=>{const s=i.signedTransaction,a=s[0]*b9+1;return B0.deserializeMessageVersion(s.slice(a,s.length))==="legacy"?Bn.from(s):Zo.deserialize(s)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new so(r?.message,r)}})},$r=function(t){return ze(this,void 0,void 0,function*(){try{return yield t()}catch(n){throw this.emit("error",n),n}})};class E9 extends v9{constructor(t){var n;const r=$6((n=t.chain)!==null&&n!==void 0?n:t.cluster);super(new o9({appIdentity:t.appIdentity,authorizationCache:{set:t.authorizationResultCache.set,get:()=>ze(this,void 0,void 0,function*(){return yield t.authorizationResultCache.get()}),clear:t.authorizationResultCache.clear},chains:[r],chainSelector:p9(),onWalletNotFound:()=>ze(this,void 0,void 0,function*(){t.onWalletNotFound(this)})}),{addressSelector:t.addressSelector,chain:r})}}class x9 extends E9{}function _9(){return{select(e){return ze(this,void 0,void 0,function*(){return e[0]})}}}function S9(){return h9()}function A9(e){return ze(this,void 0,void 0,function*(){return d9()})}function I9(){return A9}var Pf={exports:{}},z1;function C9(){return z1||(z1=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,f,d){if(typeof l!="function")throw new TypeError("The listener must be a function");var p=new i(l,f||c,d),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],p]:c._events[b].push(p):(c._events[b]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,f;if(this._eventsCount===0)return u;for(f in l=this._events)t.call(l,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=n?n+u:u,f=this._events[l];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,b=new Array(p);d<p;d++)b[d]=f[d].fn;return b},a.prototype.listenerCount=function(u){var l=n?n+u:u,f=this._events[l];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,l,f,d,p,b){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],A=arguments.length,B,_;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,l),!0;case 3:return w.fn.call(w.context,l,f),!0;case 4:return w.fn.call(w.context,l,f,d),!0;case 5:return w.fn.call(w.context,l,f,d,p),!0;case 6:return w.fn.call(w.context,l,f,d,p,b),!0}for(_=1,B=new Array(A-1);_<A;_++)B[_-1]=arguments[_];w.fn.apply(w.context,B)}else{var M=w.length,I;for(_=0;_<M;_++)switch(w[_].once&&this.removeListener(u,w[_].fn,void 0,!0),A){case 1:w[_].fn.call(w[_].context);break;case 2:w[_].fn.call(w[_].context,l);break;case 3:w[_].fn.call(w[_].context,l,f);break;case 4:w[_].fn.call(w[_].context,l,f,d);break;default:if(!B)for(I=1,B=new Array(A-1);I<A;I++)B[I-1]=arguments[I];w[_].fn.apply(w[_].context,B)}}return!0},a.prototype.on=function(u,l,f){return s(this,u,l,f,!1)},a.prototype.once=function(u,l,f){return s(this,u,l,f,!0)},a.prototype.removeListener=function(u,l,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!l)return o(this,p),this;var b=this._events[p];if(b.fn)b.fn===l&&(!d||b.once)&&(!f||b.context===f)&&o(this,p);else{for(var y=0,w=[],A=b.length;y<A;y++)(b[y].fn!==l||d&&!b[y].once||f&&b[y].context!==f)&&w.push(b[y]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=n?n+u:u,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Pf)),Pf.exports}var B9=C9();const M9=xn(B9);let an=class extends Error{constructor(t,n){super(t),this.error=n}},R9=class extends an{constructor(){super(...arguments),this.name="WalletNotReadyError"}};class fo extends an{constructor(){super(...arguments),this.name="WalletConfigError"}}let P9=class extends an{constructor(){super(...arguments),this.name="WalletConnectionError"}},O9=class extends an{constructor(){super(...arguments),this.name="WalletDisconnectedError"}},T9=class extends an{constructor(){super(...arguments),this.name="WalletDisconnectionError"}},ys=class extends an{constructor(){super(...arguments),this.name="WalletAccountError"}},D9=class extends an{constructor(){super(...arguments),this.name="WalletPublicKeyError"}},wo=class extends an{constructor(){super(...arguments),this.name="WalletNotConnectedError"}},j1=class extends an{constructor(){super(...arguments),this.name="WalletSendTransactionError"}},W1=class extends an{constructor(){super(...arguments),this.name="WalletSignTransactionError"}};class $9 extends an{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class q1 extends an{constructor(){super(...arguments),this.name="WalletSignInError"}}var Jo;(function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"})(Jo||(Jo={}));let k9=class extends M9{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,n,r={}){const i=this.publicKey;if(!i)throw new wo;return t.feePayer=t.feePayer||i,t.recentBlockhash=t.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,t}};function ho(e){return"version"in e}function L9(e){return kh in e.features&&Lh in e.features&&(nn in e.features||Ze in e.features)}function N9(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let u=0;u<t.length;u++)t[u]=255;for(let u=0;u<e.length;u++){const l=e.charAt(u),f=l.charCodeAt(0);if(t[f]!==255)throw new TypeError(l+" is ambiguous");t[f]=u}const n=e.length,r=e.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let l=0,f=0,d=0;const p=u.length;for(;d!==p&&u[d]===0;)d++,l++;const b=(p-d)*s+1>>>0,y=new Uint8Array(b);for(;d!==p;){let B=u[d],_=0;for(let M=b-1;(B!==0||_<f)&&M!==-1;M--,_++)B+=256*y[M]>>>0,y[M]=B%n>>>0,B=B/n>>>0;if(B!==0)throw new Error("Non-zero carry");f=_,d++}let w=b-f;for(;w!==b&&y[w]===0;)w++;let A=r.repeat(l);for(;w<b;++w)A+=e.charAt(y[w]);return A}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let l=0,f=0,d=0;for(;u[l]===r;)f++,l++;const p=(u.length-l)*i+1>>>0,b=new Uint8Array(p);for(;l<u.length;){const B=u.charCodeAt(l);if(B>255)return;let _=t[B];if(_===255)return;let M=0;for(let I=p-1;(_!==0||M<d)&&I!==-1;I--,M++)_+=n*b[I]>>>0,b[I]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");d=M,l++}let y=p-d;for(;y!==p&&b[y]===0;)y++;const w=new Uint8Array(f+(p-y));let A=f;for(;y!==p;)w[A++]=b[y++];return w}function c(u){const l=a(u);if(l)return l;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var F9="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const U9=N9(F9);var fe=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},xt=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},Ot,tn,pi,gi,ii,po,ru,Me,iu,fh,Pc,dh,vo,hh,H1,K1,V1,G1;class z9 extends k9{get name(){return fe(this,Me,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return fe(this,Me,"f").icon}get readyState(){return fe(this,iu,"f")}get publicKey(){return fe(this,pi,"f")}get connecting(){return fe(this,gi,"f")}get supportedTransactionVersions(){return fe(this,ru,"f")}get wallet(){return fe(this,Me,"f")}get standard(){return!0}constructor({wallet:t}){super(),Ot.add(this),tn.set(this,void 0),pi.set(this,void 0),gi.set(this,void 0),ii.set(this,void 0),po.set(this,void 0),ru.set(this,void 0),Me.set(this,void 0),iu.set(this,typeof window>"u"||typeof document>"u"?Jo.Unsupported:Jo.Installed),hh.set(this,n=>{if("accounts"in n){const r=fe(this,Me,"f").accounts[0];fe(this,tn,"f")&&!fe(this,ii,"f")&&r!==fe(this,tn,"f")&&(r?fe(this,Ot,"m",Pc).call(this,r):(this.emit("error",new O9),fe(this,Ot,"m",dh).call(this)))}"features"in n&&fe(this,Ot,"m",vo).call(this)}),xt(this,Me,t,"f"),xt(this,tn,null,"f"),xt(this,pi,null,"f"),xt(this,gi,!1,"f"),xt(this,ii,!1,"f"),xt(this,po,fe(this,Me,"f").features[Lh].on("change",fe(this,hh,"f")),"f"),fe(this,Ot,"m",vo).call(this)}destroy(){xt(this,tn,null,"f"),xt(this,pi,null,"f"),xt(this,gi,!1,"f"),xt(this,ii,!1,"f");const t=fe(this,po,"f");t&&(xt(this,po,null,"f"),t())}async autoConnect(){return fe(this,Ot,"m",fh).call(this,{silent:!0})}async connect(){return fe(this,Ot,"m",fh).call(this)}async disconnect(){if(id in fe(this,Me,"f").features)try{xt(this,ii,!0,"f"),await fe(this,Me,"f").features[id].disconnect()}catch(t){this.emit("error",new T9(t?.message,t))}finally{xt(this,ii,!1,"f")}fe(this,Ot,"m",dh).call(this)}async sendTransaction(t,n,r={}){try{const i=fe(this,tn,"f");if(!i)throw new wo;let s;if(nn in fe(this,Me,"f").features)if(i.features.includes(nn))s=nn;else if(Ze in fe(this,Me,"f").features&&i.features.includes(Ze))s=Ze;else throw new ys;else if(Ze in fe(this,Me,"f").features){if(!i.features.includes(Ze))throw new ys;s=Ze}else throw new fo;const o=lR(n.rpcEndpoint);if(!i.chains.includes(o))throw new j1;try{const{signers:a,...c}=r;let u;if(ho(t)?(a?.length&&t.sign(a),u=t.serialize()):(t=await this.prepareTransaction(t,n,c),a?.length&&t.partialSign(...a),u=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),s===nn){const[l]=await fe(this,Me,"f").features[nn].signAndSendTransaction({account:i,chain:o,transaction:u,options:{preflightCommitment:_f(c.preflightCommitment||n.commitment),skipPreflight:c.skipPreflight,maxRetries:c.maxRetries,minContextSlot:c.minContextSlot}});return U9.encode(l.signature)}else{const[l]=await fe(this,Me,"f").features[Ze].signTransaction({account:i,chain:o,transaction:u,options:{preflightCommitment:_f(c.preflightCommitment||n.commitment),minContextSlot:c.minContextSlot}});return await n.sendRawTransaction(l.signedTransaction,{...c,preflightCommitment:_f(c.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof an?a:new j1(a?.message,a)}}catch(i){throw this.emit("error",i),i}}}tn=new WeakMap,pi=new WeakMap,gi=new WeakMap,ii=new WeakMap,po=new WeakMap,ru=new WeakMap,Me=new WeakMap,iu=new WeakMap,hh=new WeakMap,Ot=new WeakSet,fh=async function(t){try{if(this.connected||this.connecting)return;if(fe(this,iu,"f")!==Jo.Installed)throw new R9;if(xt(this,gi,!0,"f"),!fe(this,Me,"f").accounts.length)try{await fe(this,Me,"f").features[kh].connect(t)}catch(r){throw new P9(r?.message,r)}const n=fe(this,Me,"f").accounts[0];if(!n)throw new ys;fe(this,Ot,"m",Pc).call(this,n)}catch(n){throw this.emit("error",n),n}finally{xt(this,gi,!1,"f")}},Pc=function(t){let n;try{n=new ye(t.address)}catch(r){throw new D9(r?.message,r)}xt(this,tn,t,"f"),xt(this,pi,n,"f"),fe(this,Ot,"m",vo).call(this),this.emit("connect",n)},dh=function(){xt(this,tn,null,"f"),xt(this,pi,null,"f"),fe(this,Ot,"m",vo).call(this),this.emit("disconnect")},vo=function(){const t=nn in fe(this,Me,"f").features?fe(this,Me,"f").features[nn].supportedTransactionVersions:fe(this,Me,"f").features[Ze].supportedTransactionVersions;xt(this,ru,a8(t,["legacy"])?null:new Set(t),"f"),Ze in fe(this,Me,"f").features&&fe(this,tn,"f")?.features.includes(Ze)?(this.signTransaction=fe(this,Ot,"m",H1),this.signAllTransactions=fe(this,Ot,"m",K1)):(delete this.signTransaction,delete this.signAllTransactions),kr in fe(this,Me,"f").features&&fe(this,tn,"f")?.features.includes(kr)?this.signMessage=fe(this,Ot,"m",V1):delete this.signMessage,bi in fe(this,Me,"f").features?this.signIn=fe(this,Ot,"m",G1):delete this.signIn},H1=async function(t){try{const n=fe(this,tn,"f");if(!n)throw new wo;if(!(Ze in fe(this,Me,"f").features))throw new fo;if(!n.features.includes(Ze))throw new ys;try{const i=(await fe(this,Me,"f").features[Ze].signTransaction({account:n,transaction:ho(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return ho(t)?Zo.deserialize(i):Bn.from(i)}catch(r){throw r instanceof an?r:new W1(r?.message,r)}}catch(n){throw this.emit("error",n),n}},K1=async function(t){try{const n=fe(this,tn,"f");if(!n)throw new wo;if(!(Ze in fe(this,Me,"f").features))throw new fo;if(!n.features.includes(Ze))throw new ys;try{const r=await fe(this,Me,"f").features[Ze].signTransaction(...t.map(i=>({account:n,transaction:ho(i)?i.serialize():new Uint8Array(i.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((i,s)=>{const o=r[s].signedTransaction;return ho(i)?Zo.deserialize(o):Bn.from(o)})}catch(r){throw new W1(r?.message,r)}}catch(n){throw this.emit("error",n),n}},V1=async function(t){try{const n=fe(this,tn,"f");if(!n)throw new wo;if(!(kr in fe(this,Me,"f").features))throw new fo;if(!n.features.includes(kr))throw new ys;try{return(await fe(this,Me,"f").features[kr].signMessage({account:n,message:t}))[0].signature}catch(r){throw new $9(r?.message,r)}}catch(n){throw this.emit("error",n),n}},G1=async function(t={}){try{if(!(bi in fe(this,Me,"f").features))throw new fo;let n;try{[n]=await fe(this,Me,"f").features[bi].signIn(t)}catch(r){throw new q1(r?.message,r)}if(!n)throw new q1;return fe(this,Ot,"m",Pc).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const j9=L9;function W9(e){const t=Z1(()=>new Set),{get:n,on:r}=Z1(()=>o8()),[i,s]=oe.useState(()=>Y1(n()));oe.useEffect(()=>{const a=[r("register",(...c)=>s(u=>[...u,...Y1(c)])),r("unregister",(...c)=>s(u=>u.filter(l=>c.some(f=>f===l.wallet))))];return()=>a.forEach(c=>c())},[r]);const o=q9(i);return oe.useEffect(()=>{if(!o)return;const a=new Set(i);new Set(o.filter(u=>!a.has(u))).forEach(u=>u.destroy())},[o,i]),oe.useEffect(()=>()=>i.forEach(a=>a.destroy()),[]),oe.useMemo(()=>[...i,...e.filter(({name:a})=>i.some(c=>c.name===a)?(t.has(a)||(t.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[i,e,t])}function Z1(e){const t=oe.useRef(void 0);return t.current===void 0&&(t.current={value:e()}),t.current.value}function q9(e){const t=oe.useRef(void 0);return oe.useEffect(()=>{t.current=e}),t.current}function Y1(e){return e.filter(j9).map(t=>new z9({wallet:t}))}var Es;(function(e){e[e.DESKTOP_WEB=0]="DESKTOP_WEB",e[e.MOBILE_WEB=1]="MOBILE_WEB"})(Es||(Es={}));function H9(e){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(e)}function K9({adapters:e,userAgentString:t}){return e.some(n=>n.name!==Rc&&n.readyState===Ln.Installed)?Es.DESKTOP_WEB:t&&/android/i.test(t)&&!H9(t)?Es.MOBILE_WEB:Es.DESKTOP_WEB}function V9(e){return e?/devnet/i.test(e)?"devnet":/testnet/i.test(e)?"testnet":"mainnet-beta":"mainnet-beta"}function G9({children:e,wallets:t,adapter:n,isUnloadingRef:r,onAutoConnectRequest:i,onConnectError:s,onError:o,onSelectWallet:a}){const c=oe.useRef(!1),[u,l]=oe.useState(!1),f=oe.useRef(!1),[d,p]=oe.useState(!1),[b,y]=oe.useState(()=>n?.publicKey??null),[w,A]=oe.useState(()=>n?.connected??!1),B=oe.useRef(o);oe.useEffect(()=>(B.current=o,()=>{B.current=void 0}),[o]);const _=oe.useRef((g,E)=>(r.current||(B.current?B.current(g,E):(console.error(g,E),g instanceof n1&&typeof window<"u"&&E&&window.open(E.url,"_blank"))),g)),[M,I]=oe.useState(()=>t.map(g=>({adapter:g,readyState:g.readyState})).filter(({readyState:g})=>g!==Ln.Unsupported));oe.useEffect(()=>{I(E=>t.map((R,O)=>{const $=E[O];return $&&$.adapter===R&&$.readyState===R.readyState?$:{adapter:R,readyState:R.readyState}}).filter(({readyState:R})=>R!==Ln.Unsupported));function g(E){I(R=>{const O=R.findIndex(({adapter:F})=>F===this);if(O===-1)return R;const{adapter:$}=R[O];return[...R.slice(0,O),{adapter:$,readyState:E},...R.slice(O+1)].filter(({readyState:F})=>F!==Ln.Unsupported)})}return t.forEach(E=>E.on("readyStateChange",g,E)),()=>{t.forEach(E=>E.off("readyStateChange",g,E))}},[n,t]);const C=oe.useMemo(()=>M.find(g=>g.adapter===n)??null,[n,M]);oe.useEffect(()=>{if(!n)return;const g=O=>{y(O),c.current=!1,l(!1),A(!0),f.current=!1,p(!1)},E=()=>{r.current||(y(null),c.current=!1,l(!1),A(!1),f.current=!1,p(!1))},R=O=>{_.current(O,n)};return n.on("connect",g),n.on("disconnect",E),n.on("error",R),()=>{n.off("connect",g),n.off("disconnect",E),n.off("error",R),E()}},[n,r]);const k=oe.useRef(!1);oe.useEffect(()=>()=>{k.current=!1},[n]),oe.useEffect(()=>{k.current||c.current||w||!i||!(C?.readyState===Ln.Installed||C?.readyState===Ln.Loadable)||(c.current=!0,l(!0),k.current=!0,(async function(){try{await i()}catch{s()}finally{l(!1),c.current=!1}})())},[w,i,s,C]);const z=oe.useCallback(async(g,E,R)=>{if(!n)throw _.current(new r1);if(!w)throw _.current(new Va,n);return await n.sendTransaction(g,E,R)},[n,w]),N=oe.useMemo(()=>n&&"signTransaction"in n?async g=>{if(!w)throw _.current(new Va,n);return await n.signTransaction(g)}:void 0,[n,w]),U=oe.useMemo(()=>n&&"signAllTransactions"in n?async g=>{if(!w)throw _.current(new Va,n);return await n.signAllTransactions(g)}:void 0,[n,w]),W=oe.useMemo(()=>n&&"signMessage"in n?async g=>{if(!w)throw _.current(new Va,n);return await n.signMessage(g)}:void 0,[n,w]),H=oe.useMemo(()=>n&&"signIn"in n?async g=>await n.signIn(g):void 0,[n]),P=oe.useCallback(async()=>{if(c.current||f.current||C?.adapter.connected)return;if(!C)throw _.current(new r1);const{adapter:g,readyState:E}=C;if(!(E===Ln.Installed||E===Ln.Loadable))throw _.current(new n1,g);c.current=!0,l(!0);try{await g.connect()}catch(R){throw s(),R}finally{l(!1),c.current=!1}},[s,C]),h=oe.useCallback(async()=>{if(!f.current&&n){f.current=!0,p(!0);try{await n.disconnect()}finally{p(!1),f.current=!1}}},[n]);return Bh.createElement(y6.Provider,{value:{autoConnect:!!i,wallets:M,wallet:C,publicKey:b,connected:w,connecting:u,disconnecting:d,select:a,connect:P,disconnect:h,sendTransaction:z,signTransaction:N,signAllTransactions:U,signMessage:W,signIn:H}},e)}let Of;function Z9(){return Of===void 0&&(Of=globalThis.navigator?.userAgent??null),Of}function J1(e){const t=Z9();return K9({adapters:e,userAgentString:t})===Es.MOBILE_WEB}function Y9(){const e=globalThis.location;if(e)return`${e.protocol}//${e.host}`}function wF({children:e,wallets:t,autoConnect:n,localStorageKey:r="walletName",onError:i}){const{connection:s}=IM(),o=W9(t),a=oe.useMemo(()=>{if(!J1(o))return null;const B=o.find(_=>_.name===Rc);return B||new x9({addressSelector:_9(),appIdentity:{uri:Y9()},authorizationResultCache:S9(),cluster:V9(s?.rpcEndpoint),onWalletNotFound:I9()})},[o,s?.rpcEndpoint]),c=oe.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[u,l]=MM(r,null),f=oe.useMemo(()=>c.find(B=>B.name===u)??null,[c,u]),d=oe.useCallback(B=>{u!==B&&(f&&f.name!==Rc&&f.disconnect(),l(B))},[f,l,u]);oe.useEffect(()=>{if(!f)return;function B(){y.current||l(null)}return f.on("disconnect",B),()=>{f.off("disconnect",B)}},[f,o,l,u]);const p=oe.useRef(!1),b=oe.useMemo(()=>{if(!(!n||!f))return async()=>{(n===!0||await n(f))&&(p.current?await f.connect():await f.autoConnect())}},[n,f]),y=oe.useRef(!1);oe.useEffect(()=>{if(u===Rc&&J1(o)){y.current=!1;return}function B(){y.current=!0}return window.addEventListener("beforeunload",B),()=>{window.removeEventListener("beforeunload",B)}},[o,u]);const w=oe.useCallback(()=>{f&&d(null)},[f,d]),A=oe.useCallback(B=>{p.current=!0,d(B)},[d]);return Bh.createElement(G9,{wallets:c,adapter:f,isUnloadingRef:y,onAutoConnectRequest:b,onConnectError:w,onError:i,onSelectWallet:A},e)}var Tf={exports:{}},Q1;function J9(){return Q1||(Q1=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,f,d){if(typeof l!="function")throw new TypeError("The listener must be a function");var p=new i(l,f||c,d),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],p]:c._events[b].push(p):(c._events[b]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,f;if(this._eventsCount===0)return u;for(f in l=this._events)t.call(l,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=n?n+u:u,f=this._events[l];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,b=new Array(p);d<p;d++)b[d]=f[d].fn;return b},a.prototype.listenerCount=function(u){var l=n?n+u:u,f=this._events[l];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,l,f,d,p,b){var y=n?n+u:u;if(!this._events[y])return!1;var w=this._events[y],A=arguments.length,B,_;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,l),!0;case 3:return w.fn.call(w.context,l,f),!0;case 4:return w.fn.call(w.context,l,f,d),!0;case 5:return w.fn.call(w.context,l,f,d,p),!0;case 6:return w.fn.call(w.context,l,f,d,p,b),!0}for(_=1,B=new Array(A-1);_<A;_++)B[_-1]=arguments[_];w.fn.apply(w.context,B)}else{var M=w.length,I;for(_=0;_<M;_++)switch(w[_].once&&this.removeListener(u,w[_].fn,void 0,!0),A){case 1:w[_].fn.call(w[_].context);break;case 2:w[_].fn.call(w[_].context,l);break;case 3:w[_].fn.call(w[_].context,l,f);break;case 4:w[_].fn.call(w[_].context,l,f,d);break;default:if(!B)for(I=1,B=new Array(A-1);I<A;I++)B[I-1]=arguments[I];w[_].fn.apply(w[_].context,B)}}return!0},a.prototype.on=function(u,l,f){return s(this,u,l,f,!1)},a.prototype.once=function(u,l,f){return s(this,u,l,f,!0)},a.prototype.removeListener=function(u,l,f,d){var p=n?n+u:u;if(!this._events[p])return this;if(!l)return o(this,p),this;var b=this._events[p];if(b.fn)b.fn===l&&(!d||b.once)&&(!f||b.context===f)&&o(this,p);else{for(var y=0,w=[],A=b.length;y<A;y++)(b[y].fn!==l||d&&!b[y].once||f&&b[y].context!==f)&&w.push(b[y]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=n?n+u:u,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Tf)),Tf.exports}var Q9=J9();const X9=xn(Q9);class Kn extends Error{constructor(t,n){super(t),this.error=n}}class eP extends Kn{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class tP extends Kn{constructor(){super(...arguments),this.name="WalletConnectionError"}}class nP extends Kn{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class rP extends Kn{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class iP extends Kn{constructor(){super(...arguments),this.name="WalletAccountError"}}class sP extends Kn{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class go extends Kn{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class yo extends Kn{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class yi extends Kn{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}var si;(function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"})(si||(si={}));class oP extends X9{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,n,r={}){const i=this.publicKey;if(!i)throw new go;return t.feePayer=t.feePayer||i,t.recentBlockhash=t.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,t}}function aP(e){if(typeof window>"u"||typeof document>"u")return;const t=[];function n(){if(e())for(const s of t)s()}const r=setInterval(n,1e3);t.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),t.push(()=>window.removeEventListener("load",n))),n()}function ph(e){return"version"in e}class cP extends oP{async sendTransaction(t,n,r={}){let i=!0;try{if(ph(t)){if(!this.supportedTransactionVersions)throw new yo("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new yo(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const s=t.serialize();return await n.sendRawTransaction(s,r)}catch(s){throw s instanceof yi?(i=!1,s):new yo(s?.message,s)}}else try{const{signers:s,...o}=r;t=await this.prepareTransaction(t,n,o),s?.length&&t.partialSign(...s),t=await this.signTransaction(t);const a=t.serialize();return await n.sendRawTransaction(a,o)}catch(s){throw s instanceof yi?(i=!1,s):new yo(s?.message,s)}}catch(s){throw i&&this.emit("error",s),s}}async signAllTransactions(t){for(const r of t)if(ph(r)){if(!this.supportedTransactionVersions)throw new yi("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new yi(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of t)n.push(await this.signTransaction(r));return n}}class uP extends cP{}const lP="Coinbase Wallet";class vF extends uP{constructor(t={}){super(),this.name=lP,this.url="https://chrome.google.com/webstore/detail/coinbase-wallet-extension/hnfanknocfeofbddgcijnmhnfnkdnaad",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8Y2lyY2xlIGN4PSI1MTIiIGN5PSI1MTIiIHI9IjUxMiIgZmlsbD0iIzAwNTJGRiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE1MiA1MTJDMTUyIDcxMC44MjMgMzEzLjE3NyA4NzIgNTEyIDg3MkM3MTAuODIzIDg3MiA4NzIgNzEwLjgyMyA4NzIgNTEyQzg3MiAzMTMuMTc3IDcxMC44MjMgMTUyIDUxMiAxNTJDMzEzLjE3NyAxNTIgMTUyIDMxMy4xNzcgMTUyIDUxMlpNNDIwIDM5NkM0MDYuNzQ1IDM5NiAzOTYgNDA2Ljc0NSAzOTYgNDIwVjYwNEMzOTYgNjE3LjI1NSA0MDYuNzQ1IDYyOCA0MjAgNjI4SDYwNEM2MTcuMjU1IDYyOCA2MjggNjE3LjI1NSA2MjggNjA0VjQyMEM2MjggNDA2Ljc0NSA2MTcuMjU1IDM5NiA2MDQgMzk2SDQyMFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?si.Unsupported:si.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new nP),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==si.Unsupported&&aP(()=>window?.coinbaseSolana?(this._readyState=si.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==si.Installed)throw new eP;this._connecting=!0;const t=window.coinbaseSolana;try{await t.connect()}catch(r){throw new tP(r?.message,r)}if(!t.publicKey)throw new iP;let n;try{n=new ye(t.publicKey.toBytes())}catch(r){throw new sP(r?.message,r)}t.on("disconnect",this._disconnected),this._wallet=t,this._publicKey=n,this.emit("connect",n)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(n){this.emit("error",new rP(n?.message,n))}}this.emit("disconnect")}async sendTransaction(t,n,r={}){try{const i=this._wallet;if(!i)throw new go;try{const{signers:s,...o}=r;ph(t)?s?.length&&t.sign(s):(t=await this.prepareTransaction(t,n,o),s?.length&&t.partialSign(...s)),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await i.signAndSendTransaction(t,o);return a}catch(s){throw s instanceof Kn?s:new yo(s?.message,s)}}catch(i){throw this.emit("error",i),i}}async signTransaction(t){try{const n=this._wallet;if(!n)throw new go;try{return await n.signTransaction(t)||t}catch(r){throw new yi(r?.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(t){try{const n=this._wallet;if(!n)throw new go;try{return await n.signAllTransactions(t)||t}catch(r){throw new yi(r?.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(t){try{const n=this._wallet;if(!n)throw new go;try{const{signature:r}=await n.signMessage(t);return r}catch(r){throw new yi(r?.message,r)}}catch(n){throw this.emit("error",n),n}}}var Ya={exports:{}},X1;function $0(){if(X1)return Ya.exports;X1=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(I,C,k){return Function.prototype.apply.call(I,C,k)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(I){return Object.getOwnPropertyNames(I).concat(Object.getOwnPropertySymbols(I))}:n=function(I){return Object.getOwnPropertyNames(I)};function r(M){console&&console.warn&&console.warn(M)}var i=Number.isNaN||function(I){return I!==I};function s(){s.init.call(this)}Ya.exports=s,Ya.exports.once=A,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(M){if(typeof M!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof M)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(M){if(typeof M!="number"||M<0||i(M))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+M+".");o=M}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(I){if(typeof I!="number"||I<0||i(I))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+I+".");return this._maxListeners=I,this};function c(M){return M._maxListeners===void 0?s.defaultMaxListeners:M._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(I){for(var C=[],k=1;k<arguments.length;k++)C.push(arguments[k]);var z=I==="error",N=this._events;if(N!==void 0)z=z&&N.error===void 0;else if(!z)return!1;if(z){var U;if(C.length>0&&(U=C[0]),U instanceof Error)throw U;var W=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw W.context=U,W}var H=N[I];if(H===void 0)return!1;if(typeof H=="function")t(H,this,C);else for(var P=H.length,h=b(H,P),k=0;k<P;++k)t(h[k],this,C);return!0};function u(M,I,C,k){var z,N,U;if(a(C),N=M._events,N===void 0?(N=M._events=Object.create(null),M._eventsCount=0):(N.newListener!==void 0&&(M.emit("newListener",I,C.listener?C.listener:C),N=M._events),U=N[I]),U===void 0)U=N[I]=C,++M._eventsCount;else if(typeof U=="function"?U=N[I]=k?[C,U]:[U,C]:k?U.unshift(C):U.push(C),z=c(M),z>0&&U.length>z&&!U.warned){U.warned=!0;var W=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(I)+" listeners added. Use emitter.setMaxListeners() to increase limit");W.name="MaxListenersExceededWarning",W.emitter=M,W.type=I,W.count=U.length,r(W)}return M}s.prototype.addListener=function(I,C){return u(this,I,C,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(I,C){return u(this,I,C,!0)};function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(M,I,C){var k={fired:!1,wrapFn:void 0,target:M,type:I,listener:C},z=l.bind(k);return z.listener=C,k.wrapFn=z,z}s.prototype.once=function(I,C){return a(C),this.on(I,f(this,I,C)),this},s.prototype.prependOnceListener=function(I,C){return a(C),this.prependListener(I,f(this,I,C)),this},s.prototype.removeListener=function(I,C){var k,z,N,U,W;if(a(C),z=this._events,z===void 0)return this;if(k=z[I],k===void 0)return this;if(k===C||k.listener===C)--this._eventsCount===0?this._events=Object.create(null):(delete z[I],z.removeListener&&this.emit("removeListener",I,k.listener||C));else if(typeof k!="function"){for(N=-1,U=k.length-1;U>=0;U--)if(k[U]===C||k[U].listener===C){W=k[U].listener,N=U;break}if(N<0)return this;N===0?k.shift():y(k,N),k.length===1&&(z[I]=k[0]),z.removeListener!==void 0&&this.emit("removeListener",I,W||C)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(I){var C,k,z;if(k=this._events,k===void 0)return this;if(k.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):k[I]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete k[I]),this;if(arguments.length===0){var N=Object.keys(k),U;for(z=0;z<N.length;++z)U=N[z],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(C=k[I],typeof C=="function")this.removeListener(I,C);else if(C!==void 0)for(z=C.length-1;z>=0;z--)this.removeListener(I,C[z]);return this};function d(M,I,C){var k=M._events;if(k===void 0)return[];var z=k[I];return z===void 0?[]:typeof z=="function"?C?[z.listener||z]:[z]:C?w(z):b(z,z.length)}s.prototype.listeners=function(I){return d(this,I,!0)},s.prototype.rawListeners=function(I){return d(this,I,!1)},s.listenerCount=function(M,I){return typeof M.listenerCount=="function"?M.listenerCount(I):p.call(M,I)},s.prototype.listenerCount=p;function p(M){var I=this._events;if(I!==void 0){var C=I[M];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function b(M,I){for(var C=new Array(I),k=0;k<I;++k)C[k]=M[k];return C}function y(M,I){for(;I+1<M.length;I++)M[I]=M[I+1];M.pop()}function w(M){for(var I=new Array(M.length),C=0;C<I.length;++C)I[C]=M[C].listener||M[C];return I}function A(M,I){return new Promise(function(C,k){function z(U){M.removeListener(I,N),k(U)}function N(){typeof M.removeListener=="function"&&M.removeListener("error",z),C([].slice.call(arguments))}_(M,I,N,{once:!0}),I!=="error"&&B(M,z,{once:!0})})}function B(M,I,C){typeof M.on=="function"&&_(M,"error",I,C)}function _(M,I,C,k){if(typeof M.on=="function")k.once?M.once(I,C):M.on(I,C);else if(typeof M.addEventListener=="function")M.addEventListener(I,function z(N){k.once&&M.removeEventListener(I,z),C(N)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof M)}return Ya.exports}var Df,ey;function EF(){if(ey)return Df;ey=1,Df=e;function e(n,r){if(t("noDeprecation"))return n;var i=!1;function s(){if(!i){if(t("throwDeprecation"))throw new Error(r);t("traceDeprecation")?console.trace(r):console.warn(r),i=!0}return n.apply(this,arguments)}return s}function t(n){try{if(!wn.localStorage)return!1}catch{return!1}var r=wn.localStorage[n];return r==null?!1:String(r).toLowerCase()==="true"}return Df}var $f={},Ja={exports:{}},ty;function fP(){return ty||(ty=1,(function(e,t){var n=ia(),r=n.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=s);function s(o,a,c){return r(o,a,c)}i(r,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Ja,Ja.exports)),Ja.exports}var ny;function xF(){if(ny)return $f;ny=1;var e=fP().Buffer,t=e.isEncoding||function(A){switch(A=""+A,A&&A.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(A){if(!A)return"utf8";for(var B;;)switch(A){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return A;default:if(B)return;A=(""+A).toLowerCase(),B=!0}}function r(A){var B=n(A);if(typeof B!="string"&&(e.isEncoding===t||!t(A)))throw new Error("Unknown encoding: "+A);return B||A}$f.StringDecoder=i;function i(A){this.encoding=r(A);var B;switch(this.encoding){case"utf16le":this.text=f,this.end=d,B=4;break;case"utf8":this.fillLast=c,B=4;break;case"base64":this.text=p,this.end=b,B=3;break;default:this.write=y,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(B)}i.prototype.write=function(A){if(A.length===0)return"";var B,_;if(this.lastNeed){if(B=this.fillLast(A),B===void 0)return"";_=this.lastNeed,this.lastNeed=0}else _=0;return _<A.length?B?B+this.text(A,_):this.text(A,_):B||""},i.prototype.end=l,i.prototype.text=u,i.prototype.fillLast=function(A){if(this.lastNeed<=A.length)return A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,A.length),this.lastNeed-=A.length};function s(A){return A<=127?0:A>>5===6?2:A>>4===14?3:A>>3===30?4:A>>6===2?-1:-2}function o(A,B,_){var M=B.length-1;if(M<_)return 0;var I=s(B[M]);return I>=0?(I>0&&(A.lastNeed=I-1),I):--M<_||I===-2?0:(I=s(B[M]),I>=0?(I>0&&(A.lastNeed=I-2),I):--M<_||I===-2?0:(I=s(B[M]),I>=0?(I>0&&(I===2?I=0:A.lastNeed=I-3),I):0))}function a(A,B,_){if((B[0]&192)!==128)return A.lastNeed=0,"";if(A.lastNeed>1&&B.length>1){if((B[1]&192)!==128)return A.lastNeed=1,"";if(A.lastNeed>2&&B.length>2&&(B[2]&192)!==128)return A.lastNeed=2,""}}function c(A){var B=this.lastTotal-this.lastNeed,_=a(this,A);if(_!==void 0)return _;if(this.lastNeed<=A.length)return A.copy(this.lastChar,B,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,B,0,A.length),this.lastNeed-=A.length}function u(A,B){var _=o(this,A,B);if(!this.lastNeed)return A.toString("utf8",B);this.lastTotal=_;var M=A.length-(_-this.lastNeed);return A.copy(this.lastChar,0,M),A.toString("utf8",B,M)}function l(A){var B=A&&A.length?this.write(A):"";return this.lastNeed?B+"":B}function f(A,B){if((A.length-B)%2===0){var _=A.toString("utf16le",B);if(_){var M=_.charCodeAt(_.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1],_.slice(0,-1)}return _}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=A[A.length-1],A.toString("utf16le",B,A.length-1)}function d(A){var B=A&&A.length?this.write(A):"";if(this.lastNeed){var _=this.lastTotal-this.lastNeed;return B+this.lastChar.toString("utf16le",0,_)}return B}function p(A,B){var _=(A.length-B)%3;return _===0?A.toString("base64",B):(this.lastNeed=3-_,this.lastTotal=3,_===1?this.lastChar[0]=A[A.length-1]:(this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1]),A.toString("base64",B,A.length-_))}function b(A){var B=A&&A.length?this.write(A):"";return this.lastNeed?B+this.lastChar.toString("base64",0,3-this.lastNeed):B}function y(A){return A.toString(this.encoding)}function w(A){return A&&A.length?this.write(A):""}return $f}var Qa={},ry;function _F(){if(ry)return Qa;ry=1,Object.defineProperty(Qa,"__esModule",{value:!0});const e=$0();function t(i,s,o){try{Reflect.apply(i,s,o)}catch(a){setTimeout(()=>{throw a})}}function n(i){const s=i.length,o=new Array(s);for(let a=0;a<s;a+=1)o[a]=i[a];return o}class r extends e.EventEmitter{emit(s,...o){let a=s==="error";const c=this._events;if(c!==void 0)a=a&&c.error===void 0;else if(!a)return!1;if(a){let l;if(o.length>0&&([l]=o),l instanceof Error)throw l;const f=new Error(`Unhandled error.${l?` (${l.message})`:""}`);throw f.context=l,f}const u=c[s];if(u===void 0)return!1;if(typeof u=="function")t(u,this,o);else{const l=u.length,f=n(u);for(let d=0;d<l;d+=1)t(f[d],this,o)}return!0}}return Qa.default=r,Qa}var Gr={},Ks={},Vs={},iy;function k6(){if(iy)return Vs;iy=1,Object.defineProperty(Vs,"__esModule",{value:!0}),Vs.getUniqueId=void 0;const e=4294967295;let t=Math.floor(Math.random()*e);function n(){return t=(t+1)%e,t}return Vs.getUniqueId=n,Vs}var sy;function dP(){if(sy)return Ks;sy=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.createIdRemapMiddleware=void 0;const e=k6();function t(){return(n,r,i,s)=>{const o=n.id,a=e.getUniqueId();n.id=a,r.id=a,i(c=>{n.id=o,r.id=o,c()})}}return Ks.createIdRemapMiddleware=t,Ks}var Gs={},oy;function hP(){if(oy)return Gs;oy=1,Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.createAsyncMiddleware=void 0;function e(t){return async(n,r,i,s)=>{let o;const a=new Promise(f=>{o=f});let c=null,u=!1;const l=async()=>{u=!0,i(f=>{c=f,o()}),await a};try{await t(n,r,l),u?(await a,c(null)):s(null)}catch(f){c?c(f):s(f)}}}return Gs.createAsyncMiddleware=e,Gs}var Zs={},ay;function pP(){if(ay)return Zs;ay=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.createScaffoldMiddleware=void 0;function e(t){return(n,r,i,s)=>{const o=t[n.method];return o===void 0?i():typeof o=="function"?o(n,r,i,s):(r.result=o,s())}}return Zs.createScaffoldMiddleware=e,Zs}var Zr={},Xa={},cy;function gP(){if(cy)return Xa;cy=1,Object.defineProperty(Xa,"__esModule",{value:!0});const e=$0();function t(i,s,o){try{Reflect.apply(i,s,o)}catch(a){setTimeout(()=>{throw a})}}function n(i){const s=i.length,o=new Array(s);for(let a=0;a<s;a+=1)o[a]=i[a];return o}class r extends e.EventEmitter{emit(s,...o){let a=s==="error";const c=this._events;if(c!==void 0)a=a&&c.error===void 0;else if(!a)return!1;if(a){let l;if(o.length>0&&([l]=o),l instanceof Error)throw l;const f=new Error(`Unhandled error.${l?` (${l.message})`:""}`);throw f.context=l,f}const u=c[s];if(u===void 0)return!1;if(typeof u=="function")t(u,this,o);else{const l=u.length,f=n(u);for(let d=0;d<l;d+=1)t(f[d],this,o)}return!0}}return Xa.default=r,Xa}var kf={},Yr={},Lf,uy;function yP(){if(uy)return Lf;uy=1,Lf=s,s.default=s,s.stable=u,s.stableStringify=u;var e="[...]",t="[Circular]",n=[],r=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function s(d,p,b,y){typeof y>"u"&&(y=i()),a(d,"",0,[],void 0,0,y);var w;try{r.length===0?w=JSON.stringify(d,p,b):w=JSON.stringify(d,f(p),b)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var A=n.pop();A.length===4?Object.defineProperty(A[0],A[1],A[3]):A[0][A[1]]=A[2]}}return w}function o(d,p,b,y){var w=Object.getOwnPropertyDescriptor(y,b);w.get!==void 0?w.configurable?(Object.defineProperty(y,b,{value:d}),n.push([y,b,p,w])):r.push([p,b,d]):(y[b]=d,n.push([y,b,p]))}function a(d,p,b,y,w,A,B){A+=1;var _;if(typeof d=="object"&&d!==null){for(_=0;_<y.length;_++)if(y[_]===d){o(t,d,p,w);return}if(typeof B.depthLimit<"u"&&A>B.depthLimit){o(e,d,p,w);return}if(typeof B.edgesLimit<"u"&&b+1>B.edgesLimit){o(e,d,p,w);return}if(y.push(d),Array.isArray(d))for(_=0;_<d.length;_++)a(d[_],_,_,y,d,A,B);else{var M=Object.keys(d);for(_=0;_<M.length;_++){var I=M[_];a(d[I],I,_,y,d,A,B)}}y.pop()}}function c(d,p){return d<p?-1:d>p?1:0}function u(d,p,b,y){typeof y>"u"&&(y=i());var w=l(d,"",0,[],void 0,0,y)||d,A;try{r.length===0?A=JSON.stringify(w,p,b):A=JSON.stringify(w,f(p),b)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var B=n.pop();B.length===4?Object.defineProperty(B[0],B[1],B[3]):B[0][B[1]]=B[2]}}return A}function l(d,p,b,y,w,A,B){A+=1;var _;if(typeof d=="object"&&d!==null){for(_=0;_<y.length;_++)if(y[_]===d){o(t,d,p,w);return}try{if(typeof d.toJSON=="function")return}catch{return}if(typeof B.depthLimit<"u"&&A>B.depthLimit){o(e,d,p,w);return}if(typeof B.edgesLimit<"u"&&b+1>B.edgesLimit){o(e,d,p,w);return}if(y.push(d),Array.isArray(d))for(_=0;_<d.length;_++)l(d[_],_,_,y,d,A,B);else{var M={},I=Object.keys(d).sort(c);for(_=0;_<I.length;_++){var C=I[_];l(d[C],C,_,y,d,A,B),M[C]=d[C]}if(typeof w<"u")n.push([w,p,d]),w[p]=M;else return M}y.pop()}}function f(d){return d=typeof d<"u"?d:function(p,b){return b},function(p,b){if(r.length>0)for(var y=0;y<r.length;y++){var w=r[y];if(w[1]===p&&w[0]===b){b=w[2],r.splice(y,1);break}}return d.call(this,p,b)}}return Lf}var ly;function k0(){if(ly)return Yr;ly=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.EthereumProviderError=Yr.EthereumRpcError=void 0;const e=yP();class t extends Error{constructor(o,a,c){if(!Number.isInteger(o))throw new Error('"code" must be an integer.');if(!a||typeof a!="string")throw new Error('"message" must be a nonempty string.');super(a),this.code=o,c!==void 0&&(this.data=c)}serialize(){const o={code:this.code,message:this.message};return this.data!==void 0&&(o.data=this.data),this.stack&&(o.stack=this.stack),o}toString(){return e.default(this.serialize(),i,2)}}Yr.EthereumRpcError=t;class n extends t{constructor(o,a,c){if(!r(o))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(o,a,c)}}Yr.EthereumProviderError=n;function r(s){return Number.isInteger(s)&&s>=1e3&&s<=4999}function i(s,o){if(o!=="[Circular]")return o}return Yr}var Nf={},Jr={},fy;function L0(){return fy||(fy=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.errorValues=Jr.errorCodes=void 0,Jr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},Jr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}),Jr}var dy;function L6(){return dy||(dy=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=L0(),n=k0(),r=t.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:r,message:o(r)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(d,p=i){if(Number.isInteger(d)){const b=d.toString();if(f(t.errorValues,b))return t.errorValues[b].message;if(u(d))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return p}e.getMessageFromCode=o;function a(d){if(!Number.isInteger(d))return!1;const p=d.toString();return!!(t.errorValues[p]||u(d))}e.isValidCode=a;function c(d,{fallbackError:p=s,shouldIncludeStack:b=!1}={}){var y,w;if(!p||!Number.isInteger(p.code)||typeof p.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(d instanceof n.EthereumRpcError)return d.serialize();const A={};if(d&&typeof d=="object"&&!Array.isArray(d)&&f(d,"code")&&a(d.code)){const _=d;A.code=_.code,_.message&&typeof _.message=="string"?(A.message=_.message,f(_,"data")&&(A.data=_.data)):(A.message=o(A.code),A.data={originalError:l(d)})}else{A.code=p.code;const _=(y=d)===null||y===void 0?void 0:y.message;A.message=_&&typeof _=="string"?_:p.message,A.data={originalError:l(d)}}const B=(w=d)===null||w===void 0?void 0:w.stack;return b&&d&&B&&typeof B=="string"&&(A.stack=B),A}e.serializeError=c;function u(d){return d>=-32099&&d<=-32e3}function l(d){return d&&typeof d=="object"&&!Array.isArray(d)?Object.assign({},d):d}function f(d,p){return Object.prototype.hasOwnProperty.call(d,p)}})(Nf)),Nf}var Ys={},hy;function mP(){if(hy)return Ys;hy=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.ethErrors=void 0;const e=k0(),t=L6(),n=L0();Ys.ethErrors={rpc:{parse:o=>r(n.errorCodes.rpc.parse,o),invalidRequest:o=>r(n.errorCodes.rpc.invalidRequest,o),invalidParams:o=>r(n.errorCodes.rpc.invalidParams,o),methodNotFound:o=>r(n.errorCodes.rpc.methodNotFound,o),internal:o=>r(n.errorCodes.rpc.internal,o),server:o=>{if(!o||typeof o!="object"||Array.isArray(o))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:a}=o;if(!Number.isInteger(a)||a>-32005||a<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return r(a,o)},invalidInput:o=>r(n.errorCodes.rpc.invalidInput,o),resourceNotFound:o=>r(n.errorCodes.rpc.resourceNotFound,o),resourceUnavailable:o=>r(n.errorCodes.rpc.resourceUnavailable,o),transactionRejected:o=>r(n.errorCodes.rpc.transactionRejected,o),methodNotSupported:o=>r(n.errorCodes.rpc.methodNotSupported,o),limitExceeded:o=>r(n.errorCodes.rpc.limitExceeded,o)},provider:{userRejectedRequest:o=>i(n.errorCodes.provider.userRejectedRequest,o),unauthorized:o=>i(n.errorCodes.provider.unauthorized,o),unsupportedMethod:o=>i(n.errorCodes.provider.unsupportedMethod,o),disconnected:o=>i(n.errorCodes.provider.disconnected,o),chainDisconnected:o=>i(n.errorCodes.provider.chainDisconnected,o),custom:o=>{if(!o||typeof o!="object"||Array.isArray(o))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:a,message:c,data:u}=o;if(!c||typeof c!="string")throw new Error('"message" must be a nonempty string');return new e.EthereumProviderError(a,c,u)}}};function r(o,a){const[c,u]=s(a);return new e.EthereumRpcError(o,c||t.getMessageFromCode(o),u)}function i(o,a){const[c,u]=s(a);return new e.EthereumProviderError(o,c||t.getMessageFromCode(o),u)}function s(o){if(o){if(typeof o=="string")return[o];if(typeof o=="object"&&!Array.isArray(o)){const{message:a,data:c}=o;if(a&&typeof a!="string")throw new Error("Must specify string message.");return[a||void 0,c]}}return[]}return Ys}var py;function bP(){return py||(py=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=k0();Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const n=L6();Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=mP();Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return r.ethErrors}});const i=L0();Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(kf)),kf}var gy;function N6(){if(gy)return Zr;gy=1;var e=Zr&&Zr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.JsonRpcEngine=void 0;const t=e(gP()),n=bP();let r=class Dr extends t.default{constructor(){super(),this._middleware=[]}push(o){this._middleware.push(o)}handle(o,a){if(a&&typeof a!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(o)?a?this._handleBatch(o,a):this._handleBatch(o):a?this._handle(o,a):this._promiseHandle(o)}asMiddleware(){return async(o,a,c,u)=>{try{const[l,f,d]=await Dr._runAllMiddleware(o,a,this._middleware);return f?(await Dr._runReturnHandlers(d),u(l)):c(async p=>{try{await Dr._runReturnHandlers(d)}catch(b){return p(b)}return p()})}catch(l){return u(l)}}}async _handleBatch(o,a){try{const c=await Promise.all(o.map(this._promiseHandle.bind(this)));return a?a(null,c):c}catch(c){if(a)return a(c);throw c}}_promiseHandle(o){return new Promise(a=>{this._handle(o,(c,u)=>{a(u)})})}async _handle(o,a){if(!o||Array.isArray(o)||typeof o!="object"){const f=new n.EthereumRpcError(n.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof o}`,{request:o});return a(f,{id:void 0,jsonrpc:"2.0",error:f})}if(typeof o.method!="string"){const f=new n.EthereumRpcError(n.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof o.method}`,{request:o});return a(f,{id:o.id,jsonrpc:"2.0",error:f})}const c=Object.assign({},o),u={id:c.id,jsonrpc:c.jsonrpc};let l=null;try{await this._processRequest(c,u)}catch(f){l=f}return l&&(delete u.result,u.error||(u.error=n.serializeError(l))),a(l,u)}async _processRequest(o,a){const[c,u,l]=await Dr._runAllMiddleware(o,a,this._middleware);if(Dr._checkForCompletion(o,a,u),await Dr._runReturnHandlers(l),c)throw c}static async _runAllMiddleware(o,a,c){const u=[];let l=null,f=!1;for(const d of c)if([l,f]=await Dr._runMiddleware(o,a,d,u),f)break;return[l,f,u.reverse()]}static _runMiddleware(o,a,c,u){return new Promise(l=>{const f=p=>{const b=p||a.error;b&&(a.error=n.serializeError(b)),l([b,!0])},d=p=>{a.error?f(a.error):(p&&(typeof p!="function"&&f(new n.EthereumRpcError(n.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof p}" for request:
${i(o)}`,{request:o})),u.push(p)),l([null,!1]))};try{c(o,a,d,f)}catch(p){f(p)}})}static async _runReturnHandlers(o){for(const a of o)await new Promise((c,u)=>{a(l=>l?u(l):c())})}static _checkForCompletion(o,a,c){if(!("result"in a)&&!("error"in a))throw new n.EthereumRpcError(n.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${i(o)}`,{request:o});if(!c)throw new n.EthereumRpcError(n.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${i(o)}`,{request:o})}};Zr.JsonRpcEngine=r;function i(s){return JSON.stringify(s,null,2)}return Zr}var Js={},yy;function wP(){if(yy)return Js;yy=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.mergeMiddleware=void 0;const e=N6();function t(n){const r=new e.JsonRpcEngine;return n.forEach(i=>r.push(i)),r.asMiddleware()}return Js.mergeMiddleware=t,Js}var my;function SF(){return my||(my=1,(function(e){var t=Gr&&Gr.__createBinding||(Object.create?(function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}):(function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]})),n=Gr&&Gr.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,r,s)};Object.defineProperty(e,"__esModule",{value:!0}),n(dP(),e),n(hP(),e),n(pP(),e),n(k6(),e),n(N6(),e),n(wP(),e)})(Gr)),Gr}var xa=$0();const AF=xn(xa);var by=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))},vP=(function(){function e(t,n,r){this.name=t,this.version=n,this.os=r,this.type="browser"}return e})(),EP=(function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e})(),xP=(function(){function e(t,n,r,i){this.name=t,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return e})(),_P=(function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e})(),SP=(function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e})(),AP=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,IP=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,wy=3,CP=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",AP]],vy=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function IF(e){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new SP:typeof navigator<"u"?MP(navigator.userAgent):PP()}function BP(e){return e!==""&&CP.reduce(function(t,n){var r=n[0],i=n[1];if(t)return t;var s=i.exec(e);return!!s&&[r,s]},!1)}function MP(e){var t=BP(e);if(!t)return null;var n=t[0],r=t[1];if(n==="searchbot")return new _P;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<wy&&(i=by(by([],i,!0),OP(wy-i.length),!0)):i=[];var s=i.join("."),o=RP(e),a=IP.exec(e);return a&&a[1]?new xP(n,s,o,a[1]):new vP(n,s,o)}function RP(e){for(var t=0,n=vy.length;t<n;t++){var r=vy[t],i=r[0],s=r[1],o=s.exec(e);if(o)return i}return null}function PP(){var e=typeof process<"u"&&process.version;return e?new EP(process.version.slice(1)):null}function OP(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}var Ff={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gh=function(e,t){return gh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},gh(e,t)};function TP(e,t){gh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var yh=function(){return yh=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},yh.apply(this,arguments)};function DP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function $P(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function kP(e,t){return function(n,r){t(n,r,e)}}function LP(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function NP(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function FP(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(l){u=[6,l],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function UP(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function zP(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function mh(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function F6(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function jP(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(F6(arguments[t]));return e}function WP(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Qo(e){return this instanceof Qo?(this.v=e,this):new Qo(e)}function qP(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(p){return new Promise(function(b,y){s.push([d,p,b,y])>1||a(d,p)})})}function a(d,p){try{c(r[d](p))}catch(b){f(s[0][3],b)}}function c(d){d.value instanceof Qo?Promise.resolve(d.value.v).then(u,l):f(s[0][2],d)}function u(d){a("next",d)}function l(d){a("throw",d)}function f(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function HP(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:Qo(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function KP(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof mh=="function"?mh(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function VP(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function GP(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function ZP(e){return e&&e.__esModule?e:{default:e}}function YP(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function JP(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const QP=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return yh},__asyncDelegator:HP,__asyncGenerator:qP,__asyncValues:KP,__await:Qo,__awaiter:NP,__classPrivateFieldGet:YP,__classPrivateFieldSet:JP,__createBinding:UP,__decorate:$P,__exportStar:zP,__extends:TP,__generator:FP,__importDefault:ZP,__importStar:GP,__makeTemplateObject:VP,__metadata:LP,__param:kP,__read:F6,__rest:DP,__spread:jP,__spreadArrays:WP,__values:mh},Symbol.toStringTag,{value:"Module"})),Bu=ra(QP);var Uf={},Qs={},Ey;function XP(){if(Ey)return Qs;Ey=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.delay=void 0;function e(t){return new Promise(n=>{setTimeout(()=>{n(!0)},t)})}return Qs.delay=e,Qs}var Qr={},zf={},Xr={},xy;function eO(){return xy||(xy=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.ONE_THOUSAND=Xr.ONE_HUNDRED=void 0,Xr.ONE_HUNDRED=100,Xr.ONE_THOUSAND=1e3),Xr}var jf={},_y;function tO(){return _y||(_y=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365})(jf)),jf}var Sy;function U6(){return Sy||(Sy=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Bu;t.__exportStar(eO(),e),t.__exportStar(tO(),e)})(zf)),zf}var Ay;function nO(){if(Ay)return Qr;Ay=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.fromMiliseconds=Qr.toMiliseconds=void 0;const e=U6();function t(r){return r*e.ONE_THOUSAND}Qr.toMiliseconds=t;function n(r){return Math.floor(r/e.ONE_THOUSAND)}return Qr.fromMiliseconds=n,Qr}var Iy;function rO(){return Iy||(Iy=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Bu;t.__exportStar(XP(),e),t.__exportStar(nO(),e)})(Uf)),Uf}var ns={},Cy;function iO(){if(Cy)return ns;Cy=1,Object.defineProperty(ns,"__esModule",{value:!0}),ns.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return ns.Watch=e,ns.default=e,ns}var Wf={},Xs={},By;function sO(){if(By)return Xs;By=1,Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.IWatch=void 0;class e{}return Xs.IWatch=e,Xs}var My;function oO(){return My||(My=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Bu.__exportStar(sO(),e)})(Wf)),Wf}var Ry;function aO(){return Ry||(Ry=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Bu;t.__exportStar(rO(),e),t.__exportStar(iO(),e),t.__exportStar(oO(),e),t.__exportStar(U6(),e)})(Ff)),Ff}var N0=aO(),Ne={},Py;function z6(){if(Py)return Ne;Py=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.getLocalStorage=Ne.getLocalStorageOrThrow=Ne.getCrypto=Ne.getCryptoOrThrow=Ne.getLocation=Ne.getLocationOrThrow=Ne.getNavigator=Ne.getNavigatorOrThrow=Ne.getDocument=Ne.getDocumentOrThrow=Ne.getFromWindowOrThrow=Ne.getFromWindow=void 0;function e(d){let p;return typeof window<"u"&&typeof window[d]<"u"&&(p=window[d]),p}Ne.getFromWindow=e;function t(d){const p=e(d);if(!p)throw new Error(`${d} is not defined in Window`);return p}Ne.getFromWindowOrThrow=t;function n(){return t("document")}Ne.getDocumentOrThrow=n;function r(){return e("document")}Ne.getDocument=r;function i(){return t("navigator")}Ne.getNavigatorOrThrow=i;function s(){return e("navigator")}Ne.getNavigator=s;function o(){return t("location")}Ne.getLocationOrThrow=o;function a(){return e("location")}Ne.getLocation=a;function c(){return t("crypto")}Ne.getCryptoOrThrow=c;function u(){return e("crypto")}Ne.getCrypto=u;function l(){return t("localStorage")}Ne.getLocalStorageOrThrow=l;function f(){return e("localStorage")}return Ne.getLocalStorage=f,Ne}var CF=z6(),eo={},Oy;function cO(){if(Oy)return eo;Oy=1,Object.defineProperty(eo,"__esModule",{value:!0}),eo.getWindowMetadata=void 0;const e=z6();function t(){let n,r;try{n=e.getDocumentOrThrow(),r=e.getLocationOrThrow()}catch{return null}function i(){const p=n.getElementsByTagName("link"),b=[];for(let y=0;y<p.length;y++){const w=p[y],A=w.getAttribute("rel");if(A&&A.toLowerCase().indexOf("icon")>-1){const B=w.getAttribute("href");if(B)if(B.toLowerCase().indexOf("https:")===-1&&B.toLowerCase().indexOf("http:")===-1&&B.indexOf("//")!==0){let _=r.protocol+"//"+r.host;if(B.indexOf("/")===0)_+=B;else{const M=r.pathname.split("/");M.pop();const I=M.join("/");_+=I+"/"+B}b.push(_)}else if(B.indexOf("//")===0){const _=r.protocol+B;b.push(_)}else b.push(B)}}return b}function s(...p){const b=n.getElementsByTagName("meta");for(let y=0;y<b.length;y++){const w=b[y],A=["itemprop","property","name"].map(B=>w.getAttribute(B)).filter(B=>B?p.includes(B):!1);if(A.length&&A){const B=w.getAttribute("content");if(B)return B}}return""}function o(){let p=s("name","og:site_name","og:title","twitter:title");return p||(p=n.title),p}function a(){return s("description","og:description","twitter:description","keywords")}const c=o(),u=a(),l=r.origin,f=i();return{description:u,url:l,icons:f,name:c}}return eo.getWindowMetadata=t,eo}var BF=cO();const uO=e=>JSON.stringify(e,(t,n)=>typeof n=="bigint"?n.toString()+"n":n),lO=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=e.replace(t,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function _a(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return lO(e)}catch{return e}}function Vr(e){return typeof e=="string"?e:uO(e)||""}function fO(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function j6(e,...t){if(!fO(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Ty(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function dO(e,t){j6(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const rs=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qf=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function hO(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function W6(e){return typeof e=="string"&&(e=hO(e)),j6(e),e}class pO{clone(){return this._cloneInto()}}function gO(e){const t=r=>e().update(W6(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function q6(e=32){if(rs&&typeof rs.getRandomValues=="function")return rs.getRandomValues(new Uint8Array(e));if(rs&&typeof rs.randomBytes=="function")return rs.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function yO(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}class mO extends pO{constructor(t,n,r,i){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=qf(this.buffer)}update(t){Ty(this);const{view:n,buffer:r,blockLen:i}=this;t=W6(t);const s=t.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=qf(t);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ty(this),dO(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let f=o;f<i;f++)n[f]=0;yO(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=qf(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,l[f],s)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return t.length=i,t.pos=a,t.finished=s,t.destroyed=o,i%n&&t.buffer.set(r),t}}const ec=BigInt(2**32-1),bh=BigInt(32);function H6(e,t=!1){return t?{h:Number(e&ec),l:Number(e>>bh&ec)}:{h:Number(e>>bh&ec)|0,l:Number(e&ec)|0}}function bO(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:s,l:o}=H6(e[i],t);[n[i],r[i]]=[s,o]}return[n,r]}const wO=(e,t)=>BigInt(e>>>0)<<bh|BigInt(t>>>0),vO=(e,t,n)=>e>>>n,EO=(e,t,n)=>e<<32-n|t>>>n,xO=(e,t,n)=>e>>>n|t<<32-n,_O=(e,t,n)=>e<<32-n|t>>>n,SO=(e,t,n)=>e<<64-n|t>>>n-32,AO=(e,t,n)=>e>>>n-32|t<<64-n,IO=(e,t)=>t,CO=(e,t)=>e,BO=(e,t,n)=>e<<n|t>>>32-n,MO=(e,t,n)=>t<<n|e>>>32-n,RO=(e,t,n)=>t<<n-32|e>>>64-n,PO=(e,t,n)=>e<<n-32|t>>>64-n;function OO(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:i|0}}const TO=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),DO=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,$O=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),kO=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,LO=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0),NO=(e,t,n,r,i,s)=>t+n+r+i+s+(e/2**32|0)|0,Ae={fromBig:H6,split:bO,toBig:wO,shrSH:vO,shrSL:EO,rotrSH:xO,rotrSL:_O,rotrBH:SO,rotrBL:AO,rotr32H:IO,rotr32L:CO,rotlSH:BO,rotlSL:MO,rotlBH:RO,rotlBL:PO,add:OO,add3L:TO,add3H:DO,add4L:$O,add4H:kO,add5H:NO,add5L:LO},[FO,UO]=Ae.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Pr=new Uint32Array(80),Or=new Uint32Array(80);class zO extends mO{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:f,Fl:d,Gh:p,Gl:b,Hh:y,Hl:w}=this;return[t,n,r,i,s,o,a,c,u,l,f,d,p,b,y,w]}set(t,n,r,i,s,o,a,c,u,l,f,d,p,b,y,w){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=f|0,this.Fl=d|0,this.Gh=p|0,this.Gl=b|0,this.Hh=y|0,this.Hl=w|0}process(t,n){for(let _=0;_<16;_++,n+=4)Pr[_]=t.getUint32(n),Or[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){const M=Pr[_-15]|0,I=Or[_-15]|0,C=Ae.rotrSH(M,I,1)^Ae.rotrSH(M,I,8)^Ae.shrSH(M,I,7),k=Ae.rotrSL(M,I,1)^Ae.rotrSL(M,I,8)^Ae.shrSL(M,I,7),z=Pr[_-2]|0,N=Or[_-2]|0,U=Ae.rotrSH(z,N,19)^Ae.rotrBH(z,N,61)^Ae.shrSH(z,N,6),W=Ae.rotrSL(z,N,19)^Ae.rotrBL(z,N,61)^Ae.shrSL(z,N,6),H=Ae.add4L(k,W,Or[_-7],Or[_-16]),P=Ae.add4H(H,C,U,Pr[_-7],Pr[_-16]);Pr[_]=P|0,Or[_]=H|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:f,El:d,Fh:p,Fl:b,Gh:y,Gl:w,Hh:A,Hl:B}=this;for(let _=0;_<80;_++){const M=Ae.rotrSH(f,d,14)^Ae.rotrSH(f,d,18)^Ae.rotrBH(f,d,41),I=Ae.rotrSL(f,d,14)^Ae.rotrSL(f,d,18)^Ae.rotrBL(f,d,41),C=f&p^~f&y,k=d&b^~d&w,z=Ae.add5L(B,I,k,UO[_],Or[_]),N=Ae.add5H(z,A,M,C,FO[_],Pr[_]),U=z|0,W=Ae.rotrSH(r,i,28)^Ae.rotrBH(r,i,34)^Ae.rotrBH(r,i,39),H=Ae.rotrSL(r,i,28)^Ae.rotrBL(r,i,34)^Ae.rotrBL(r,i,39),P=r&s^r&a^s&a,h=i&o^i&c^o&c;A=y|0,B=w|0,y=p|0,w=b|0,p=f|0,b=d|0,{h:f,l:d}=Ae.add(u|0,l|0,N|0,U|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const g=Ae.add3L(U,H,h);r=Ae.add3H(g,N,W,P),i=g|0}({h:r,l:i}=Ae.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Ae.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Ae.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Ae.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:f,l:d}=Ae.add(this.Eh|0,this.El|0,f|0,d|0),{h:p,l:b}=Ae.add(this.Fh|0,this.Fl|0,p|0,b|0),{h:y,l:w}=Ae.add(this.Gh|0,this.Gl|0,y|0,w|0),{h:A,l:B}=Ae.add(this.Hh|0,this.Hl|0,A|0,B|0),this.set(r,i,s,o,a,c,u,l,f,d,p,b,y,w,A,B)}roundClean(){Pr.fill(0),Or.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const jO=gO(()=>new zO);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const F0=BigInt(0),K6=BigInt(1),WO=BigInt(2);function U0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function z0(e){if(!U0(e))throw new Error("Uint8Array expected")}function Hf(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const qO=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function j0(e){z0(e);let t="";for(let n=0;n<e.length;n++)t+=qO[e[n]];return t}function V6(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?F0:BigInt("0x"+e)}const Xn={_0:48,_9:57,A:65,F:70,a:97,f:102};function Dy(e){if(e>=Xn._0&&e<=Xn._9)return e-Xn._0;if(e>=Xn.A&&e<=Xn.F)return e-(Xn.A-10);if(e>=Xn.a&&e<=Xn.f)return e-(Xn.a-10)}function G6(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=Dy(e.charCodeAt(s)),a=Dy(e.charCodeAt(s+1));if(o===void 0||a===void 0){const c=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function HO(e){return V6(j0(e))}function Oc(e){return z0(e),V6(j0(Uint8Array.from(e).reverse()))}function Z6(e,t){return G6(e.toString(16).padStart(t*2,"0"))}function wh(e,t){return Z6(e,t).reverse()}function er(e,t,n){let r;if(typeof t=="string")try{r=G6(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else if(U0(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r}function $y(...e){let t=0;for(let r=0;r<e.length;r++){const i=e[r];z0(i),t+=i.length}const n=new Uint8Array(t);for(let r=0,i=0;r<e.length;r++){const s=e[r];n.set(s,i),i+=s.length}return n}const Kf=e=>typeof e=="bigint"&&F0<=e;function KO(e,t,n){return Kf(e)&&Kf(t)&&Kf(n)&&t<=e&&e<n}function to(e,t,n,r){if(!KO(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function VO(e){let t;for(t=0;e>F0;e>>=K6,t+=1);return t}const GO=e=>(WO<<BigInt(e-1))-K6,ZO={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||U0(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function W0(e,t,n={}){const r=(i,s,o)=>{const a=ZO[s];if(typeof a!="function")throw new Error("invalid validator function");const c=e[i];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(t))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return e}function ky(e){const t=new WeakMap;return(n,...r)=>{const i=t.get(n);if(i!==void 0)return i;const s=e(n,...r);return t.set(n,s),s}}const Rt=BigInt(0),rt=BigInt(1),oi=BigInt(2),YO=BigInt(3),vh=BigInt(4),Ly=BigInt(5),Ny=BigInt(8);function At(e,t){const n=e%t;return n>=Rt?n:t+n}function JO(e,t,n){if(t<Rt)throw new Error("invalid exponent, negatives unsupported");if(n<=Rt)throw new Error("invalid modulus");if(n===rt)return Rt;let r=rt;for(;t>Rt;)t&rt&&(r=r*e%n),e=e*e%n,t>>=rt;return r}function kn(e,t,n){let r=e;for(;t-- >Rt;)r*=r,r%=n;return r}function Fy(e,t){if(e===Rt)throw new Error("invert: expected non-zero number");if(t<=Rt)throw new Error("invert: expected positive modulus, got "+t);let n=At(e,t),r=t,i=Rt,s=rt;for(;n!==Rt;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==rt)throw new Error("invert: does not exist");return At(i,t)}function QO(e){const t=(e-rt)/oi;let n,r,i;for(n=e-rt,r=0;n%oi===Rt;n/=oi,r++);for(i=oi;i<e&&JO(i,t,e)!==e-rt;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(e+rt)/vh;return function(a,c){const u=a.pow(c,o);if(!a.eql(a.sqr(u),c))throw new Error("Cannot find square root");return u}}const s=(n+rt)/oi;return function(o,a){if(o.pow(a,t)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,u=o.pow(o.mul(o.ONE,i),n),l=o.pow(a,s),f=o.pow(a,n);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let d=1;for(let b=o.sqr(f);d<c&&!o.eql(b,o.ONE);d++)b=o.sqr(b);const p=o.pow(u,rt<<BigInt(c-d-1));u=o.sqr(p),l=o.mul(l,p),f=o.mul(f,u),c=d}return l}}function XO(e){if(e%vh===YO){const t=(e+rt)/vh;return function(n,r){const i=n.pow(r,t);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(e%Ny===Ly){const t=(e-Ly)/Ny;return function(n,r){const i=n.mul(r,oi),s=n.pow(i,t),o=n.mul(r,s),a=n.mul(n.mul(o,oi),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return QO(e)}const eT=(e,t)=>(At(e,t)&rt)===rt,tT=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nT(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=tT.reduce((r,i)=>(r[i]="function",r),t);return W0(e,n)}function rT(e,t,n){if(n<Rt)throw new Error("invalid exponent, negatives unsupported");if(n===Rt)return e.ONE;if(n===rt)return t;let r=e.ONE,i=t;for(;n>Rt;)n&rt&&(r=e.mul(r,i)),i=e.sqr(i),n>>=rt;return r}function iT(e,t){const n=new Array(t.length),r=t.reduce((s,o,a)=>e.is0(o)?s:(n[a]=s,e.mul(s,o)),e.ONE),i=e.inv(r);return t.reduceRight((s,o,a)=>e.is0(o)?s:(n[a]=e.mul(s,n[a]),e.mul(s,o)),i),n}function Y6(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function J6(e,t,n=!1,r={}){if(e<=Rt)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:s}=Y6(e,t);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:i,BYTES:s,MASK:GO(i),ZERO:Rt,ONE:rt,create:c=>At(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Rt<=c&&c<e},is0:c=>c===Rt,isOdd:c=>(c&rt)===rt,neg:c=>At(-c,e),eql:(c,u)=>c===u,sqr:c=>At(c*c,e),add:(c,u)=>At(c+u,e),sub:(c,u)=>At(c-u,e),mul:(c,u)=>At(c*u,e),pow:(c,u)=>rT(a,c,u),div:(c,u)=>At(c*Fy(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Fy(c,e),sqrt:r.sqrt||(c=>(o||(o=XO(e)),o(a,c))),invertBatch:c=>iT(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>n?wh(c,s):Z6(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?Oc(c):HO(c)}});return Object.freeze(a)}const Uy=BigInt(0),tc=BigInt(1);function Vf(e,t){const n=t.negate();return e?n:t}function Q6(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Gf(e,t){Q6(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function sT(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function oT(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Zf=new WeakMap,X6=new WeakMap;function Yf(e){return X6.get(e)||1}function aT(e,t){return{constTimeNegate:Vf,hasPrecomputes(n){return Yf(n)!==1},unsafeLadder(n,r,i=e.ZERO){let s=n;for(;r>Uy;)r&tc&&(i=i.add(s)),s=s.double(),r>>=tc;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=Gf(r,t),o=[];let a=n,c=a;for(let u=0;u<i;u++){c=a,o.push(c);for(let l=1;l<s;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=Gf(n,t);let a=e.ZERO,c=e.BASE;const u=BigInt(2**n-1),l=2**n,f=BigInt(n);for(let d=0;d<s;d++){const p=d*o;let b=Number(i&u);i>>=f,b>o&&(b-=l,i+=tc);const y=p,w=p+Math.abs(b)-1,A=d%2!==0,B=b<0;b===0?c=c.add(Vf(A,r[y])):a=a.add(Vf(B,r[w]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=e.ZERO){const{windows:o,windowSize:a}=Gf(n,t),c=BigInt(2**n-1),u=2**n,l=BigInt(n);for(let f=0;f<o;f++){const d=f*a;if(i===Uy)break;let p=Number(i&c);if(i>>=l,p>a&&(p-=u,i+=tc),p===0)continue;let b=r[d+Math.abs(p)-1];p<0&&(b=b.negate()),s=s.add(b)}return s},getPrecomputes(n,r,i){let s=Zf.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Zf.set(r,i(s))),s},wNAFCached(n,r,i){const s=Yf(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=Yf(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Q6(r,t),X6.set(n,r),Zf.delete(n)}}}function cT(e,t,n,r){if(sT(n,e),oT(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,s=VO(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),u=Math.floor((t.BITS-1)/o)*o;let l=i;for(let f=u;f>=0;f-=o){c.fill(i);for(let p=0;p<r.length;p++){const b=r[p],y=Number(b>>BigInt(f)&BigInt(a));c[y]=c[y].add(n[p])}let d=i;for(let p=c.length-1,b=i;p>0;p--)b=b.add(c[p]),d=d.add(b);if(l=l.add(d),f!==0)for(let p=0;p<o;p++)l=l.double()}return l}function uT(e){return nT(e.Fp),W0(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Y6(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const Sn=BigInt(0),Xt=BigInt(1),nc=BigInt(2),lT=BigInt(8),fT={zip215:!0};function dT(e){const t=uT(e);return W0(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function hT(e){const t=dT(e),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=t,u=nc<<BigInt(a*8)-Xt,l=n.create,f=J6(t.n,t.nBitLength),d=t.uvRatio||((g,E)=>{try{return{isValid:!0,value:n.sqrt(g*n.inv(E))}}catch{return{isValid:!1,value:Sn}}}),p=t.adjustScalarBytes||(g=>g),b=t.domain||((g,E,R)=>{if(Hf("phflag",R),E.length||R)throw new Error("Contexts/pre-hash are not supported");return g});function y(g,E){to("coordinate "+g,E,Sn,u)}function w(g){if(!(g instanceof _))throw new Error("ExtendedPoint expected")}const A=ky((g,E)=>{const{ex:R,ey:O,ez:$}=g,F=g.is0();E==null&&(E=F?lT:n.inv($));const T=l(R*E),m=l(O*E),v=l($*E);if(F)return{x:Sn,y:Xt};if(v!==Xt)throw new Error("invZ was invalid");return{x:T,y:m}}),B=ky(g=>{const{a:E,d:R}=t;if(g.is0())throw new Error("bad point: ZERO");const{ex:O,ey:$,ez:F,et:T}=g,m=l(O*O),v=l($*$),D=l(F*F),j=l(D*D),V=l(m*E),Y=l(D*l(V+v)),ee=l(j+l(R*l(m*v)));if(Y!==ee)throw new Error("bad point: equation left != right (1)");const re=l(O*$),ve=l(F*T);if(re!==ve)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(E,R,O,$){this.ex=E,this.ey=R,this.ez=O,this.et=$,y("x",E),y("y",R),y("z",O),y("t",$),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(E){if(E instanceof _)throw new Error("extended point not allowed");const{x:R,y:O}=E||{};return y("x",R),y("y",O),new _(R,O,Xt,l(R*O))}static normalizeZ(E){const R=n.invertBatch(E.map(O=>O.ez));return E.map((O,$)=>O.toAffine(R[$])).map(_.fromAffine)}static msm(E,R){return cT(_,f,E,R)}_setWindowSize(E){C.setWindowSize(this,E)}assertValidity(){B(this)}equals(E){w(E);const{ex:R,ey:O,ez:$}=this,{ex:F,ey:T,ez:m}=E,v=l(R*m),D=l(F*$),j=l(O*m),V=l(T*$);return v===D&&j===V}is0(){return this.equals(_.ZERO)}negate(){return new _(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:E}=t,{ex:R,ey:O,ez:$}=this,F=l(R*R),T=l(O*O),m=l(nc*l($*$)),v=l(E*F),D=R+O,j=l(l(D*D)-F-T),V=v+T,Y=V-m,ee=v-T,re=l(j*Y),ve=l(V*ee),me=l(j*ee),we=l(Y*V);return new _(re,ve,we,me)}add(E){w(E);const{a:R,d:O}=t,{ex:$,ey:F,ez:T,et:m}=this,{ex:v,ey:D,ez:j,et:V}=E;if(R===BigInt(-1)){const Vn=l((F-$)*(D+v)),ke=l((F+$)*(D-v)),Re=l(ke-Vn);if(Re===Sn)return this.double();const Nt=l(T*nc*V),Le=l(m*nc*j),je=Le+Nt,Qt=ke+Vn,We=Le-Nt,L=l(je*Re),x=l(Qt*We),S=l(je*We),q=l(Re*Qt);return new _(L,x,q,S)}const Y=l($*v),ee=l(F*D),re=l(m*O*V),ve=l(T*j),me=l(($+F)*(v+D)-Y-ee),we=ve-re,Oe=ve+re,xe=l(ee-R*Y),Be=l(me*we),mn=l(Oe*xe),Te=l(me*xe),Fe=l(we*Oe);return new _(Be,mn,Fe,Te)}subtract(E){return this.add(E.negate())}wNAF(E){return C.wNAFCached(this,E,_.normalizeZ)}multiply(E){const R=E;to("scalar",R,Xt,r);const{p:O,f:$}=this.wNAF(R);return _.normalizeZ([O,$])[0]}multiplyUnsafe(E,R=_.ZERO){const O=E;return to("scalar",O,Sn,r),O===Sn?I:this.is0()||O===Xt?this:C.wNAFCachedUnsafe(this,O,_.normalizeZ,R)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return C.unsafeLadder(this,r).is0()}toAffine(E){return A(this,E)}clearCofactor(){const{h:E}=t;return E===Xt?this:this.multiplyUnsafe(E)}static fromHex(E,R=!1){const{d:O,a:$}=t,F=n.BYTES;E=er("pointHex",E,F),Hf("zip215",R);const T=E.slice(),m=E[F-1];T[F-1]=m&-129;const v=Oc(T),D=R?u:n.ORDER;to("pointHex.y",v,Sn,D);const j=l(v*v),V=l(j-Xt),Y=l(O*j-$);let{isValid:ee,value:re}=d(V,Y);if(!ee)throw new Error("Point.fromHex: invalid y coordinate");const ve=(re&Xt)===Xt,me=(m&128)!==0;if(!R&&re===Sn&&me)throw new Error("Point.fromHex: x=0 and x_0=1");return me!==ve&&(re=l(-re)),_.fromAffine({x:re,y:v})}static fromPrivateKey(E){return N(E).point}toRawBytes(){const{x:E,y:R}=this.toAffine(),O=wh(R,n.BYTES);return O[O.length-1]|=E&Xt?128:0,O}toHex(){return j0(this.toRawBytes())}}_.BASE=new _(t.Gx,t.Gy,Xt,l(t.Gx*t.Gy)),_.ZERO=new _(Sn,Xt,Xt,Sn);const{BASE:M,ZERO:I}=_,C=aT(_,a*8);function k(g){return At(g,r)}function z(g){return k(Oc(g))}function N(g){const E=n.BYTES;g=er("private key",g,E);const R=er("hashed private key",s(g),2*E),O=p(R.slice(0,E)),$=R.slice(E,2*E),F=z(O),T=M.multiply(F),m=T.toRawBytes();return{head:O,prefix:$,scalar:F,point:T,pointBytes:m}}function U(g){return N(g).pointBytes}function W(g=new Uint8Array,...E){const R=$y(...E);return z(s(b(R,er("context",g),!!i)))}function H(g,E,R={}){g=er("message",g),i&&(g=i(g));const{prefix:O,scalar:$,pointBytes:F}=N(E),T=W(R.context,O,g),m=M.multiply(T).toRawBytes(),v=W(R.context,m,F,g),D=k(T+v*$);to("signature.s",D,Sn,r);const j=$y(m,wh(D,n.BYTES));return er("result",j,n.BYTES*2)}const P=fT;function h(g,E,R,O=P){const{context:$,zip215:F}=O,T=n.BYTES;g=er("signature",g,2*T),E=er("message",E),R=er("publicKey",R,T),F!==void 0&&Hf("zip215",F),i&&(E=i(E));const m=Oc(g.slice(T,2*T));let v,D,j;try{v=_.fromHex(R,F),D=_.fromHex(g.slice(0,T),F),j=M.multiplyUnsafe(m)}catch{return!1}if(!F&&v.isSmallOrder())return!1;const V=W($,D.toRawBytes(),v.toRawBytes(),E);return D.add(v.multiplyUnsafe(V)).subtract(j).clearCofactor().equals(_.ZERO)}return M._setWindowSize(8),{CURVE:t,getPublicKey:U,sign:H,verify:h,ExtendedPoint:_,utils:{getExtendedPublicKey:N,randomPrivateKey:()=>o(n.BYTES),precompute(g=8,E=_.BASE){return E._setWindowSize(g),E.multiply(BigInt(3)),E}}}}BigInt(0),BigInt(1);const q0=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),zy=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const pT=BigInt(1),jy=BigInt(2);BigInt(3);const gT=BigInt(5),yT=BigInt(8);function mT(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=q0,o=e*e%s*e%s,a=kn(o,jy,s)*o%s,c=kn(a,pT,s)*e%s,u=kn(c,gT,s)*c%s,l=kn(u,t,s)*u%s,f=kn(l,n,s)*l%s,d=kn(f,r,s)*f%s,p=kn(d,i,s)*d%s,b=kn(p,i,s)*d%s,y=kn(b,t,s)*u%s;return{pow_p_5_8:kn(y,jy,s)*e%s,b2:o}}function bT(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function wT(e,t){const n=q0,r=At(t*t*t,n),i=At(r*r*t,n),s=mT(e*i).pow_p_5_8;let o=At(e*r*s,n);const a=At(t*o*o,n),c=o,u=At(o*zy,n),l=a===e,f=a===At(-e,n),d=a===At(-e*zy,n);return l&&(o=c),(f||d)&&(o=u),eT(o,n)&&(o=At(-o,n)),{isValid:l||f,value:o}}const vT=J6(q0,void 0,!0),ET={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:vT,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:yT,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:jO,randomBytes:q6,adjustScalarBytes:bT,uvRatio:wT},e2=hT(ET),xT="EdDSA",_T="JWT",su=".",Mu="base64url",t2="utf8",n2="utf8",ST=":",AT="did",IT="key",Wy="base58btc",CT="z",BT="K36",MT=32;function H0(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function r2(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?H0(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function i2(e,t){t||(t=e.reduce((i,s)=>i+s.length,0));const n=r2(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return H0(n)}function RT(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var y=0,w=0,A=0,B=b.length;A!==B&&b[A]===0;)A++,y++;for(var _=(B-A)*l+1>>>0,M=new Uint8Array(_);A!==B;){for(var I=b[A],C=0,k=_-1;(I!==0||C<w)&&k!==-1;k--,C++)I+=256*M[k]>>>0,M[k]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");w=C,A++}for(var z=_-w;z!==_&&M[z]===0;)z++;for(var N=c.repeat(y);z<_;++z)N+=e.charAt(M[z]);return N}function d(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var y=0;if(b[y]!==" "){for(var w=0,A=0;b[y]===c;)w++,y++;for(var B=(b.length-y)*u+1>>>0,_=new Uint8Array(B);b[y];){var M=n[b.charCodeAt(y)];if(M===255)return;for(var I=0,C=B-1;(M!==0||I<A)&&C!==-1;C--,I++)M+=a*_[C]>>>0,_[C]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");A=I,y++}if(b[y]!==" "){for(var k=B-A;k!==B&&_[k]===0;)k++;for(var z=new Uint8Array(w+(B-k)),N=w;k!==B;)z[N++]=_[k++];return z}}}function p(b){var y=d(b);if(y)return y;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var PT=RT,OT=PT;const s2=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},TT=e=>new TextEncoder().encode(e),DT=e=>new TextDecoder().decode(e);class $T{constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class kT{constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return o2(this,t)}}class LT{constructor(t){this.decoders=t}or(t){return o2(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const o2=(e,t)=>new LT({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class NT{constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new $T(t,n,r),this.decoder=new kT(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Ru=({name:e,prefix:t,encode:n,decode:r})=>new NT(e,t,n,r),Sa=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=OT(n,t);return Ru({prefix:e,name:t,encode:r,decode:s=>s2(i(s))})},FT=(e,t,n,r)=>{const i={};for(let l=0;l<t.length;++l)i[t[l]]=l;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let l=0;l<s;++l){const f=i[e[l]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},UT=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},kt=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>Ru({prefix:t,name:e,encode(i){return UT(i,r,n)},decode(i){return FT(i,r,n,e)}}),zT=Ru({prefix:"\0",name:"identity",encode:e=>DT(e),decode:e=>TT(e)});var jT=Object.freeze({__proto__:null,identity:zT});const WT=kt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var qT=Object.freeze({__proto__:null,base2:WT});const HT=kt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var KT=Object.freeze({__proto__:null,base8:HT});const VT=Sa({prefix:"9",name:"base10",alphabet:"0123456789"});var GT=Object.freeze({__proto__:null,base10:VT});const ZT=kt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),YT=kt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var JT=Object.freeze({__proto__:null,base16:ZT,base16upper:YT});const QT=kt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),XT=kt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),eD=kt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),tD=kt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),nD=kt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rD=kt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),iD=kt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),sD=kt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),oD=kt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var aD=Object.freeze({__proto__:null,base32:QT,base32upper:XT,base32pad:eD,base32padupper:tD,base32hex:nD,base32hexupper:rD,base32hexpad:iD,base32hexpadupper:sD,base32z:oD});const cD=Sa({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),uD=Sa({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var lD=Object.freeze({__proto__:null,base36:cD,base36upper:uD});const fD=Sa({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),dD=Sa({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var hD=Object.freeze({__proto__:null,base58btc:fD,base58flickr:dD});const pD=kt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),gD=kt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yD=kt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),mD=kt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var bD=Object.freeze({__proto__:null,base64:pD,base64pad:gD,base64url:yD,base64urlpad:mD});const a2=Array.from(""),wD=a2.reduce((e,t,n)=>(e[n]=t,e),[]),vD=a2.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function ED(e){return e.reduce((t,n)=>(t+=wD[n],t),"")}function xD(e){const t=[];for(const n of e){const r=vD[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const _D=Ru({prefix:"",name:"base256emoji",encode:ED,decode:xD});var SD=Object.freeze({__proto__:null,base256emoji:_D}),AD=c2,qy=128,ID=-128,CD=Math.pow(2,31);function c2(e,t,n){t=t||[],n=n||0;for(var r=n;e>=CD;)t[n++]=e&255|qy,e/=128;for(;e&ID;)t[n++]=e&255|qy,e>>>=7;return t[n]=e|0,c2.bytes=n-r+1,t}var BD=Eh,MD=128,Hy=127;function Eh(e,r){var n=0,r=r||0,i=0,s=r,o,a=e.length;do{if(s>=a)throw Eh.bytes=0,new RangeError("Could not decode varint");o=e[s++],n+=i<28?(o&Hy)<<i:(o&Hy)*Math.pow(2,i),i+=7}while(o>=MD);return Eh.bytes=s-r,n}var RD=Math.pow(2,7),PD=Math.pow(2,14),OD=Math.pow(2,21),TD=Math.pow(2,28),DD=Math.pow(2,35),$D=Math.pow(2,42),kD=Math.pow(2,49),LD=Math.pow(2,56),ND=Math.pow(2,63),FD=function(e){return e<RD?1:e<PD?2:e<OD?3:e<TD?4:e<DD?5:e<$D?6:e<kD?7:e<LD?8:e<ND?9:10},UD={encode:AD,decode:BD,encodingLength:FD},u2=UD;const Ky=(e,t,n=0)=>(u2.encode(e,t,n),t),Vy=e=>u2.encodingLength(e),xh=(e,t)=>{const n=t.byteLength,r=Vy(e),i=r+Vy(n),s=new Uint8Array(i+n);return Ky(e,s,0),Ky(n,s,r),s.set(t,i),new zD(e,n,t,s)};class zD{constructor(t,n,r,i){this.code=t,this.size=n,this.digest=r,this.bytes=i}}const l2=({name:e,code:t,encode:n})=>new jD(e,t,n);class jD{constructor(t,n,r){this.name=t,this.code=n,this.encode=r}digest(t){if(t instanceof Uint8Array){const n=this.encode(t);return n instanceof Uint8Array?xh(this.code,n):n.then(r=>xh(this.code,r))}else throw Error("Unknown type, must be binary type")}}const f2=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),WD=l2({name:"sha2-256",code:18,encode:f2("SHA-256")}),qD=l2({name:"sha2-512",code:19,encode:f2("SHA-512")});var HD=Object.freeze({__proto__:null,sha256:WD,sha512:qD});const d2=0,KD="identity",h2=s2,VD=e=>xh(d2,h2(e)),GD={code:d2,name:KD,encode:h2,digest:VD};var ZD=Object.freeze({__proto__:null,identity:GD});new TextEncoder,new TextDecoder;const Gy={...jT,...qT,...KT,...GT,...JT,...aD,...lD,...hD,...bD,...SD};({...HD,...ZD});function p2(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Zy=p2("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Jf=p2("ascii","a",e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},e=>{e=e.substring(1);const t=r2(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}),g2={utf8:Zy,"utf-8":Zy,hex:Gy.base16,latin1:Jf,ascii:Jf,binary:Jf,...Gy};function Pu(e,t="utf8"){const n=g2[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):n.encoder.encode(e).substring(1)}function Fs(e,t="utf8"){const n=g2[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?H0(globalThis.Buffer.from(e,"utf-8")):n.decoder.decode(`${n.prefix}${e}`)}function Yy(e){return _a(Pu(Fs(e,Mu),t2))}function ou(e){return Pu(Fs(Vr(e),t2),Mu)}function YD(e){const t=Fs(BT,Wy),n=CT+Pu(i2([t,e]),Wy);return[AT,IT,n].join(ST)}function JD(e){return Pu(e,Mu)}function QD(e){return Fs(e,Mu)}function XD(e){return Fs([ou(e.header),ou(e.payload)].join(su),n2)}function e$(e){return[ou(e.header),ou(e.payload),JD(e.signature)].join(su)}function MF(e){const t=e.split(su),n=Yy(t[0]),r=Yy(t[1]),i=QD(t[2]),s=Fs(t.slice(0,2).join(su),n2);return{header:n,payload:r,signature:i,data:s}}function RF(e=q6(MT)){const t=e2.getPublicKey(e);return{secretKey:i2([e,t]),publicKey:t}}async function PF(e,t,n,r,i=N0.fromMiliseconds(Date.now())){const s={alg:xT,typ:_T},o=YD(r.publicKey),a=i+n,c={iss:o,sub:e,aud:t,iat:i,exp:a},u=XD({header:s,payload:c}),l=e2.sign(u,r.secretKey.slice(0,32));return e$({header:s,payload:c,signature:l})}function t$(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function f(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var y=0,w=0,A=0,B=b.length;A!==B&&b[A]===0;)A++,y++;for(var _=(B-A)*l+1>>>0,M=new Uint8Array(_);A!==B;){for(var I=b[A],C=0,k=_-1;(I!==0||C<w)&&k!==-1;k--,C++)I+=256*M[k]>>>0,M[k]=I%a>>>0,I=I/a>>>0;if(I!==0)throw new Error("Non-zero carry");w=C,A++}for(var z=_-w;z!==_&&M[z]===0;)z++;for(var N=c.repeat(y);z<_;++z)N+=e.charAt(M[z]);return N}function d(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var y=0;if(b[y]!==" "){for(var w=0,A=0;b[y]===c;)w++,y++;for(var B=(b.length-y)*u+1>>>0,_=new Uint8Array(B);b[y];){var M=n[b.charCodeAt(y)];if(M===255)return;for(var I=0,C=B-1;(M!==0||I<A)&&C!==-1;C--,I++)M+=a*_[C]>>>0,_[C]=M%256>>>0,M=M/256>>>0;if(M!==0)throw new Error("Non-zero carry");A=I,y++}if(b[y]!==" "){for(var k=B-A;k!==B&&_[k]===0;)k++;for(var z=new Uint8Array(w+(B-k)),N=w;k!==B;)z[N++]=_[k++];return z}}}function p(b){var y=d(b);if(y)return y;throw new Error(`Non-${t} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var n$=t$,r$=n$;const i$=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},s$=e=>new TextEncoder().encode(e),o$=e=>new TextDecoder().decode(e);class a${constructor(t,n,r){this.name=t,this.prefix=n,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class c${constructor(t,n,r){if(this.name=t,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return y2(this,t)}}class u${constructor(t){this.decoders=t}or(t){return y2(this,t)}decode(t){const n=t[0],r=this.decoders[n];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const y2=(e,t)=>new u$({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class l${constructor(t,n,r,i){this.name=t,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new a$(t,n,r),this.decoder=new c$(t,n,i)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const Ou=({name:e,prefix:t,encode:n,decode:r})=>new l$(e,t,n,r),Aa=({prefix:e,name:t,alphabet:n})=>{const{encode:r,decode:i}=r$(n,t);return Ou({prefix:e,name:t,encode:r,decode:s=>i$(i(s))})},f$=(e,t,n,r)=>{const i={};for(let l=0;l<t.length;++l)i[t[l]]=l;let s=e.length;for(;e[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,u=0;for(let l=0;l<s;++l){const f=i[e[l]];if(f===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|f,a+=n,a>=8&&(a-=8,o[u++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},d$=(e,t,n)=>{const r=t[t.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],o+=8;o>n;)o-=n,s+=t[i&a>>o];if(o&&(s+=t[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Lt=({name:e,prefix:t,bitsPerChar:n,alphabet:r})=>Ou({prefix:t,name:e,encode(i){return d$(i,r,n)},decode(i){return f$(i,r,n,e)}}),h$=Ou({prefix:"\0",name:"identity",encode:e=>o$(e),decode:e=>s$(e)}),p$=Object.freeze(Object.defineProperty({__proto__:null,identity:h$},Symbol.toStringTag,{value:"Module"})),g$=Lt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),y$=Object.freeze(Object.defineProperty({__proto__:null,base2:g$},Symbol.toStringTag,{value:"Module"})),m$=Lt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),b$=Object.freeze(Object.defineProperty({__proto__:null,base8:m$},Symbol.toStringTag,{value:"Module"})),w$=Aa({prefix:"9",name:"base10",alphabet:"0123456789"}),v$=Object.freeze(Object.defineProperty({__proto__:null,base10:w$},Symbol.toStringTag,{value:"Module"})),E$=Lt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),x$=Lt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),_$=Object.freeze(Object.defineProperty({__proto__:null,base16:E$,base16upper:x$},Symbol.toStringTag,{value:"Module"})),S$=Lt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),A$=Lt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),I$=Lt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),C$=Lt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),B$=Lt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),M$=Lt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),R$=Lt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),P$=Lt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),O$=Lt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),T$=Object.freeze(Object.defineProperty({__proto__:null,base32:S$,base32hex:B$,base32hexpad:R$,base32hexpadupper:P$,base32hexupper:M$,base32pad:I$,base32padupper:C$,base32upper:A$,base32z:O$},Symbol.toStringTag,{value:"Module"})),D$=Aa({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),$$=Aa({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),k$=Object.freeze(Object.defineProperty({__proto__:null,base36:D$,base36upper:$$},Symbol.toStringTag,{value:"Module"})),L$=Aa({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),N$=Aa({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),F$=Object.freeze(Object.defineProperty({__proto__:null,base58btc:L$,base58flickr:N$},Symbol.toStringTag,{value:"Module"})),U$=Lt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),z$=Lt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),j$=Lt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),W$=Lt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),q$=Object.freeze(Object.defineProperty({__proto__:null,base64:U$,base64pad:z$,base64url:j$,base64urlpad:W$},Symbol.toStringTag,{value:"Module"})),m2=Array.from(""),H$=m2.reduce((e,t,n)=>(e[n]=t,e),[]),K$=m2.reduce((e,t,n)=>(e[t.codePointAt(0)]=n,e),[]);function V$(e){return e.reduce((t,n)=>(t+=H$[n],t),"")}function G$(e){const t=[];for(const n of e){const r=K$[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}const Z$=Ou({prefix:"",name:"base256emoji",encode:V$,decode:G$}),Y$=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Z$},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const OF={...p$,...y$,...b$,...v$,..._$,...T$,...k$,...F$,...q$,...Y$},TF={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};class J${}let Q$=class extends J${constructor(t){super()}};const Jy=N0.FIVE_SECONDS,X$={pulse:"heartbeat_pulse"};let $F=class b2 extends Q${constructor(t){super(t),this.events=new xa.EventEmitter,this.interval=Jy,this.interval=t?.interval||Jy}static async init(t){const n=new b2(t);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),N0.toMiliseconds(this.interval))}pulse(){this.events.emit(X$.pulse)}};const ek=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,tk=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,nk=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function rk(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){ik(e);return}return t}function ik(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function rc(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);const n=e.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!nk.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(ek.test(e)||tk.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,rk)}return JSON.parse(e)}catch(r){if(t.strict)throw r;return e}}function sk(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function It(e,...t){try{return sk(e(...t))}catch(n){return Promise.reject(n)}}function ok(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function ak(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function Tc(e){if(ok(e))return String(e);if(ak(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return Tc(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const _h="base64:";function ck(e){return typeof e=="string"?e:_h+fk(e)}function uk(e){return typeof e!="string"||!e.startsWith(_h)?e:lk(e.slice(_h.length))}function lk(e){return globalThis.Buffer?he.Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function fk(e){return globalThis.Buffer?he.Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function en(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function dk(...e){return en(e.join(":"))}function ic(e){return e=en(e),e?e+":":""}function hk(e,t){if(t===void 0)return!0;let n=0,r=e.indexOf(":");for(;r>-1;)n++,r=e.indexOf(":",r+1);return n<=t}function pk(e,t){return t?e.startsWith(t)&&e[e.length-1]!=="$":e[e.length-1]!=="$"}const gk="memory",yk=()=>{const e=new Map;return{name:gk,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,n){e.set(t,n)},setItemRaw(t,n){e.set(t,n)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function mk(e={}){const t={mounts:{"":e.driver||yk()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=u=>{for(const l of t.mountpoints)if(u.startsWith(l))return{base:l,relativeKey:u.slice(l.length),driver:t.mounts[l]};return{base:"",relativeKey:u,driver:t.mounts[""]}},r=(u,l)=>t.mountpoints.filter(f=>f.startsWith(u)||l&&u.startsWith(f)).map(f=>({relativeBase:u.length>f.length?u.slice(f.length):void 0,mountpoint:f,driver:t.mounts[f]})),i=(u,l)=>{if(t.watching){l=en(l);for(const f of t.watchListeners)f(u,l)}},s=async()=>{if(!t.watching){t.watching=!0;for(const u in t.mounts)t.unwatch[u]=await Qy(t.mounts[u],i,u)}},o=async()=>{if(t.watching){for(const u in t.unwatch)await t.unwatch[u]();t.unwatch={},t.watching=!1}},a=(u,l,f)=>{const d=new Map,p=b=>{let y=d.get(b.base);return y||(y={driver:b.driver,base:b.base,items:[]},d.set(b.base,y)),y};for(const b of u){const y=typeof b=="string",w=en(y?b:b.key),A=y?void 0:b.value,B=y||!b.options?l:{...l,...b.options},_=n(w);p(_).items.push({key:w,value:A,relativeKey:_.relativeKey,options:B})}return Promise.all([...d.values()].map(b=>f(b))).then(b=>b.flat())},c={hasItem(u,l={}){u=en(u);const{relativeKey:f,driver:d}=n(u);return It(d.hasItem,f,l)},getItem(u,l={}){u=en(u);const{relativeKey:f,driver:d}=n(u);return It(d.getItem,f,l).then(p=>rc(p))},getItems(u,l={}){return a(u,l,f=>f.driver.getItems?It(f.driver.getItems,f.items.map(d=>({key:d.relativeKey,options:d.options})),l).then(d=>d.map(p=>({key:dk(f.base,p.key),value:rc(p.value)}))):Promise.all(f.items.map(d=>It(f.driver.getItem,d.relativeKey,d.options).then(p=>({key:d.key,value:rc(p)})))))},getItemRaw(u,l={}){u=en(u);const{relativeKey:f,driver:d}=n(u);return d.getItemRaw?It(d.getItemRaw,f,l):It(d.getItem,f,l).then(p=>uk(p))},async setItem(u,l,f={}){if(l===void 0)return c.removeItem(u);u=en(u);const{relativeKey:d,driver:p}=n(u);p.setItem&&(await It(p.setItem,d,Tc(l),f),p.watch||i("update",u))},async setItems(u,l){await a(u,l,async f=>{if(f.driver.setItems)return It(f.driver.setItems,f.items.map(d=>({key:d.relativeKey,value:Tc(d.value),options:d.options})),l);f.driver.setItem&&await Promise.all(f.items.map(d=>It(f.driver.setItem,d.relativeKey,Tc(d.value),d.options)))})},async setItemRaw(u,l,f={}){if(l===void 0)return c.removeItem(u,f);u=en(u);const{relativeKey:d,driver:p}=n(u);if(p.setItemRaw)await It(p.setItemRaw,d,l,f);else if(p.setItem)await It(p.setItem,d,ck(l),f);else return;p.watch||i("update",u)},async removeItem(u,l={}){typeof l=="boolean"&&(l={removeMeta:l}),u=en(u);const{relativeKey:f,driver:d}=n(u);d.removeItem&&(await It(d.removeItem,f,l),(l.removeMeta||l.removeMata)&&await It(d.removeItem,f+"$",l),d.watch||i("remove",u))},async getMeta(u,l={}){typeof l=="boolean"&&(l={nativeOnly:l}),u=en(u);const{relativeKey:f,driver:d}=n(u),p=Object.create(null);if(d.getMeta&&Object.assign(p,await It(d.getMeta,f,l)),!l.nativeOnly){const b=await It(d.getItem,f+"$",l).then(y=>rc(y));b&&typeof b=="object"&&(typeof b.atime=="string"&&(b.atime=new Date(b.atime)),typeof b.mtime=="string"&&(b.mtime=new Date(b.mtime)),Object.assign(p,b))}return p},setMeta(u,l,f={}){return this.setItem(u+"$",l,f)},removeMeta(u,l={}){return this.removeItem(u+"$",l)},async getKeys(u,l={}){u=ic(u);const f=r(u,!0);let d=[];const p=[];let b=!0;for(const w of f){w.driver.flags?.maxDepth||(b=!1);const A=await It(w.driver.getKeys,w.relativeBase,l);for(const B of A){const _=w.mountpoint+en(B);d.some(M=>_.startsWith(M))||p.push(_)}d=[w.mountpoint,...d.filter(B=>!B.startsWith(w.mountpoint))]}const y=l.maxDepth!==void 0&&!b;return p.filter(w=>(!y||hk(w,l.maxDepth))&&pk(w,u))},async clear(u,l={}){u=ic(u),await Promise.all(r(u,!1).map(async f=>{if(f.driver.clear)return It(f.driver.clear,f.relativeBase,l);if(f.driver.removeItem){const d=await f.driver.getKeys(f.relativeBase||"",l);return Promise.all(d.map(p=>f.driver.removeItem(p,l)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(u=>Xy(u)))},async watch(u){return await s(),t.watchListeners.push(u),async()=>{t.watchListeners=t.watchListeners.filter(l=>l!==u),t.watchListeners.length===0&&await o()}},async unwatch(){t.watchListeners=[],await o()},mount(u,l){if(u=ic(u),u&&t.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(t.mountpoints.push(u),t.mountpoints.sort((f,d)=>d.length-f.length)),t.mounts[u]=l,t.watching&&Promise.resolve(Qy(l,i,u)).then(f=>{t.unwatch[u]=f}).catch(console.error),c},async unmount(u,l=!0){u=ic(u),!(!u||!t.mounts[u])&&(t.watching&&u in t.unwatch&&(t.unwatch[u]?.(),delete t.unwatch[u]),l&&await Xy(t.mounts[u]),t.mountpoints=t.mountpoints.filter(f=>f!==u),delete t.mounts[u])},getMount(u=""){u=en(u)+":";const l=n(u);return{driver:l.driver,base:l.base}},getMounts(u="",l={}){return u=en(u),r(u,l.parents).map(d=>({driver:d.driver,base:d.mountpoint}))},keys:(u,l={})=>c.getKeys(u,l),get:(u,l={})=>c.getItem(u,l),set:(u,l,f={})=>c.setItem(u,l,f),has:(u,l={})=>c.hasItem(u,l),del:(u,l={})=>c.removeItem(u,l),remove:(u,l={})=>c.removeItem(u,l)};return c}function Qy(e,t,n){return e.watch?e.watch((r,i)=>t(r,n+i)):()=>{}}async function Xy(e){typeof e.dispose=="function"&&await It(e.dispose)}const bk="idb-keyval";var wk=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",n=i=>t+i;let r;return e.dbName&&e.storeName&&(r=Kv(e.dbName,e.storeName)),{name:bk,options:e,async hasItem(i){return!(typeof await Pg(n(i),r)>"u")},async getItem(i){return await Pg(n(i),r)??null},setItem(i,s){return QI(n(i),s,r)},removeItem(i){return XI(n(i),r)},getKeys(){return nC(r)},clear(){return eC(r)}}};const vk="WALLET_CONNECT_V2_INDEXED_DB",Ek="keyvaluestorage";let xk=class{constructor(){this.indexedDb=mk({driver:wk({dbName:vk,storeName:Ek})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const n=await this.indexedDb.getItem(t);if(n!==null)return n}async setItem(t,n){await this.indexedDb.setItem(t,Vr(n))}async removeItem(t){await this.indexedDb.removeItem(t)}};var Qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dc={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},e.prototype.setItem=function(n,r){this[n]=String(r)},e.prototype.removeItem=function(n){delete this[n]},e.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},e.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Qf<"u"&&Qf.localStorage?Dc.exports=Qf.localStorage:typeof window<"u"&&window.localStorage?Dc.exports=window.localStorage:Dc.exports=new t})();function _k(e){var t;return[e[0],_a((t=e[1])!=null?t:"")]}class Sk{constructor(){this.localStorage=Dc.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(_k)}async getItem(t){const n=this.localStorage.getItem(t);if(n!==null)return _a(n)}async setItem(t,n){this.localStorage.setItem(t,Vr(n))}async removeItem(t){this.localStorage.removeItem(t)}}const Ak="wc_storage_version",em=1,Ik=async(e,t,n)=>{const r=Ak,i=await t.getItem(r);if(i&&i>=em){n(t);return}const s=await e.getKeys();if(!s.length){n(t);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const u=await e.getItem(a);await t.setItem(a,u),o.push(a)}}await t.setItem(r,em),n(t),Ck(e,o)},Ck=async(e,t)=>{t.length&&t.forEach(async n=>{await e.removeItem(n)})};let LF=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const t=new Sk;this.storage=t;try{const n=new xk;Ik(t,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,n){return await this.initialize(),this.storage.setItem(t,n)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),t())},20)})}};var Xf,tm;function Bk(){if(tm)return Xf;tm=1;function e(n){try{return JSON.stringify(n)}catch{return'"[Circular]"'}}Xf=t;function t(n,r,i){var s=i&&i.stringify||e,o=1;if(typeof n=="object"&&n!==null){var a=r.length+o;if(a===1)return n;var c=new Array(a);c[0]=s(n);for(var u=1;u<a;u++)c[u]=s(r[u]);return c.join(" ")}if(typeof n!="string")return n;var l=r.length;if(l===0)return n;for(var f="",d=1-o,p=-1,b=n&&n.length||0,y=0;y<b;){if(n.charCodeAt(y)===37&&y+1<b){switch(p=p>-1?p:0,n.charCodeAt(y+1)){case 100:case 102:if(d>=l||r[d]==null)break;p<y&&(f+=n.slice(p,y)),f+=Number(r[d]),p=y+2,y++;break;case 105:if(d>=l||r[d]==null)break;p<y&&(f+=n.slice(p,y)),f+=Math.floor(Number(r[d])),p=y+2,y++;break;case 79:case 111:case 106:if(d>=l||r[d]===void 0)break;p<y&&(f+=n.slice(p,y));var w=typeof r[d];if(w==="string"){f+="'"+r[d]+"'",p=y+2,y++;break}if(w==="function"){f+=r[d].name||"<anonymous>",p=y+2,y++;break}f+=s(r[d]),p=y+2,y++;break;case 115:if(d>=l)break;p<y&&(f+=n.slice(p,y)),f+=String(r[d]),p=y+2,y++;break;case 37:p<y&&(f+=n.slice(p,y)),f+="%",p=y+2,y++,d--;break}++d}++y}return p===-1?n:(p<b&&(f+=n.slice(p)),f)}return Xf}var ed,nm;function Mk(){if(nm)return ed;nm=1;const e=Bk();ed=i;const t=I().console||{},n={mapHttpRequest:b,mapHttpResponse:b,wrapRequestSerializer:y,wrapResponseSerializer:y,wrapErrorSerializer:y,req:b,res:b,err:d};function r(C,k){return Array.isArray(C)?C.filter(function(N){return N!=="!stdSerializers.err"}):C===!0?Object.keys(k):!1}function i(C){C=C||{},C.browser=C.browser||{};const k=C.browser.transmit;if(k&&typeof k.send!="function")throw Error("pino: transmit option must have a send function");const z=C.browser.write||t;C.browser.write&&(C.browser.asObject=!0);const N=C.serializers||{},U=r(C.browser.serialize,N);let W=C.browser.serialize;Array.isArray(C.browser.serialize)&&C.browser.serialize.indexOf("!stdSerializers.err")>-1&&(W=!1);const H=["error","fatal","warn","info","debug","trace"];typeof z=="function"&&(z.error=z.fatal=z.warn=z.info=z.debug=z.trace=z),C.enabled===!1&&(C.level="silent");const P=C.level||"info",h=Object.create(z);h.log||(h.log=w),Object.defineProperty(h,"levelVal",{get:E}),Object.defineProperty(h,"level",{get:R,set:O});const g={transmit:k,serialize:U,asObject:C.browser.asObject,levels:H,timestamp:p(C)};h.levels=i.levels,h.level=P,h.setMaxListeners=h.getMaxListeners=h.emit=h.addListener=h.on=h.prependListener=h.once=h.prependOnceListener=h.removeListener=h.removeAllListeners=h.listeners=h.listenerCount=h.eventNames=h.write=h.flush=w,h.serializers=N,h._serialize=U,h._stdErrSerialize=W,h.child=$,k&&(h._logEvent=f());function E(){return this.level==="silent"?1/0:this.levels.values[this.level]}function R(){return this._level}function O(F){if(F!=="silent"&&!this.levels.values[F])throw Error("unknown level "+F);this._level=F,s(g,h,"error","log"),s(g,h,"fatal","error"),s(g,h,"warn","error"),s(g,h,"info","log"),s(g,h,"debug","log"),s(g,h,"trace","log")}function $(F,T){if(!F)throw new Error("missing bindings for child Pino");T=T||{},U&&F.serializers&&(T.serializers=F.serializers);const m=T.serializers;if(U&&m){var v=Object.assign({},N,m),D=C.browser.serialize===!0?Object.keys(v):U;delete F.serializers,c([F],D,v,this._stdErrSerialize)}function j(V){this._childLevel=(V._childLevel|0)+1,this.error=u(V,F,"error"),this.fatal=u(V,F,"fatal"),this.warn=u(V,F,"warn"),this.info=u(V,F,"info"),this.debug=u(V,F,"debug"),this.trace=u(V,F,"trace"),v&&(this.serializers=v,this._serialize=D),k&&(this._logEvent=f([].concat(V._logEvent.bindings,F)))}return j.prototype=this,new j(this)}return h}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:A,epochTime:B,unixTime:_,isoTime:M});function s(C,k,z,N){const U=Object.getPrototypeOf(k);k[z]=k.levelVal>k.levels.values[z]?w:U[z]?U[z]:t[z]||t[N]||w,o(C,k,z)}function o(C,k,z){!C.transmit&&k[z]===w||(k[z]=(function(N){return function(){const W=C.timestamp(),H=new Array(arguments.length),P=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var h=0;h<H.length;h++)H[h]=arguments[h];if(C.serialize&&!C.asObject&&c(H,this._serialize,this.serializers,this._stdErrSerialize),C.asObject?N.call(P,a(this,z,H,W)):N.apply(P,H),C.transmit){const g=C.transmit.level||k.level,E=i.levels.values[g],R=i.levels.values[z];if(R<E)return;l(this,{ts:W,methodLevel:z,methodValue:R,transmitValue:i.levels.values[C.transmit.level||k.level],send:C.transmit.send,val:k.levelVal},H)}}})(k[z]))}function a(C,k,z,N){C._serialize&&c(z,C._serialize,C.serializers,C._stdErrSerialize);const U=z.slice();let W=U[0];const H={};N&&(H.time=N),H.level=i.levels.values[k];let P=(C._childLevel|0)+1;if(P<1&&(P=1),W!==null&&typeof W=="object"){for(;P--&&typeof U[0]=="object";)Object.assign(H,U.shift());W=U.length?e(U.shift(),U):void 0}else typeof W=="string"&&(W=e(U.shift(),U));return W!==void 0&&(H.msg=W),H}function c(C,k,z,N){for(const U in C)if(N&&C[U]instanceof Error)C[U]=i.stdSerializers.err(C[U]);else if(typeof C[U]=="object"&&!Array.isArray(C[U]))for(const W in C[U])k&&k.indexOf(W)>-1&&W in z&&(C[U][W]=z[W](C[U][W]))}function u(C,k,z){return function(){const N=new Array(1+arguments.length);N[0]=k;for(var U=1;U<N.length;U++)N[U]=arguments[U-1];return C[z].apply(this,N)}}function l(C,k,z){const N=k.send,U=k.ts,W=k.methodLevel,H=k.methodValue,P=k.val,h=C._logEvent.bindings;c(z,C._serialize||Object.keys(C.serializers),C.serializers,C._stdErrSerialize===void 0?!0:C._stdErrSerialize),C._logEvent.ts=U,C._logEvent.messages=z.filter(function(g){return h.indexOf(g)===-1}),C._logEvent.level.label=W,C._logEvent.level.value=H,N(W,C._logEvent,P),C._logEvent=f(h)}function f(C){return{ts:0,messages:[],bindings:C||[],level:{label:"",value:0}}}function d(C){const k={type:C.constructor.name,msg:C.message,stack:C.stack};for(const z in C)k[z]===void 0&&(k[z]=C[z]);return k}function p(C){return typeof C.timestamp=="function"?C.timestamp:C.timestamp===!1?A:B}function b(){return{}}function y(C){return C}function w(){}function A(){return!1}function B(){return Date.now()}function _(){return Math.round(Date.now()/1e3)}function M(){return new Date(Date.now()).toISOString()}function I(){function C(k){return typeof k<"u"&&k}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return C(self)||C(window)||C(this)||{}}}return ed}var fs=Mk();const w2=xn(fs),Rk={level:"info"},Ia="custom_context",K0=1e3*1024;let Pk=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},rm=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const n=new Pk(t);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let n=this.head;for(;n!==null;)t.push(n.value),n=n.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const n=t.value;return t=t.next,{done:!1,value:n}}}}},v2=class{constructor(t,n=K0){this.level=t??"error",this.levelValue=fs.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new rm(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,n){n===fs.levels.values.error?console.error(t):n===fs.levels.values.warn?console.warn(t):n===fs.levels.values.debug?console.debug(t):n===fs.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(Vr({timestamp:new Date().toISOString(),log:t}));const n=typeof t=="string"?JSON.parse(t).level:t.level;n>=this.levelValue&&this.forwardToConsole(t,n)}getLogs(){return this.logs}clearLogs(){this.logs=new rm(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const n=this.getLogArray();return n.push(Vr({extraMetadata:t})),new Blob(n,{type:"application/json"})}},Ok=class{constructor(t,n=K0){this.baseChunkLogger=new v2(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const n=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},Tk=class{constructor(t,n=K0){this.baseChunkLogger=new v2(t,n)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}};var Dk=Object.defineProperty,$k=Object.defineProperties,kk=Object.getOwnPropertyDescriptors,im=Object.getOwnPropertySymbols,Lk=Object.prototype.hasOwnProperty,Nk=Object.prototype.propertyIsEnumerable,sm=(e,t,n)=>t in e?Dk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,au=(e,t)=>{for(var n in t||(t={}))Lk.call(t,n)&&sm(e,n,t[n]);if(im)for(var n of im(t))Nk.call(t,n)&&sm(e,n,t[n]);return e},cu=(e,t)=>$k(e,kk(t));function qF(e){return cu(au({},e),{level:e?.level||Rk.level})}function Fk(e,t=Ia){return e[t]||""}function Uk(e,t,n=Ia){return e[n]=t,e}function zk(e,t=Ia){let n="";return typeof e.bindings>"u"?n=Fk(e,t):n=e.bindings().context||"",n}function jk(e,t,n=Ia){const r=zk(e,n);return r.trim()?`${r}/${t}`:t}function HF(e,t,n=Ia){const r=jk(e,t,n),i=e.child({context:r});return Uk(i,r,n)}function Wk(e){var t,n;const r=new Ok((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:w2(cu(au({},e.opts),{level:"trace",browser:cu(au({},(n=e.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function qk(e){var t;const n=new Tk((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:w2(cu(au({},e.opts),{level:"trace"}),n),chunkLoggerController:n}}function KF(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Wk(e):qk(e)}const Hk="PARSE_ERROR",Kk="INVALID_REQUEST",Vk="METHOD_NOT_FOUND",Gk="INVALID_PARAMS",E2="INTERNAL_ERROR",V0="SERVER_ERROR",Zk=[-32700,-32600,-32601,-32602,-32603],Eo={[Hk]:{code:-32700,message:"Parse error"},[Kk]:{code:-32600,message:"Invalid Request"},[Vk]:{code:-32601,message:"Method not found"},[Gk]:{code:-32602,message:"Invalid params"},[E2]:{code:-32603,message:"Internal error"},[V0]:{code:-32e3,message:"Server error"}},x2=V0;function Yk(e){return Zk.includes(e)}function om(e){return Object.keys(Eo).includes(e)?Eo[e]:Eo[x2]}function Jk(e){const t=Object.values(Eo).find(n=>n.code===e);return t||Eo[x2]}function _2(e,t,n){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${t}`):e}var td={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sh=function(e,t){return Sh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Sh(e,t)};function Qk(e,t){Sh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ah=function(){return Ah=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ah.apply(this,arguments)};function Xk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function eL(e,t,n,r){var i=arguments.length,s=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function tL(e,t){return function(n,r){t(n,r,e)}}function nL(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function rL(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(f){o(f)}}function c(l){try{u(r.throw(l))}catch(f){o(f)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function iL(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(l){u=[6,l],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function sL(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}function oL(e,t){for(var n in e)n!=="default"&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ih(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function S2(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function aL(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(S2(arguments[t]));return e}function cL(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Xo(e){return this instanceof Xo?(this.v=e,this):new Xo(e)}function uL(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(p){return new Promise(function(b,y){s.push([d,p,b,y])>1||a(d,p)})})}function a(d,p){try{c(r[d](p))}catch(b){f(s[0][3],b)}}function c(d){d.value instanceof Xo?Promise.resolve(d.value.v).then(u,l):f(s[0][2],d)}function u(d){a("next",d)}function l(d){a("throw",d)}function f(d,p){d(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function lL(e){var t,n;return t={},r("next"),r("throw",function(i){throw i}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(i,s){t[i]=e[i]?function(o){return(n=!n)?{value:Xo(e[i](o)),done:i==="return"}:s?s(o):o}:s}}function fL(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ih=="function"?Ih(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}function dL(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function hL(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function pL(e){return e&&e.__esModule?e:{default:e}}function gL(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function yL(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}const mL=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Ah},__asyncDelegator:lL,__asyncGenerator:uL,__asyncValues:fL,__await:Xo,__awaiter:rL,__classPrivateFieldGet:gL,__classPrivateFieldSet:yL,__createBinding:sL,__decorate:eL,__exportStar:oL,__extends:Qk,__generator:iL,__importDefault:pL,__importStar:hL,__makeTemplateObject:dL,__metadata:nL,__param:tL,__read:S2,__rest:Xk,__spread:aL,__spreadArrays:cL,__values:Ih},Symbol.toStringTag,{value:"Module"})),bL=ra(mL);var tr={},am;function wL(){if(am)return tr;am=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.isBrowserCryptoAvailable=tr.getSubtleCrypto=tr.getBrowerCrypto=void 0;function e(){return(wn===null||wn===void 0?void 0:wn.crypto)||(wn===null||wn===void 0?void 0:wn.msCrypto)||{}}tr.getBrowerCrypto=e;function t(){const r=e();return r.subtle||r.webkitSubtle}tr.getSubtleCrypto=t;function n(){return!!e()&&!!t()}return tr.isBrowserCryptoAvailable=n,tr}var nr={},cm;function vL(){if(cm)return nr;cm=1,Object.defineProperty(nr,"__esModule",{value:!0}),nr.isBrowser=nr.isNode=nr.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}nr.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}nr.isNode=t;function n(){return!e()&&!t()}return nr.isBrowser=n,nr}var um;function EL(){return um||(um=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=bL;t.__exportStar(wL(),e),t.__exportStar(vL(),e)})(td)),td}var xL=EL();function A2(e=3){const t=Date.now()*Math.pow(10,e),n=Math.floor(Math.random()*Math.pow(10,e));return t+n}function _L(e=6){return BigInt(A2(e))}function SL(e,t,n){return{id:n||A2(),jsonrpc:"2.0",method:e,params:t}}function VF(e,t){return{id:e,jsonrpc:"2.0",result:t}}function I2(e,t,n){return{id:e,jsonrpc:"2.0",error:AL(t)}}function AL(e,t){return typeof e>"u"?om(E2):(typeof e=="string"&&(e=Object.assign(Object.assign({},om(V0)),{message:e})),Yk(e.code)&&(e=Jk(e.code)),e)}let IL=class{},CL=class extends IL{constructor(){super()}},BL=class extends CL{constructor(t){super()}};const ML="^https?:",RL="^wss?:";function PL(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function C2(e,t){const n=PL(e);return typeof n>"u"?!1:new RegExp(t).test(n)}function lm(e){return C2(e,ML)}function fm(e){return C2(e,RL)}function OL(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function B2(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function JF(e){return B2(e)&&"method"in e}function TL(e){return B2(e)&&(DL(e)||M2(e))}function DL(e){return"result"in e}function M2(e){return"error"in e}let QF=class extends BL{constructor(t){super(t),this.events=new xa.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async request(t,n){return this.requestStrict(SL(t.method,t.params||[],t.id||_L().toString()),n)}async requestStrict(t,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${t.id}`,s=>{M2(s)?i(s.error):r(s.result)});try{await this.connection.send(t,n)}catch(s){i(s)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),TL(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const $L=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),kL=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",dm=e=>e.split("?")[0],hm=10,LL=$L();let eU=class{constructor(t){if(this.url=t,this.events=new xa.EventEmitter,this.registering=!1,!fm(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Vr(t))}catch(n){this.onError(t.id,n)}}register(t=this.url){if(!fm(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=t,this.registering=!0,new Promise((n,r)=>{const i=xL.isReactNative()?void 0:{rejectUnauthorized:!OL(t)},s=new LL(t,[],i);kL()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(t){t.onmessage=n=>this.onPayload(n),t.onclose=n=>this.onClose(n),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?_a(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),i=r.message||r.toString(),s=I2(t,i);this.events.emit("payload",s)}parseError(t,n=this.url){return _2(t,dm(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>hm&&this.events.setMaxListeners(hm)}emitError(t){const n=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${dm(this.url)}`));return this.events.emit("register_error",n),n}};var sc={exports:{}},pm;function NL(){return pm||(pm=1,(function(e,t){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof wn<"u"&&wn,r=(function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s})();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof wn<"u"&&wn||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(g){return g&&DataView.prototype.isPrototypeOf(g)}if(c.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(g){return g&&l.indexOf(Object.prototype.toString.call(g))>-1};function d(g){if(typeof g!="string"&&(g=String(g)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(g)||g==="")throw new TypeError('Invalid character in header field name: "'+g+'"');return g.toLowerCase()}function p(g){return typeof g!="string"&&(g=String(g)),g}function b(g){var E={next:function(){var R=g.shift();return{done:R===void 0,value:R}}};return c.iterable&&(E[Symbol.iterator]=function(){return E}),E}function y(g){this.map={},g instanceof y?g.forEach(function(E,R){this.append(R,E)},this):Array.isArray(g)?g.forEach(function(E){if(E.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+E.length);this.append(E[0],E[1])},this):g&&Object.getOwnPropertyNames(g).forEach(function(E){this.append(E,g[E])},this)}y.prototype.append=function(g,E){g=d(g),E=p(E);var R=this.map[g];this.map[g]=R?R+", "+E:E},y.prototype.delete=function(g){delete this.map[d(g)]},y.prototype.get=function(g){return g=d(g),this.has(g)?this.map[g]:null},y.prototype.has=function(g){return this.map.hasOwnProperty(d(g))},y.prototype.set=function(g,E){this.map[d(g)]=p(E)},y.prototype.forEach=function(g,E){for(var R in this.map)this.map.hasOwnProperty(R)&&g.call(E,this.map[R],R,this)},y.prototype.keys=function(){var g=[];return this.forEach(function(E,R){g.push(R)}),b(g)},y.prototype.values=function(){var g=[];return this.forEach(function(E){g.push(E)}),b(g)},y.prototype.entries=function(){var g=[];return this.forEach(function(E,R){g.push([R,E])}),b(g)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function w(g){if(!g._noBody){if(g.bodyUsed)return Promise.reject(new TypeError("Already read"));g.bodyUsed=!0}}function A(g){return new Promise(function(E,R){g.onload=function(){E(g.result)},g.onerror=function(){R(g.error)}})}function B(g){var E=new FileReader,R=A(E);return E.readAsArrayBuffer(g),R}function _(g){var E=new FileReader,R=A(E),O=/charset=([A-Za-z0-9_-]+)/.exec(g.type),$=O?O[1]:"utf-8";return E.readAsText(g,$),R}function M(g){for(var E=new Uint8Array(g),R=new Array(E.length),O=0;O<E.length;O++)R[O]=String.fromCharCode(E[O]);return R.join("")}function I(g){if(g.slice)return g.slice(0);var E=new Uint8Array(g.byteLength);return E.set(new Uint8Array(g)),E.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(g){this.bodyUsed=this.bodyUsed,this._bodyInit=g,g?typeof g=="string"?this._bodyText=g:c.blob&&Blob.prototype.isPrototypeOf(g)?this._bodyBlob=g:c.formData&&FormData.prototype.isPrototypeOf(g)?this._bodyFormData=g:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)?this._bodyText=g.toString():c.arrayBuffer&&c.blob&&u(g)?(this._bodyArrayBuffer=I(g.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(g)||f(g))?this._bodyArrayBuffer=I(g):this._bodyText=g=Object.prototype.toString.call(g):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof g=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(g)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var g=w(this);if(g)return g;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var g=w(this);return g||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(B);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var g=w(this);if(g)return g;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(M(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}var k=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function z(g){var E=g.toUpperCase();return k.indexOf(E)>-1?E:g}function N(g,E){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');E=E||{};var R=E.body;if(g instanceof N){if(g.bodyUsed)throw new TypeError("Already read");this.url=g.url,this.credentials=g.credentials,E.headers||(this.headers=new y(g.headers)),this.method=g.method,this.mode=g.mode,this.signal=g.signal,!R&&g._bodyInit!=null&&(R=g._bodyInit,g.bodyUsed=!0)}else this.url=String(g);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new y(E.headers)),this.method=z(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal||(function(){if("AbortController"in a){var F=new AbortController;return F.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&R)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(R),(this.method==="GET"||this.method==="HEAD")&&(E.cache==="no-store"||E.cache==="no-cache")){var O=/([?&])_=[^&]*/;if(O.test(this.url))this.url=this.url.replace(O,"$1_="+new Date().getTime());else{var $=/\?/;this.url+=($.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function U(g){var E=new FormData;return g.trim().split("&").forEach(function(R){if(R){var O=R.split("="),$=O.shift().replace(/\+/g," "),F=O.join("=").replace(/\+/g," ");E.append(decodeURIComponent($),decodeURIComponent(F))}}),E}function W(g){var E=new y,R=g.replace(/\r?\n[\t ]+/g," ");return R.split("\r").map(function(O){return O.indexOf(`
`)===0?O.substr(1,O.length):O}).forEach(function(O){var $=O.split(":"),F=$.shift().trim();if(F){var T=$.join(":").trim();try{E.append(F,T)}catch(m){console.warn("Response "+m.message)}}}),E}C.call(N.prototype);function H(g,E){if(!(this instanceof H))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=E.statusText===void 0?"":""+E.statusText,this.headers=new y(E.headers),this.url=E.url||"",this._initBody(g)}C.call(H.prototype),H.prototype.clone=function(){return new H(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},H.error=function(){var g=new H(null,{status:200,statusText:""});return g.ok=!1,g.status=0,g.type="error",g};var P=[301,302,303,307,308];H.redirect=function(g,E){if(P.indexOf(E)===-1)throw new RangeError("Invalid status code");return new H(null,{status:E,headers:{location:g}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(E,R){this.message=E,this.name=R;var O=Error(E);this.stack=O.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function h(g,E){return new Promise(function(R,O){var $=new N(g,E);if($.signal&&$.signal.aborted)return O(new o.DOMException("Aborted","AbortError"));var F=new XMLHttpRequest;function T(){F.abort()}F.onload=function(){var D={statusText:F.statusText,headers:W(F.getAllResponseHeaders()||"")};$.url.indexOf("file://")===0&&(F.status<200||F.status>599)?D.status=200:D.status=F.status,D.url="responseURL"in F?F.responseURL:D.headers.get("X-Request-URL");var j="response"in F?F.response:F.responseText;setTimeout(function(){R(new H(j,D))},0)},F.onerror=function(){setTimeout(function(){O(new TypeError("Network request failed"))},0)},F.ontimeout=function(){setTimeout(function(){O(new TypeError("Network request timed out"))},0)},F.onabort=function(){setTimeout(function(){O(new o.DOMException("Aborted","AbortError"))},0)};function m(D){try{return D===""&&a.location.href?a.location.href:D}catch{return D}}if(F.open($.method,m($.url),!0),$.credentials==="include"?F.withCredentials=!0:$.credentials==="omit"&&(F.withCredentials=!1),"responseType"in F&&(c.blob?F.responseType="blob":c.arrayBuffer&&(F.responseType="arraybuffer")),E&&typeof E.headers=="object"&&!(E.headers instanceof y||a.Headers&&E.headers instanceof a.Headers)){var v=[];Object.getOwnPropertyNames(E.headers).forEach(function(D){v.push(d(D)),F.setRequestHeader(D,p(E.headers[D]))}),$.headers.forEach(function(D,j){v.indexOf(j)===-1&&F.setRequestHeader(j,D)})}else $.headers.forEach(function(D,j){F.setRequestHeader(j,D)});$.signal&&($.signal.addEventListener("abort",T),F.onreadystatechange=function(){F.readyState===4&&$.signal.removeEventListener("abort",T)}),F.send(typeof $._bodyInit>"u"?null:$._bodyInit)})}return h.polyfill=!0,a.fetch||(a.fetch=h,a.Headers=y,a.Request=N,a.Response=H),o.Headers=y,o.Request=N,o.Response=H,o.fetch=h,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t})(sc,sc.exports)),sc.exports}var FL=NL();const gm=xn(FL);var UL=Object.defineProperty,zL=Object.defineProperties,jL=Object.getOwnPropertyDescriptors,ym=Object.getOwnPropertySymbols,WL=Object.prototype.hasOwnProperty,qL=Object.prototype.propertyIsEnumerable,mm=(e,t,n)=>t in e?UL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bm=(e,t)=>{for(var n in t||(t={}))WL.call(t,n)&&mm(e,n,t[n]);if(ym)for(var n of ym(t))qL.call(t,n)&&mm(e,n,t[n]);return e},wm=(e,t)=>zL(e,jL(t));const HL={Accept:"application/json","Content-Type":"application/json"},KL="POST",vm={headers:HL,method:KL},Em=10;let nU=class{constructor(t,n=!1){if(this.url=t,this.disableProviderPing=n,this.events=new xa.EventEmitter,this.isAvailable=!1,this.registering=!1,!lm(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,n){this.events.on(t,n)}once(t,n){this.events.once(t,n)}off(t,n){this.events.off(t,n)}removeListener(t,n){this.events.removeListener(t,n)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const n=Vr(t),r=await(await gm(this.url,wm(bm({},vm),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(t.id,n)}}async register(t=this.url){if(!lm(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const n=Vr({id:1,jsonrpc:"2.0",method:"test",params:[]});await gm(t,wm(bm({},vm),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const n=typeof t.data=="string"?_a(t.data):t.data;this.events.emit("payload",n)}onError(t,n){const r=this.parseError(n),i=r.message||r.toString(),s=I2(t,i);this.events.emit("payload",s)}parseError(t,n=this.url){return _2(t,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Em&&this.events.setMaxListeners(Em)}};var VL=20,GL=1,Di=1e6,xm=1e6,ZL=-7,YL=21,JL=!1,Ca="[big.js] ",Hi=Ca+"Invalid ",Tu=Hi+"decimal places",QL=Hi+"rounding mode",R2=Ca+"Division by zero",$e={},Fn=void 0,XL=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function P2(){function e(t){var n=this;if(!(n instanceof e))return t===Fn?P2():new e(t);if(t instanceof e)n.s=t.s,n.e=t.e,n.c=t.c.slice();else{if(typeof t!="string"){if(e.strict===!0&&typeof t!="bigint")throw TypeError(Hi+"value");t=t===0&&1/t<0?"-0":String(t)}e7(n,t)}n.constructor=e}return e.prototype=$e,e.DP=VL,e.RM=GL,e.NE=ZL,e.PE=YL,e.strict=JL,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function e7(e,t){var n,r,i;if(!XL.test(t))throw Error(Hi+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),i=t.length,r=0;r<i&&t.charAt(r)=="0";)++r;if(r==i)e.c=[e.e=0];else{for(;i>0&&t.charAt(--i)=="0";);for(e.e=n-r-1,e.c=[],n=0;r<=i;)e.c[n++]=+t.charAt(r++)}return e}function Ki(e,t,n,r){var i=e.c;if(n===Fn&&(n=e.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(QL);if(t<1)r=n===3&&(r||!!i[0])||t===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(r||i[1]!==Fn))),i.length=1,r?(e.e=e.e-t+1,i[0]=1):i[0]=e.e=0;else if(t<i.length){if(r=n===1&&i[t]>=5||n===2&&(i[t]>5||i[t]===5&&(r||i[t+1]!==Fn||i[t-1]&1))||n===3&&(r||!!i[0]),i.length=t,r){for(;++i[--t]>9;)if(i[t]=0,t===0){++e.e,i.unshift(1);break}}for(t=i.length;!i[--t];)i.pop()}return e}function Vi(e,t,n){var r=e.e,i=e.c.join(""),s=i.length;if(t)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+="0";else r<s&&(i=i.slice(0,r)+"."+i.slice(r));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return e.s<0&&n?"-"+i:i}$e.abs=function(){var e=new this.constructor(this);return e.s=1,e};$e.cmp=function(e){var t,n=this,r=n.c,i=(e=new n.constructor(e)).c,s=n.s,o=e.s,a=n.e,c=e.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-o:0;if(s!=o)return s;if(t=s<0,a!=c)return a>c^t?1:-1;for(o=(a=r.length)<(c=i.length)?a:c,s=-1;++s<o;)if(r[s]!=i[s])return r[s]>i[s]^t?1:-1;return a==c?0:a>c^t?1:-1};$e.div=function(e){var t=this,n=t.constructor,r=t.c,i=(e=new n(e)).c,s=t.s==e.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>Di)throw Error(Tu);if(!i[0])throw Error(R2);if(!r[0])return e.s=s,e.c=[e.e=0],e;var a,c,u,l,f,d=i.slice(),p=a=i.length,b=r.length,y=r.slice(0,a),w=y.length,A=e,B=A.c=[],_=0,M=o+(A.e=t.e-e.e)+1;for(A.s=s,s=M<0?0:M,d.unshift(0);w++<a;)y.push(0);do{for(u=0;u<10;u++){if(a!=(w=y.length))l=a>w?1:-1;else for(f=-1,l=0;++f<a;)if(i[f]!=y[f]){l=i[f]>y[f]?1:-1;break}if(l<0){for(c=w==a?i:d;w;){if(y[--w]<c[w]){for(f=w;f&&!y[--f];)y[f]=9;--y[f],y[w]+=10}y[w]-=c[w]}for(;!y[0];)y.shift()}else break}B[_++]=l?u:++u,y[0]&&l?y[w]=r[p]||0:y=[r[p]]}while((p++<b||y[0]!==Fn)&&s--);return!B[0]&&_!=1&&(B.shift(),A.e--,M--),_>M&&Ki(A,M,n.RM,y[0]!==Fn),A};$e.eq=function(e){return this.cmp(e)===0};$e.gt=function(e){return this.cmp(e)>0};$e.gte=function(e){return this.cmp(e)>-1};$e.lt=function(e){return this.cmp(e)<0};$e.lte=function(e){return this.cmp(e)<1};$e.minus=$e.sub=function(e){var t,n,r,i,s=this,o=s.constructor,a=s.s,c=(e=new o(e)).s;if(a!=c)return e.s=-c,s.plus(e);var u=s.c.slice(),l=s.e,f=e.c,d=e.e;if(!u[0]||!f[0])return f[0]?e.s=-c:u[0]?e=new o(s):e.s=1,e;if(a=l-d){for((i=a<0)?(a=-a,r=u):(d=l,r=f),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((i=u.length<f.length)?u:f).length,a=c=0;c<n;c++)if(u[c]!=f[c]){i=u[c]<f[c];break}if(i&&(r=u,u=f,f=r,e.s=-e.s),(c=(n=f.length)-(t=u.length))>0)for(;c--;)u[t++]=0;for(c=t;n>a;){if(u[--n]<f[n]){for(t=n;t&&!u[--t];)u[t]=9;--u[t],u[n]+=10}u[n]-=f[n]}for(;u[--c]===0;)u.pop();for(;u[0]===0;)u.shift(),--d;return u[0]||(e.s=1,u=[d=0]),e.c=u,e.e=d,e};$e.mod=function(e){var t,n=this,r=n.constructor,i=n.s,s=(e=new r(e)).s;if(!e.c[0])throw Error(R2);return n.s=e.s=1,t=e.cmp(n)==1,n.s=i,e.s=s,t?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(e),r.DP=i,r.RM=s,this.minus(n.times(e)))};$e.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e};$e.plus=$e.add=function(e){var t,n,r,i=this,s=i.constructor;if(e=new s(e),i.s!=e.s)return e.s=-e.s,i.minus(e);var o=i.e,a=i.c,c=e.e,u=e.c;if(!a[0]||!u[0])return u[0]||(a[0]?e=new s(i):e.s=i.s),e;if(a=a.slice(),t=o-c){for(t>0?(c=o,r=u):(t=-t,r=a),r.reverse();t--;)r.push(0);r.reverse()}for(a.length-u.length<0&&(r=u,u=a,a=r),t=u.length,n=0;t;a[t]%=10)n=(a[--t]=a[t]+u[t]+n)/10|0;for(n&&(a.unshift(n),++c),t=a.length;a[--t]===0;)a.pop();return e.c=a,e.e=c,e};$e.pow=function(e){var t=this,n=new t.constructor("1"),r=n,i=e<0;if(e!==~~e||e<-xm||e>xm)throw Error(Hi+"exponent");for(i&&(e=-e);e&1&&(r=r.times(t)),e>>=1,!!e;)t=t.times(t);return i?n.div(r):r};$e.prec=function(e,t){if(e!==~~e||e<1||e>Di)throw Error(Hi+"precision");return Ki(new this.constructor(this),e,t)};$e.round=function(e,t){if(e===Fn)e=0;else if(e!==~~e||e<-Di||e>Di)throw Error(Tu);return Ki(new this.constructor(this),e+this.e+1,t)};$e.sqrt=function(){var e,t,n,r=this,i=r.constructor,s=r.s,o=r.e,a=new i("0.5");if(!r.c[0])return new i(r);if(s<0)throw Error(Ca+"No square root");s=Math.sqrt(+Vi(r,!0,!0)),s===0||s===1/0?(t=r.c.join(""),t.length+o&1||(t+="0"),s=Math.sqrt(t),o=((o+1)/2|0)-(o<0||o&1),e=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):e=new i(s+""),o=e.e+(i.DP+=4);do n=e,e=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==e.c.slice(0,o).join(""));return Ki(e,(i.DP-=4)+e.e+1,i.RM)};$e.times=$e.mul=function(e){var t,n=this,r=n.constructor,i=n.c,s=(e=new r(e)).c,o=i.length,a=s.length,c=n.e,u=e.e;if(e.s=n.s==e.s?1:-1,!i[0]||!s[0])return e.c=[e.e=0],e;for(e.e=c+u,o<a&&(t=i,i=s,s=t,u=o,o=a,a=u),t=new Array(u=o+a);u--;)t[u]=0;for(c=a;c--;){for(a=0,u=o+c;u>c;)a=t[u]+s[c]*i[u-c-1]+a,t[u--]=a%10,a=a/10|0;t[u]=a}for(a?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e};$e.toExponential=function(e,t){var n=this,r=n.c[0];if(e!==Fn){if(e!==~~e||e<0||e>Di)throw Error(Tu);for(n=Ki(new n.constructor(n),++e,t);n.c.length<e;)n.c.push(0)}return Vi(n,!0,!!r)};$e.toFixed=function(e,t){var n=this,r=n.c[0];if(e!==Fn){if(e!==~~e||e<0||e>Di)throw Error(Tu);for(n=Ki(new n.constructor(n),e+n.e+1,t),e=e+n.e+1;n.c.length<e;)n.c.push(0)}return Vi(n,!1,!!r)};$e[Symbol.for("nodejs.util.inspect.custom")]=$e.toJSON=$e.toString=function(){var e=this,t=e.constructor;return Vi(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])};$e.toNumber=function(){var e=+Vi(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(Ca+"Imprecise conversion");return e};$e.toPrecision=function(e,t){var n=this,r=n.constructor,i=n.c[0];if(e!==Fn){if(e!==~~e||e<1||e>Di)throw Error(Hi+"precision");for(n=Ki(new r(n),e,t);n.c.length<e;)n.c.push(0)}return Vi(n,e<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)};$e.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(Ca+"valueOf disallowed");return Vi(e,e.e<=t.NE||e.e>=t.PE,!0)};var iU=P2();/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const $c=globalThis,G0=$c.ShadowRoot&&($c.ShadyCSS===void 0||$c.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Z0=Symbol(),_m=new WeakMap;let O2=class{constructor(t,n,r){if(this._$cssResult$=!0,r!==Z0)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o;const n=this.t;if(G0&&t===void 0){const r=n!==void 0&&n.length===1;r&&(t=_m.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),r&&_m.set(n,t))}return t}toString(){return this.cssText}};const t7=e=>new O2(typeof e=="string"?e:e+"",void 0,Z0),oU=(e,...t)=>{const n=e.length===1?e[0]:t.reduce(((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+e[s+1]),e[0]);return new O2(n,e,Z0)},n7=(e,t)=>{if(G0)e.adoptedStyleSheets=t.map((n=>n instanceof CSSStyleSheet?n:n.styleSheet));else for(const n of t){const r=document.createElement("style"),i=$c.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,e.appendChild(r)}},Sm=G0?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let n="";for(const r of t.cssRules)n+=r.cssText;return t7(n)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:r7,defineProperty:i7,getOwnPropertyDescriptor:s7,getOwnPropertyNames:o7,getOwnPropertySymbols:a7,getPrototypeOf:c7}=Object,Du=globalThis,Am=Du.trustedTypes,u7=Am?Am.emptyScript:"",l7=Du.reactiveElementPolyfillSupport,xo=(e,t)=>e,Ch={toAttribute(e,t){switch(t){case Boolean:e=e?u7:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let n=e;switch(t){case Boolean:n=e!==null;break;case Number:n=e===null?null:Number(e);break;case Object:case Array:try{n=JSON.parse(e)}catch{n=null}}return n}},T2=(e,t)=>!r7(e,t),Im={attribute:!0,type:String,converter:Ch,reflect:!1,useDefault:!1,hasChanged:T2};Symbol.metadata??=Symbol("metadata"),Du.litPropertyMetadata??=new WeakMap;let ds=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,n=Im){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(t,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(t,r,n);i!==void 0&&i7(this.prototype,t,i)}}static getPropertyDescriptor(t,n,r){const{get:i,set:s}=s7(this.prototype,t)??{get(){return this[n]},set(o){this[n]=o}};return{get:i,set(o){const a=i?.call(this);s?.call(this,o),this.requestUpdate(t,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??Im}static _$Ei(){if(this.hasOwnProperty(xo("elementProperties")))return;const t=c7(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(xo("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(xo("properties"))){const n=this.properties,r=[...o7(n),...a7(n)];for(const i of r)this.createProperty(i,n[i])}const t=this[Symbol.metadata];if(t!==null){const n=litPropertyMetadata.get(t);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const n=[];if(Array.isArray(t)){const r=new Set(t.flat(1/0).reverse());for(const i of r)n.unshift(Sm(i))}else t!==void 0&&n.push(Sm(t));return n}static _$Eu(t,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(t.set(r,this[r]),delete this[r]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return n7(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,n,r){this._$AK(t,r)}_$ET(t,n){const r=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,r);if(i!==void 0&&r.reflect===!0){const s=(r.converter?.toAttribute!==void 0?r.converter:Ch).toAttribute(n,r.type);this._$Em=t,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(t,n){const r=this.constructor,i=r._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const s=r.getPropertyOptions(i),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:Ch;this._$Em=i;const a=o.fromAttribute(n,s.type);this[i]=a??this._$Ej?.get(i)??a,this._$Em=null}}requestUpdate(t,n,r){if(t!==void 0){const i=this.constructor,s=this[t];if(r??=i.getPropertyOptions(t),!((r.hasChanged??T2)(s,n)||r.useDefault&&r.reflect&&s===this._$Ej?.get(t)&&!this.hasAttribute(i._$Eu(t,r))))return;this.C(t,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,n,{useDefault:r,reflect:i,wrapped:s},o){r&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,o??n??this[t]),s!==!0||o!==void 0)||(this._$AL.has(t)||(this.hasUpdated||r||(n=void 0),this._$AL.set(t,n)),i===!0&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,s]of this._$Ep)this[i]=s;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[i,s]of r){const{wrapped:o}=s,a=this[i];o!==!0||this._$AL.has(i)||a===void 0||this.C(i,void 0,s,a)}}let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),this._$EO?.forEach((r=>r.hostUpdate?.())),this.update(n)):this._$EM()}catch(r){throw t=!1,this._$EM(),r}t&&this._$AE(n)}willUpdate(t){}_$AE(t){this._$EO?.forEach((n=>n.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((n=>this._$ET(n,this[n]))),this._$EM()}updated(t){}firstUpdated(t){}};ds.elementStyles=[],ds.shadowRootOptions={mode:"open"},ds[xo("elementProperties")]=new Map,ds[xo("finalized")]=new Map,l7?.({ReactiveElement:ds}),(Du.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Y0=globalThis,uu=Y0.trustedTypes,Cm=uu?uu.createPolicy("lit-html",{createHTML:e=>e}):void 0,D2="$lit$",Nr=`lit$${Math.random().toFixed(9).slice(2)}$`,$2="?"+Nr,f7=`<${$2}>`,$i=document,ea=()=>$i.createComment(""),ta=e=>e===null||typeof e!="object"&&typeof e!="function",J0=Array.isArray,d7=e=>J0(e)||typeof e?.[Symbol.iterator]=="function",nd=`[ 	
\f\r]`,no=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Bm=/-->/g,Mm=/>/g,ei=RegExp(`>|${nd}(?:([^\\s"'>=/]+)(${nd}*=${nd}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Rm=/'/g,Pm=/"/g,k2=/^(?:script|style|textarea|title)$/i,L2=e=>(t,...n)=>({_$litType$:e,strings:t,values:n}),cU=L2(1),uU=L2(2),Ps=Symbol.for("lit-noChange"),Mt=Symbol.for("lit-nothing"),Om=new WeakMap,mi=$i.createTreeWalker($i,129);function N2(e,t){if(!J0(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return Cm!==void 0?Cm.createHTML(t):t}const h7=(e,t)=>{const n=e.length-1,r=[];let i,s=t===2?"<svg>":t===3?"<math>":"",o=no;for(let a=0;a<n;a++){const c=e[a];let u,l,f=-1,d=0;for(;d<c.length&&(o.lastIndex=d,l=o.exec(c),l!==null);)d=o.lastIndex,o===no?l[1]==="!--"?o=Bm:l[1]!==void 0?o=Mm:l[2]!==void 0?(k2.test(l[2])&&(i=RegExp("</"+l[2],"g")),o=ei):l[3]!==void 0&&(o=ei):o===ei?l[0]===">"?(o=i??no,f=-1):l[1]===void 0?f=-2:(f=o.lastIndex-l[2].length,u=l[1],o=l[3]===void 0?ei:l[3]==='"'?Pm:Rm):o===Pm||o===Rm?o=ei:o===Bm||o===Mm?o=no:(o=ei,i=void 0);const p=o===ei&&e[a+1].startsWith("/>")?" ":"";s+=o===no?c+f7:f>=0?(r.push(u),c.slice(0,f)+D2+c.slice(f)+Nr+p):c+Nr+(f===-2?a:p)}return[N2(e,s+(e[n]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),r]};class na{constructor({strings:t,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=t.length-1,c=this.parts,[u,l]=h7(t,n);if(this.el=na.createElement(u,r),mi.currentNode=this.el.content,n===2||n===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(i=mi.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const f of i.getAttributeNames())if(f.endsWith(D2)){const d=l[o++],p=i.getAttribute(f).split(Nr),b=/([.?@])?(.*)/.exec(d);c.push({type:1,index:s,name:b[2],strings:p,ctor:b[1]==="."?g7:b[1]==="?"?y7:b[1]==="@"?m7:$u}),i.removeAttribute(f)}else f.startsWith(Nr)&&(c.push({type:6,index:s}),i.removeAttribute(f));if(k2.test(i.tagName)){const f=i.textContent.split(Nr),d=f.length-1;if(d>0){i.textContent=uu?uu.emptyScript:"";for(let p=0;p<d;p++)i.append(f[p],ea()),mi.nextNode(),c.push({type:2,index:++s});i.append(f[d],ea())}}}else if(i.nodeType===8)if(i.data===$2)c.push({type:2,index:s});else{let f=-1;for(;(f=i.data.indexOf(Nr,f+1))!==-1;)c.push({type:7,index:s}),f+=Nr.length-1}s++}}static createElement(t,n){const r=$i.createElement("template");return r.innerHTML=t,r}}function Os(e,t,n=e,r){if(t===Ps)return t;let i=r!==void 0?n._$Co?.[r]:n._$Cl;const s=ta(t)?void 0:t._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),s===void 0?i=void 0:(i=new s(e),i._$AT(e,n,r)),r!==void 0?(n._$Co??=[])[r]=i:n._$Cl=i),i!==void 0&&(t=Os(e,i._$AS(e,t.values),i,r)),t}class p7{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:n},parts:r}=this._$AD,i=(t?.creationScope??$i).importNode(n,!0);mi.currentNode=i;let s=mi.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let u;c.type===2?u=new Ba(s,s.nextSibling,this,t):c.type===1?u=new c.ctor(s,c.name,c.strings,this,t):c.type===6&&(u=new b7(s,this,t)),this._$AV.push(u),c=r[++a]}o!==c?.index&&(s=mi.nextNode(),o++)}return mi.currentNode=$i,i}p(t){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(t,r,n),n+=r.strings.length-2):r._$AI(t[n])),n++}}class Ba{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,n,r,i){this.type=2,this._$AH=Mt,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&t?.nodeType===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=Os(this,t,n),ta(t)?t===Mt||t==null||t===""?(this._$AH!==Mt&&this._$AR(),this._$AH=Mt):t!==this._$AH&&t!==Ps&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):d7(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==Mt&&ta(this._$AH)?this._$AA.nextSibling.data=t:this.T($i.createTextNode(t)),this._$AH=t}$(t){const{values:n,_$litType$:r}=t,i=typeof r=="number"?this._$AC(t):(r.el===void 0&&(r.el=na.createElement(N2(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===i)this._$AH.p(n);else{const s=new p7(i,this),o=s.u(this.options);s.p(n),this.T(o),this._$AH=s}}_$AC(t){let n=Om.get(t.strings);return n===void 0&&Om.set(t.strings,n=new na(t)),n}k(t){J0(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of t)i===n.length?n.push(r=new Ba(this.O(ea()),this.O(ea()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(t=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);t!==this._$AB;){const r=t.nextSibling;t.remove(),t=r}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}}class $u{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,n,r,i,s){this.type=1,this._$AH=Mt,this._$AN=void 0,this.element=t,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Mt}_$AI(t,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)t=Os(this,t,n,0),o=!ta(t)||t!==this._$AH&&t!==Ps,o&&(this._$AH=t);else{const a=t;let c,u;for(t=s[0],c=0;c<s.length-1;c++)u=Os(this,a[r+c],n,c),u===Ps&&(u=this._$AH[c]),o||=!ta(u)||u!==this._$AH[c],u===Mt?t=Mt:t!==Mt&&(t+=(u??"")+s[c+1]),this._$AH[c]=u}o&&!i&&this.j(t)}j(t){t===Mt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class g7 extends $u{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Mt?void 0:t}}class y7 extends $u{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==Mt)}}class m7 extends $u{constructor(t,n,r,i,s){super(t,n,r,i,s),this.type=5}_$AI(t,n=this){if((t=Os(this,t,n,0)??Mt)===Ps)return;const r=this._$AH,i=t===Mt&&r!==Mt||t.capture!==r.capture||t.once!==r.once||t.passive!==r.passive,s=t!==Mt&&(r===Mt||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class b7{constructor(t,n,r){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(t){Os(this,t)}}const w7=Y0.litHtmlPolyfillSupport;w7?.(na,Ba),(Y0.litHtmlVersions??=[]).push("3.3.1");const v7=(e,t,n)=>{const r=n?.renderBefore??t;let i=r._$litPart$;if(i===void 0){const s=n?.renderBefore??null;r._$litPart$=i=new Ba(t.insertBefore(ea(),s),s,void 0,n??{})}return i._$AI(e),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Q0=globalThis;class kc extends ds{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=v7(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Ps}}kc._$litElement$=!0,kc.finalized=!0,Q0.litElementHydrateSupport?.({LitElement:kc});const E7=Q0.litElementPolyfillSupport;E7?.({LitElement:kc});(Q0.litElementVersions??=[]).push("4.2.1");export{Dh as $,Zi as A,Gi as B,Ta as C,Oa as D,J2 as E,nl as F,i5 as G,Mh as H,D7 as I,T7 as J,I5 as K,ib as L,Ep as M,K as N,ol as O,ae as P,J as Q,ue as R,ne as S,ce as T,se as U,ua as V,HE as W,JE as X,zn as Y,ge as Z,Dm as _,A7 as a,EF as a$,Jt as a0,cb as a1,$h as a2,Ye as a3,Ts as a4,EE as a5,ZE as a6,pE as a7,L7 as a8,ax as a9,qN as aA,vI as aB,CI as aC,Zh as aD,WN as aE,U7 as aF,W7 as aG,HN as aH,z7 as aI,Nb as aJ,j7 as aK,zN as aL,Vv as aM,DN as aN,kN as aO,yu as aP,I0 as aQ,vF as aR,KN as aS,wF as aT,g6 as aU,$0 as aV,Kv as aW,QI as aX,XI as aY,Pg as aZ,rb as a_,LN as aa,ui as ab,Bi as ac,Zc as ad,le as ae,Kt as af,p0 as ag,fv as ah,Wr as ai,UN as aj,es as ak,pr as al,FN as am,cx as an,n8 as ao,gb as ap,kh as aq,Lh as ar,O7 as as,P7 as at,r5 as au,jN as av,YN as aw,Ls as ax,qv as ay,$N as az,C7 as b,JF as b$,xF as b0,_F as b1,SF as b2,_N as b3,mN as b4,bN as b5,Kr as b6,ev as b7,EN as b8,Si as b9,_0 as bA,ON as bB,TN as bC,Wv as bD,NN as bE,vN as bF,PN as bG,OF as bH,BF as bI,N0 as bJ,CF as bK,TF as bL,IF as bM,MF as bN,J$ as bO,xa as bP,qF as bQ,KF as bR,HF as bS,$F as bT,LF as bU,zk as bV,SL as bW,X$ as bX,w2 as bY,QF as bZ,eU as b_,Hn as ba,Oi as bb,Gt as bc,pn as bd,xN as be,Mn as bf,yN as bg,_u as bh,va as bi,wu as bj,ie as bk,Pi as bl,Ko as bm,xu as bn,R8 as bo,ha as bp,k7 as bq,MN as br,AN as bs,SN as bt,BN as bu,CN as bv,Iw as bw,w_ as bx,RN as by,wN as bz,he as c,TL as c0,VF as c1,AF as c2,RF as c3,YD as c4,PF as c5,Vr as c6,_a as c7,_L as c8,I2 as c9,DL as ca,M2 as cb,A2 as cc,nU as cd,iU as ce,t7 as cf,oU as cg,kc as ch,cU as ci,eR as cj,uU as ck,Mt as cl,T2 as cm,Ch as cn,Ps as co,D8 as cp,j2 as d,_o as e,zm as f,c5 as g,nb as h,Zm as i,$7 as j,Km as k,R7 as l,K2 as m,Un as n,xs as o,hr as p,gp as q,ia as r,rd as s,sa as t,s5 as u,km as v,Q2 as w,M7 as x,B7 as y,Gn as z};
